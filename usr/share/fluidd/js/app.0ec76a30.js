(function(){var e={32968:function(e){e.exports={app:{bedmesh:{label:{box_scale:"Box scale",flat_surface:"Show flat plane",mesh_matrix:"Mesh matrix",probed_matrix:"Probed matrix",profile_name:"Profile Name",remove_profile:"Remove %{name} profile",scale:"Color scale",wireframe:"Wireframe"},msg:{hint:"If saving as something other than %{name}, you can choose to also remove the %{name} profile",not_found:"No existing bed meshes found.",not_loaded:"No mesh loaded"},tooltip:{calibrate:"Begins a new calibration, saving as profile 'default'",delete:"Delete Profile. This WILL restart your printer",load:"Load Profile",save:"Commits calibrated profile to printer.cfg. This WILL restart your printer"}},chart:{label:{current:"Actual",item:"Name",off:"Chart off",on:"Chart on",power:"Power",target:"Target",rate_of_change:"Change"},tooltip:{help:"Hold shift to zoom.<br />Click an item to toggle in the graph.<br />Click a power to toggle in the graph."}},console:{label:{auto_scroll:"Auto scroll",flip_layout:"Flip layout",hide_temp_waits:"Hide temp waits"},placeholder:{command:"'tab' for autocomplete, 'help' for commands 'arrows' for history"}},endpoint:{error:{cant_connect:"Something went wrong, and fluidd can't reach the destination. Are you sure this is the correct address?",cors_error:"blocked by CORS policy",cors_note:'This may mean you need to modify your moonraker configuration. Please see the documentation on multi printer setups <a href="%{url}" target="_blank">here</a>'},hint:{add_printer:"E.g., http://fluiddpi.local"},msg:{trouble:'Having trouble? <a href="%{url}" target="_blank">See here</a> for more information.'},tooltip:{endpoint_examples:"Enter your API URL.<br />Some examples might be;<br /><blockquote>fluidd.local, https://192.168.1.150</blockquote>"}},endstop:{label:{open:"OPEN",triggered:"TRIGGERED"},msg:{subtitle:"Use the refresh button to update endstop status."}},file_system:{filters:{label:{print_start_time:"Filter printed",print_start_time_desc:"Filters out items you've already printed."}},label:{dir_name:"Directory name",disk_usage:"Disk Usage",diskinfo:"Disk Information",downloaded:"Downloaded",file_name:"Filename",transfer_rate:"Transfer rate",uploaded:"Uploaded",view_section_documentation:"View '%{section}' documentation"},msg:{confirm:"Are you sure? This will delete all files and folders.",not_found:"No files found",processing:"Processing"},overlay:{label:"<strong>Drag</strong> a file here"},title:{add_dir:"Add Directory",add_file:"Add File",command_palette:"Command Palette",download_file:"Retrieving file",rename_dir:"Rename Directory",rename_file:"Rename File",upload_file:"Uploading file | Uploading files"},tooltip:{low_on_space:"Low on disk space",root_disabled:"{root} root is not available. Please check your logs."},url:{klipper_config:"https://www.klipper3d.org/Config_Reference.html#%{hash}",moonraker_config:"https://moonraker.readthedocs.io/en/latest/configuration/#%{hash}"}},gcode:{btn:{load_current_file:"Load Current File"},label:{current_layer_height:"Current Layer Height",follow_progress:"Follow progress",layer:"Layer",layers:"Layers",parsed:"Parsed",show_current_layer:"Show current layer",show_extrusions:"Show extrusions",show_moves:"Show moves",show_next_layer:"Show next layer",show_previous_layer:"Show previous layer",show_retractions:"Show retractions",parsing_file:"Parsing file"},msg:{confirm:'The file "%{filename}" is %{size}, this might be resource intensive for your system. Are you sure?'}},general:{btn:{add:"Add",add_dir:"Add Directory",add_file:"Add File",add_printer:"Add printer",adjust_layout:"Adjust dashboard layout",all:"All",calibrate:"Calibrate",cancel:"Cancel",clear_profile:"Clear Profile",close:"Close",config_reference:"Config Reference",download:"Download",edit:"Edit",exit_layout:"Exit layout mode",extrude:"Extrude",heaters_off:"Heaters off",load_all:"Load all",more_information:"More information",pause:"Pause",preheat:"Preheat",presets:"Presets",preview_gcode:"Preview Gcode",quad_gantry_level:"QGL",reboot:"Reboot",refresh:"Refresh",remove:"Remove",remove_all:"Remove All",rename:"Rename",reprint:"Re-Print",reset_file:"Clear File",reset_layout:"Reset Layout",restart_firmware:"Firmware Restart",restart_service:"Restart %{service}",restart_service_klipper:"Restart Klipper",restart_service_moonraker:"Restart Moonraker",resume:"Resume",retract:"Retract",save:"Save",save_as:"Save As",save_restart:"Save & Restart",send:"Send",set_color:"Set Color",shutdown:"Shutdown",snooze:"Snooze",socket_reconnect:"Re-Connect",socket_refresh:"Force refresh",upload:"Upload",upload_print:"Upload & Print",view:"View",reset_stats:"Reset Stats"},error:{app_setup_link:'Fluidd setup requirements can be found <a target="_blank" href="%{url}">here.</a>',app_warnings_found:"%{appName} warnings found.",components_config:'Moonraker plugin configuration can be found <a target="_blank" href="%{url}">here.</a>',failed_components:"Moonraker has failed plugins, please check your logs, update your configuration and restart moonraker."},label:{accel_to_decel:"Accel to Decel",acceleration:"Acceleration",actual_time:"Actual",add_camera:"Add Camera",add_filter:"Add Filter",add_preset:"Add Preset",add_user:"Add user",api_key:"Api Key",api_url:"API URL",category:"Category",change_password:"Change password",clear_all:"Clear all",color:"Color",confirm:"Confirm",current_password:"Current password",disabled_while_printing:"Disabled while printing",edit_camera:"Edit Camera",edit_filter:"Edit Filter",edit_preset:"Edit Preset",edit_user:"Edit user",extrude_length:"Extrude Length",extrude_speed:"Extrude Speed",filament:"Filament",file:"File",finish_time:"Finish",flow:"Flow",free:"free",heaters_busy:"The printer is currently busy. Turning off the heaters may result in a failed print.",high:"High",host:"Host",layer:"Layer",layout:"Layout",longest_job:"Longest job",low:"Low",m117:"M117",name:"Name",new_password:"New password",no_notifications:"No notifications",on:"On",off:"Off",password:"Password",power:"Power",pressure_advance:"Pressure Advance",printers:"Printers",progress:"Progress",requested_speed:"Speed",retract_length:"Retract Length",retract_speed:"Retract Speed",save_as:"Save As",services:"Services",slicer:"Slicer",smooth_time:"Smooth Time",speed:"Speed",sqv:"Square Corner Velocity",total:"Total",total_filament:"Total filament used",total_filament_avg:"Avg per print",total_jobs:"Total print jobs",total_print_time:"Total print time",total_print_time_avg:"Avg per print",total_time:"Total time",total_time_avg:"Avg per print",uncategorized:"Uncategorized",unretract_extra_length:"Unretract Extra Length",unretract_speed:"Unretract Speed",used:"used",variance:"Variance",velocity:"Velocity",visible:"Visible",z_offset:"Z Offset",unsaved_changes:"Unsaved Changes",alias:"Alias",apply_z_offset:"Apply and Save Z_Offset",edit_category:"Edit category",add_category:"Add category",file_time:"File"},msg:{password_changed:"Password changed",wrong_password:"Oops, something went wrong. Is your password correct?"},simple_form:{error:{arrayofnums:"Only numbers",exists:"Already exists",invalid_number:"Invalid Number",invalid_url:"Invalid URL",invalid_expression:"Invalid Expression",max:"Max %{max}",min:"Min %{min}",min_or_0:"Min %{min} or 0",password_username:"Cannot match username",required:"Required"},msg:{confirm:"Are you sure?",confirm_reboot_host:"Are you sure? This will reboot your host system.",confirm_shutdown_host:"Are you sure? This will shutdown your host system.",confirm_service_restart:"Are you sure you want to restart the %{name} service?",confirm_service_stop:"Are you sure you want to stop the %{name} service?",confirm_power_device_toggle:"Are you sure? This will toggle the power of this device.",unsaved_changes:"You have unsaved changes. Are you sure you want to close this file?",apply_z_offset_endstop:"Endstop Z-Offset will be calculated and updated from the current Z-Offset.",apply_z_offset_probe:"Probe/Bltouch Z-Offset will be calculated and updated from the current Z-Offset."}},table:{header:{actions:"Actions",end_time:"Ended",estimated_time:"Estimated time",filament:"Filament",filament_used:"Used filament",filament_weight_total:"Filament weight",first_layer_bed_temp:"First layer bed temp",first_layer_extr_temp:"First layer extruder temp",first_layer_height:"First layer height",height:"Height",last_printed:"Last printed",layer_height:"Layer height",modified:"Modified",name:"Name",print_duration:"Print duration",size:"Size",slicer:"Slicer",slicer_version:"Slicer version",start_time:"Started",status:"Status",total_duration:"Total duration"}},title:{add_printer:"Add Printer",bedmesh:"Bed Mesh",bedmesh_controls:"Bed Mesh Controls",camera:"Camera | Cameras",config_files:"Configuration Files",configure:"Configuration",console:"Console",endstops:"Endstops",fans_outputs:"Fans & Outputs",gcode_preview:"Gcode Preview",history:"History",home:"Home",jobs:"Jobs",limits:"Printer Limits",macros:"Macros",other_files:"Other Files",retract:"Firmware Retraction",runout_sensors:"Runout Sensors",settings:"Settings",stats:"Printer Stats",system:"System",system_overview:"System Information",temperature:"Thermals",timelapse:"Timelapse",tool:"Tool",tune:"Tune"},tooltip:{estop:"Emergency Stop",reload_klipper:"Reloads klipper configuration.",reload_restart_klipper:"Reloads klipper configuration and restarts MCU's.",restart_klipper:"Restarts the klipper system service."}},history:{msg:{confirm_jobs:"Are you sure? This will clear all jobs.",confirm_stats:"Are you sure? This will clear all stats."}},printer:{state:{busy:"Busy",cancelled:"Cancelled",complete:"Complete",idle:"Idle",loading:"Loading",paused:"Paused",printing:"Printing",ready:"Ready",standby:"Standby"}},setting:{btn:{add_camera:"Add Camera",add_category:"Add Category",add_filter:"Add Filter",add_thermal_preset:"Add Preset",add_user:"Add user",reset:"Reset",select_theme:"Select Theme"},camera_type_options:{mjpegadaptive:"MJPEG Adaptive",mjpegstream:"MJPEG Stream",video:"IP Camera",iframe:"HTTP page"},camera_rotate_options:{90:"90°",180:"180°",270:"270°",none:"None"},label:{all_off:"All off",all_on:"All on",auto_edit_extensions:"Extensions to automatically open in edit mode",camera_flip_x:"Flip horizontally",camera_flip_y:"Flip vertically",camera_rotate_by:"Rotate by",camera_stream_type:"Stream type",camera_url:"Camera Url",confirm_on_estop:"Require confirm on Emergency Stop",confirm_on_power_device_change:"Require confirm on Device Power changes",confirm_dirty_editor_close:"Require confirm when closing the editor with unsaved changes",contains:"Contains",dark_mode:"Dark mode",default_extrude_length:"Default extrude length",default_extrude_speed:"Default extrude speed",default_toolhead_move_length:"Default toolhead move length",default_toolhead_xy_speed:"Default toolhead XY speed",default_toolhead_z_speed:"Default toolhead Z speed",draw_background:"Draw Background",enable:"Enable",enable_notifications:"Enable notifications",expression:"Expression",extrusion_line_width:"Extrusion Line Width",flip_horizontal:"Horizontal Flip",flip_vertical:"Vertical Flip",filter:"Filter | Filters",fps_target:"FPS Target",fps_idle_target:"FPS Target when not in focus",height:"Height",gcode_coords:"Use GCode Coordinates",group_lower_layers:"Group lower layers",invert_x_control:"Invert X control",invert_y_control:"Invert Y control",invert_z_control:"Invert Z control",language:"Display Language",move_line_width:"Move Line Width",primary_color:"Primary color",printer_name:"Printer Name",reset:"Reset settings",retraction_icon_size:"Retraction Icon Size",show_animations:"Show animations",show_barometric_pressure:"Show barometric pressure",show_rate_of_change:"Show temperature rate of change",show_relative_humidity:"Show relative humidity",starts_with:"Starts with",theme_preset:"Community preset",thermal_preset_gcode:"GCode",thermal_preset_name:"Preset Name",toolhead_move_distances:"Toolhead distance values",type:"Type",z_adjust_values:"Z Adjust values",date_time_format:"Date and Time format"},timer_options:{duration:"Duration only",filament:"Filament Estimation",file:"File Estimation",slicer:"Slicer"},title:{authentication:"Authentication",console:"Console",camera:"Camera | Cameras",file_editor:"File Editor",gcode_preview:"Gcode Preview",general:"General",macros:"Macros",theme:"Theme",thermal_presets:"Thermal Presets",tool:"Tool"},tooltip:{gcode_coords:"Use GCode position instead of toolhead position on dashboard"}},socket:{msg:{connecting:"Connecting to moonraker...",no_connection:"No moonraker connection. Please check moonraker status and / or refresh."}},system_info:{label:{capacity:"Capacity",cpu_desc:"CPU Description",distribution_codename:"Codename",distribution_like:"Distribution Like",distribution_name:"Distribution",frequency:"Frequency",hardware_desc:"Hardware Description",hostname:"Hostname",klipper_load:"Klipper Load",manufactured:"Manufactured",manufacturer:"Manufacturer",mcu_awake:"{mcu} Awake Time",mcu_bandwidth:"{mcu} Bandwidth",mcu_information:"{mcu} Information",mcu_load:"{mcu} Load",micro_controller:"Micro-Controller",model:"CPU Model",moonraker_load:"Moonraker Load",processor_desc:"Processor",product_name:"Product Name",serial_number:"Serial Number",system_load:"System Load",system_memory:"System Memory",system_utilization:"System Utilization",total_memory:"Total Memory",version:"Version"}},tool:{btn:{home_x:"X",home_y:"Y",home_all:"All"},tooltip:{extruder_disabled:"extruder disabled, below min_extrude_temp (%{min}<small>°C</small>)",home_xy:"Home XY",home_z:"Home Z",motors_off:"MOTORS OFF",z_tilt_adjust:"Z_Tilt_Adjust",quad_gantry_level:"QGL",screws_tilt_calculate:"Screws_Tilt_Calculate",bed_screws_adjust:"BED_SCREWS_ADJUST"}},version:{btn:{check_for_updates:"Check for updates",finish:"Finish",update:"Update",view_versions:"View versions"},label:{commit_history:"Commit History",commits_on:"commits on",committed:"Committed",dirty:"DIRTY",invalid:"INVALID",os_packages:"OS Packages",package_list:"Package List",up_to_date:"UP TO DATE",updates_available:"Updates are available"},status:{finished:"Updates finished",updating:"Updating..."},title:"Software Updates",tooltip:{commit_history:"Commit history",dirty:"indicates a detached head, not on master or an invalid origin",invalid:"indicates local changes to the repo",packages:"Packages",release_notes:"Release notes"}},timelapse:{btn:{render:"Render",save_frames:"Save Frames"},error:{newframe:"Error taking timelapse frame"},label:{frames:"%{frames} frame | %{frames} frames",length:"Estimated length: %{length}",frame:"Frame | Frames"},title:{timelapse_settings:"Timelapse Settings",timelapse_status:"Timelapse Status",render_settings:"Render Settings"},tooltip:{managed_by_moonraker:"Managed by your moonraker configuration"},setting:{enable:"Enabled",auto_render:"Auto Render",crf:"Constant Rate Factor",duplicatelastframe:"Duplicate last frames",fw_retract:"Use Firmware Retraction",gcode_verbose:"Verbose Gcode",mode:"Mode",mode_layermacro:"Layer Macro",mode_hyperlapse:"Hyperlapse",hyperlapse_cycle:"Hyperlapse Cycle",output_framerate:"Output Framerate",park_retract_distance:"Park Retraction Distance",park_retract_speed:"Park Retraction Speed",park_extrude_distance:"Park Extrude Distance",park_extrude_speed:"Park Extrude Speed",parkhead:"Park Head",park_time:"Park Time",park_travel_speed:"Park Travel Speed",park_custom_pos_x:"Park Position X",park_custom_pos_y:"Park Position Y",park_custom_pos_dz:"Park Position Z-Hop",parkpos:{label:"Park Position",custom:"Custom",front_left:"Front Left",front_right:"Front Right",center:"Center",back_left:"Back Left",back_right:"Back Right"},previewimage:"Generate Thumbnail",saveframes:"Save Frames",stream_delay_compensation:"Delay Compensation",targetlength:"Target Length",variable_fps:"Variable FPS",variable_fps_min:"Minimum Framerate",variable_fps_max:"Maximum Framerate"}}}}},70691:function(e,t,s){"use strict";s.d(t,{i:function(){return a}});var r=s(77218);const a={async login(e,t){const s=await r.Z.post("/access/login",{username:e,password:t});return s},async logout(){return await r.Z.post("access/logout")},async getOneShot(){return await r.Z.get("/access/oneshot_token")},async getCurrentUser(e){return await r.Z.get("/access/user",e)},async getUsers(){return await r.Z.get("/access/users/list")},async addUser(e){return await r.Z.post("/access/user",e)},async removeUser(e){return await r.Z["delete"]("/access/user",{params:{username:e.username}})},async changePassword(e,t){return await r.Z.post("/access/user/password",{password:e,new_password:t})},async getApiKey(){return await r.Z.get("/access/api_key")},async refreshApiKey(){return await r.Z.post("/access/api_key")}}},77218:function(e,t,s){"use strict";var r=s(68313),a=s(7499),i=s(44652),n=s.n(i),o=s(9669),l=s.n(o),c=s(47307);const d=l().create({withAuth:!0,timeout:c.OH.NETWORK_REQUEST_TIMEOUT});d.prototype.CancelToken=l().CancelToken,d.prototype.isCancel=l().isCancel;const p=["/access/login","/access/refresh_token"],u=["/access/login"],m=async e=>{if(e.headers||(e.headers={}),e.headers.Accept="application/json",e.headers["Content-Type"]="application/json","/access/refresh_jwt"!==e.url){const t=await r.Z.dispatch("auth/checkToken");if(t){const t=await r.Z.dispatch("auth/refreshTokens");t&&(e.headers.Authorization=`Bearer ${t}`)}}const t=e.url||"";return p.includes(t)&&(e.withAuth=!1),e},h=e=>{var t,s;switch(e.status){case 200:(null===(t=r.Z.state.config)||void 0===t?void 0:t.apiUrl)&&e.config.baseURL===(null===(s=r.Z.state.config)||void 0===s?void 0:s.apiUrl)&&e.config.withAuth&&r.Z.commit("auth/setAuthenticated",!0);break;default:}return e},g=e=>{var t;let s;if(!e.response)return e.message&&(s=e.message),n().debug(s||"Network error"),Promise.reject(e);s="object"===typeof e.response.data?null===(t=e.response.data.error)||void 0===t?void 0:t.message:e.response.data;const i=e.config.url||"";switch(e.response.status){case 500:n().debug(e.response.status,e.message,s),a.N.$emit(s||"Server error",{type:a.o.error});break;case 400:n().debug(e.response.status,e.message,s),u.includes(i)||a.N.$emit(s||"Server error",{type:a.o.error});break;case 401:e.config.withAuth&&r.Z.dispatch("auth/logout");break;case 404:n().debug(e.response.status,e.message,s);break;default:n().debug(e.response.status,e.message),a.N.$emit(s||"Server error",{type:a.o.error})}return Promise.reject(e)};d.interceptors.request.use(m,g),d.interceptors.response.use(h,g),t["Z"]=d},63362:function(e,t,s){"use strict";s.d(t,{r:function(){return c}});var r=s(20144),a=s(47307),i=s(68313),n=s(44652),o=s.n(n);const l=(e,t)=>{var s,a;r["default"].$socket?(null===(s=i.Z.state.socket)||void 0===s?void 0:s.disconnecting)||(null===(a=i.Z.state.socket)||void 0===a?void 0:a.connecting)?o().debug("Socket emit denied, in disonnecting state:",e,t):r["default"].$socket.emit(e,t):o().warn("Socket emit denied, socket not ready.",e,t)},c={async machineServicesRestart(e){const t=a.hw.onServiceRestart;l("machine.services.restart",{dispatch:"void",params:{service:e},wait:t})},async machineServicesStart(e){const t=a.hw.onServiceStart;l("machine.services.start",{dispatch:"void",params:{service:e},wait:t})},async machineServicesStop(e){const t=a.hw.onServiceStop;l("machine.services.stop",{dispatch:"void",params:{service:e},wait:t})},async machineReboot(){l("machine.reboot",{dispatch:"void"})},async machineShutdown(){l("machine.shutdown",{dispatch:"void"})},async machineUpdateStatus(e=!1){i.Z.dispatch("version/refreshing",!0),l("machine.update.status",{dispatch:"version/onUpdateStatus",params:{refresh:e}})},async machineUpdateRecover(e,t=!1){let s="version/onUpdatedClient";"moonraker"===e&&(s="version/onUpdatedMoonraker"),"klipper"===e&&(s="version/onUpdatedKlipper"),l("machine.update.recover",{dispatch:s,params:{name:e,hard:t}})},async machineUpdateMoonraker(){l("machine.update.moonraker",{dispatch:"version/onUpdatedMoonraker"})},async machineUpdateKlipper(){l("machine.update.klipper",{dispatch:"version/onUpdatedKlipper",params:{include_deps:!0}})},async machineUpdateClient(e){let t="version/onUpdatedClient";"fluidd"===e&&(t="version/onUpdatedFluidd"),l("machine.update.client",{dispatch:t,params:{name:e}})},async machineUpdateSystem(){l("machine.update.system",{dispatch:"version/onUpdatedSystem"})},async machineProcStats(){l("machine.proc_stats",{dispatch:"server/onMachineProcStats"})},async machineSystemInfo(){l("machine.system_info",{dispatch:"server/onMachineSystemInfo"})},async machineDevicePowerDevices(){l("machine.device_power.devices",{dispatch:"power/onInit"})},async machineDevicePowerStatus(e){l("machine.device_power.status",{dispatch:"power/onStatus",params:{[e]:null}})},async machineDevicePowerToggle(e,t,s){const r="on"===t?"machine.device_power.on":"machine.device_power.off";l(r,{dispatch:"power/onToggle",params:{[e]:null},wait:s})},async machineTimelapseSetSettings(e,t){l("machine.timelapse.post_settings",{dispatch:"timelapse/onSettings",params:e,wait:t})},async machineTimelapseSaveFrames(e){l("machine.timelapse.saveframes",{wait:e})},async machineTimelapseRender(){l("machine.timelapse.render",{})},async printerInfo(){l("printer.info",{dispatch:"printer/onPrinterInfo"})},async printerRestart(){l("printer.restart",{dispatch:"void",wait:a.hw.onKlipperRestart})},async printerFirmwareRestart(){l("printer.firmware_restart",{dispatch:"void",wait:a.hw.onKlipperFirmwareRestart})},async printerQueryEndstops(){l("printer.query_endstops.status",{dispatch:"printer/onQueryEndstops"})},async printerObjectsList(){l("printer.objects.list",{dispatch:"printer/onPrinterObjectsList"})},async printerObjectsSubscribe(e){l("printer.objects.subscribe",{dispatch:"printer/onPrinterObjectsSubscribe",params:{objects:e}})},async printerPrintStart(e){l("printer.print.start",{dispatch:"void",params:{filename:e}})},async printerPrintCancel(){l("printer.print.cancel",{dispatch:"printer/onPrintCancel",wait:a.hw.onPrintCancel})},async printerPrintPause(){l("printer.print.pause",{dispatch:"printer/onPrintPause",wait:a.hw.onPrintPause})},async printerPrintResume(){l("printer.print.resume",{dispatch:"printer/onPrintResume",wait:a.hw.onPrintResume})},async printerGcodeScript(e,t){l("printer.gcode.script",{dispatch:"console/onGcodeScript",params:{script:e},wait:t})},async printerGcodeHelp(){l("printer.gcode.help",{dispatch:"console/onGcodeHelp"})},async printerEmergencyStop(){l("printer.emergency_stop",{dispatch:"void"})},async serverInfo(){l("server.info",{dispatch:"server/onServerInfo"})},async identify(){var e,t;l("server.connection.identify",{dispatch:"socket/onConnectionId",params:{client_name:a.OH.APP_NAME,version:`${(null===(e=i.Z.state.version)||void 0===e?void 0:e.fluidd.version)||"0.0.0"}-${(null===(t=i.Z.state.version)||void 0===t?void 0:t.fluidd.hash)||"unknown"}`.trim(),type:"web",url:a.OH.GITHUB_REPO}})},async timelapseState(){l("machine.timelapse.get_settings",{dispatch:"timelapse/onSettings"}),l("machine.timelapse.lastframeinfo",{dispatch:"timelapse/onLastFrame"})},async serverConfig(){l("server.config",{dispatch:"server/onServerConfig"})},async serverWrite(e,t){l("server.database.post_item",{params:{namespace:a.OH.MOONRAKER_DB.NAMESPACE,key:e,value:t}})},async serverRestart(){l("server.restart",{dispatch:"void"})},async serverTemperatureStore(){l("server.temperature_store",{dispatch:"charts/initTempStore"})},async serverGcodeStore(){l("server.gcode_store",{dispatch:"console/onGcodeStore"})},async serverHistoryList(e){l("server.history.list",{dispatch:"history/onHistoryList",params:e})},async serverHistoryTotals(){l("server.history.totals",{dispatch:"history/onHistoryTotals"})},async serverHistoryDeleteJob(e){let t={uid:e};"all"===e&&(t={all:!0}),l("server.history.delete_job",{dispatch:"history/onDelete",params:t})},async serverHistoryResetTotals(){l("server.history.reset_totals",{dispatch:"history/onHistoryChange"})},async serverFilesMetaData(e){l("server.files.metadata",{dispatch:"files/onFileMetaData",params:{filename:e}})},async serverFilesGetDirectory(e,t){const s=`${a.hw.onFileSystem}${t}`;l("server.files.get_directory",{dispatch:"files/onServerFilesGetDirectory",wait:s,params:{root:e,path:t,extended:!0}})},async serverFilesMove(e,t){const s=a.hw.onFileSystem;l("server.files.move",{dispatch:"void",wait:s,params:{source:e,dest:t}})},async serverFilesPostDirectory(e){const t=a.hw.onFileSystem;l("server.files.post_directory",{dispatch:"void",wait:t,params:{path:e}})},async serverFilesDeleteFile(e){const t=a.hw.onFileSystem;l("server.files.delete_file",{dispatch:"void",wait:t,params:{path:e}})},async serverFilesDeleteDirectory(e,t=!1){const s=a.hw.onFileSystem;l("server.files.delete_directory",{dispatch:"void",wait:s,params:{path:e,force:t}})},async serverAnnouncementsList(){l("server.announcements.list",{dispatch:"announcements/onAnnouncementsList"})},async serverAnnouncementsDismiss(e,t){l("server.announcements.dismiss",{dispatch:"void",params:{entry_id:e,wake_time:t}})}}},7499:function(e,t,s){"use strict";s.d(t,{N:function(){return a},o:function(){return i}});var r=s(20144);const a={bus:new r["default"],$emit:(e,t={})=>{const s={open:!0,timeout:-1,...t};e&&(s.text=e),a.bus.$emit("flashMessage",s)}};var i;(function(e){e["success"]="success",e["error"]="error",e["warning"]="warning",e["primary"]="primary",e["secondary"]="secondary"})(i||(i={}))},47307:function(e,t,s){"use strict";s.d(t,{OH:function(){return a},PJ:function(){return i},hw:function(){return n}});var r=s(55317);const a=Object.freeze({APP_NAME:"fluidd",HEADER_HEIGHT:56,DEFAULTS:{CAMERA_URL:"/webcam?action=stream"},NETWORK_REQUEST_TIMEOUT:0,KLIPPY_RETRY_DELAY:1500,SOCKET_RETRY_DELAY:2e3,SOCKET_PING_INTERVAL:1e4,CONSOLE_HISTORY_RETENTION:1e3,CONSOLE_RECEIVE_PREFIX:"",CONSOLE_SEND_PREFIX:"$ ",CONSOLE_COMMAND_HISTORY:20,CHART_HISTORY_RETENTION:1200,JOB_HISTORY_LOAD:50,KLIPPY_DISCONNECTED_REDIRECT:"/configuration",LOCAL_CARDSTATE_STORAGE_KEY:"cardState",LOCAL_CARDLAYOUT_STORAGE_KEY:"cardLayout2",LOCAL_INSTANCES_STORAGE_KEY:"appInstances",MOONRAKER_DB:{NAMESPACE:"fluidd",ROOTS:{uiSettings:{name:"uiSettings",dispatch:"config/initUiSettings"},macros:{name:"macros",dispatch:"macros/initMacros"},console:{name:"console",dispatch:"console/initConsole"},charts:{name:"charts",dispatch:"charts/initCharts"},cameras:{name:"cameras",dispatch:"cameras/initCameras"},layout:{name:"layout",dispatch:"layout/initLayout"}}},MOONRAKER_COMPONENTS:{auth:{name:"authorization",dispatch:"auth/init"},power:{name:"power",dispatch:"power/init"},updateManager:{name:"update_manager",dispatch:"version/init"},history:{name:"history",dispatch:"history/init"},timelapse:{name:"timelapse",dispatch:"timelapse/init"},announcements:{name:"announcements",dispatch:"announcements/init"}},CONFIG_SERVICE_MAP:[{filename:"moonraker.conf",service:"moonraker",link:"https://moonraker.readthedocs.io/en/latest/configuration/"},{filename:"webcam.txt",service:"webcamd"},{filename:"klipperscreen.conf",service:"KlipperScreen",link:"https://klipperscreen.readthedocs.io/en/latest/"},{filename:"mooncord-webcam.json",service:"webcamd",link:"https://github.com/eliteSchwein/mooncord"},{prefix:"mooncord",service:"MoonCord",link:"https://github.com/eliteSchwein/mooncord"},{suffix:".cfg",service:"klipper",link:"https://www.klipper3d.org/Config_Reference.html"}],FILTERED_FILES_PREFIX:[".thumbs","thumbs"],FILTERED_FILES_EXTENSION:[".ignoreme"],DOCS_ROOT:"https://docs.fluidd.xyz",DOCS_REQUIRED_CONFIGURATION:"https://docs.fluidd.xyz/configuration/initial_setup",DOCS_MULTIPLE_INSTANCES:"https://docs.fluidd.xyz/configuration/multiple_printers",DOCS_MOONRAKER_COMPONENTS:"https://docs.fluidd.xyz/configuration/moonraker",DOCS_AUTH_LOST_PASSWORD:"https://docs.fluidd.xyz/authorization#lost-password",DOCS_AUTH:"https://docs.fluidd.xyz/authorization",GITHUB_REPO:"https://github.com/fluidd-core/fluidd"}),i=Object.freeze({dash:r.V7Q,account:r.rI3,addAccount:r.psO,help:r.Xc_,motion:r.xAI,limits:r.alQ,send:r.NN1,open:r.TpR,move:r.MJZ,tabs:r.S8s,menu:r.SXi,menuAlt:r.$Qi,dots:r.XMI,dotsGrid:r.kvM,drag:r.Apr,chart:r.M7S,power:r.ZKv,powerCycle:r.KQE,powerOn:r.brX,powerOff:r.L2n,home:r.vgA,close:r.r5M,refresh:r.jcD,restart:r.RZA,restartAlert:r.xnG,update:r.NZS,warning:r.jZI,error:r.m8t,thermometer:r.lKA,bell:r.QWc,fireAlert:r.Gf4,snowflakeAlert:r.E9l,circle:r.mdD,blankCircle:r.Ws4,markedCircle:r.Ss_,checkedCircle:r.k6A,checkboxBlank:r.Ii0,checkboxMarked:r.$Cb,alertCircle:r.fr4,folderAdd:r.nK5,folderUp:r.WSy,folder:r.in3,fileUpload:r.xyB,fileAdd:r.t9M,inProgress:r.nVh,progressUpload:r.w6W,up:r.XHH,down:r.dYk,left:r.J3k,right:r.aIO,tune:r.S3d,zUp:r.vnu,zDown:r.JbO,expandHorizontal:r.fW3,cog:r.Shd,cogs:r.pcj,save:r.JTj,estop:r.F$s,fire:r.xRl,tools:r.tpc,minus:r.UHA,plus:r.qX5,check:r.oL1,console:r.tvi,clock:r.R1X,formatLineSpacing:r.tCT,layersTripleOutline:r.$lM,chevronUp:r.Waq,chevronDown:r.CW,chevronRight:r.zrb,chevronLeft:r.gAv,timer:r.Qq3,fileCode:r.nqy,files:r.iq9,fileDocument:r.P2t,file:r.iA5,fileCancel:r.$V3,pause:r.Wa1,cancel:r.UEB,cancelled:r.M_e,play:r._86,resume:r.dIS,stop:r.fUz,reprint:r.S0t,printer:r.S0t,download:r.OGU,rename:r.o4Y,delete:r.x9U,camera:r.pJw,fan:r.qXi,pencil:r.r9,pencilLock:r.gIB,magnify:r.I0v,printer3d:r.SJO,printer3dNozzle:r.Euj,printer3dNozzleAlert:r.iaO,bedMesh:r.fc6,host:r.hu7,history:r.BBX,filter:r.Qbm,commit:r.NHO,cloudCheck:r.Q_T,cloudAlert:r.NtT,cubeScan:r._iY,consoleLine:r.aTZ,lock:r.d5D,lockOpen:r._Ub,lockReset:r.LtG,reset:r.mBz,tempError:r.xZH,contentCopy:r.a0Z,apps:r.J7K,shieldAccount:r.MBn,retract:r.U4l,codeJson:r.UgG,desktopTower:r.hu7,harddisk:r.V72,message:r.X6X,fullScreen:r.h40,video:r.Ydh,snooze:r.jGH,chip:r.sVq,viewHeadline:r.dpx}),n=Object.freeze({onServiceRestart:"onServiceRestart",onServiceStop:"onServiceStop",onServiceStart:"onServiceStart",onDevicePowerToggle:"onDevicePowerToggle",onHomeAll:"onHomeAll",onHomeXY:"onHomeXY",onHomeX:"onHomeX",onHomeY:"onHomeY",onHomeZ:"onHomeZ",onQGL:"onQGL",onZTilt:"onZTilt",onBedScrewsAdjust:"onBedScrewAdjust",onBedScrewsCalculate:"onBedScrewsCalculate",onPrintPause:"onPrintPause",onPrintCancel:"onPrintCancel",onPrintResume:"onPrintResume",onMacro:"onMacro",onSetSpeed:"onSetSpeed",onSetFlow:"onSetFlow",onSetPressureAdvance:"onSetPressureAdvance",onSetFanSpeed:"onSetFanSpeed",onSetOutputPin:"onSetOutputPin",onZAdjust:"onZAdjust",onZApply:"onZApply",onSaveConfig:"onSaveConfig",onRetract:"onRetract",onExtrude:"onExtrude",onMeshCalibrate:"onMeshCalibrate",onKlipperRestart:"klipperRestart",onKlipperFirmwareRestart:"klipperFirmwareRestart",onSetVelocity:"onSetVelocity",onSetAcceleration:"onSetAcceleration",onSetDeceleration:"onSetDeceleration",onSetSCV:"onSetSCV",onSetRetractLength:"onSetRetractLength",onSetRetractSpeed:"onSetRetractSpeed",onSetUnretractSpeed:"onSetUnretractSpeed",onSetUnretractExtraLength:"onSetUnretractExtraLength",onExtruderChange:"onExtruderChange",onLoadLanguage:"onLoadLanguage",onFileSystem:"onFileSystem",onTimelapseSaveFrame:"onTimelapseSaveFrame"})},9696:function(e,t,s){"use strict";s.d(t,{J:function(){return u}});s(21703);var r=s(20144),a=s(77218),i=s(68313),n=s(44652),o=s.n(n),l=s(47307),c=s(82974);const d=async()=>{const e=await a.Z.get("/config.json?date="+(new Date).getTime());if(e&&e.data)return o().debug("Loaded web host configuration",e.data),e.data;throw o().debug("Failed loading web host configuration"),new Error("Unable to load host configuration. Please check the host.")},p=async e=>{if(l.OH.LOCAL_INSTANCES_STORAGE_KEY in localStorage){const e=JSON.parse(localStorage[l.OH.LOCAL_INSTANCES_STORAGE_KEY]);if(e&&e.length)for(const t of e)if(t.active)return o().debug("API Config from Local Storage",t),t}const t=[];let s=[];if(e&&"blacklist"in e&&e.blacklist.length&&(s=e.blacklist),-1===s.findIndex((e=>e.includes(document.location.hostname)))){t.push(`${document.location.protocol}//${document.location.host}`);let e="7125";"https:"===document.location.protocol&&(e="7130"),t.push(`${document.location.protocol}//${document.location.hostname}:${e}`)}const i=await Promise.all(t.map((async e=>a.Z.get(e+"/server/info?date="+(new Date).getTime(),{timeout:1e3}).then((()=>!0)).catch((e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)}))))),n=i.findIndex((e=>e));return n>-1?r["default"].$filters.getApiUrls(t[n]):{apiUrl:"",socketUrl:""}},u=async(e,t)=>{var s;await i.Z.dispatch("reset",void 0,{root:!0}),t||(t=await d()),e||(e=await p(t)),e.apiUrl&&(a.Z.defaults.baseURL=e.apiUrl),await i.Z.dispatch("config/onInitApiConfig",e),o().debug("inited apis",i.Z.state.config,e),await i.Z.dispatch("auth/initAuth");let r=!0,n=!0;const u=l.OH.MOONRAKER_DB.ROOTS;for(const c in u)if(r&&n){const t=u[c];let s={};""!==e.apiUrl&&""!==e.socketUrl?s=await a.Z.get(`/server/database/item?namespace=${l.OH.MOONRAKER_DB.NAMESPACE}&key=${t.name}`).then((e=>(o().debug("loaded db root",t.name,e.data.result.value),e.data.result.value))).catch((e=>e.response&&404===e.response.status?(a.Z.post("/server/database/item?namespace="+l.OH.MOONRAKER_DB.NAMESPACE,{key:c,value:{}}),r=!0,{}):(e.response&&401===e.response.status?(r=!0,n=!1):(o().debug("API Down / Not Available:",e),r=!1),{}))):(r=!1,n=!1),s&&i.Z.dispatch(t.dispatch,s)}return await i.Z.dispatch("init",{apiConfig:e,hostConfig:t,apiConnected:r}),"/"!==c.Z.currentRoute.path&&(null===(s=i.Z.state.auth)||void 0===s?void 0:s.authenticated)&&c.Z.push("/"),{apiConfig:e,hostConfig:t,apiConnected:r,apiAuthenticated:n}}},1067:function(e,t,s){"use strict";var r=s(45904);r.ZP.registerHooks(["beforeRouteEnter","beforeRouteUpdate"]);var a=s(44652),i=s.n(a);i().wrapAll(),i().level=1;var n=s(20144),o=s(47307),l=s(22555),c=s(82974),d=s(68313),p=s(92101),u=s(54801),m=s(67356),h=s(8087),g=s.n(h),v=s(34952),f=s(9696),_=s(83250),y=s(90504),b=s(54003),x=s(26786),$=s(67350);const w=(e,t,s)=>{const r=t.length-1;if(r<0)return void 0===e?s:e;for(let a=0;a<r;a++){if(null==e)return s;e=e[t[a]]}return null==e||void 0===e[t[r]]?s:e[t[r]]},C=(e,t,s)=>null!=e&&t&&"string"===typeof t?void 0!==e[t]?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),w(e,t.split("."),s)):s,k={formatCounterTime:e=>{e=Number(e),!isNaN(+e)&&(0,_.Z)(e)||(e=0);let t=!1;e<0&&(e=Math.abs(e),t=!0);const s=Math.floor(e/3600),r=Math.floor(e%3600/60),a=Math.floor(e%3600%60);let i=a+"s";return i=r+"m "+i,s>0&&(i=s+"h "+i),t?"-"+i:i},formatDateTime:(e,t)=>{const s=n["default"].$dayjs(1e3*e);return t?s.format(t):s.isToday()?s.fromNow():s.format("MMM D, YYYY h:mm A")},formatAbsoluteDateTime:(e,t,s)=>{const r=n["default"].$dayjs(1e3*e),a="MMM D, h:mm a",i=r.isToday()?t:s;return r.format(i||a)},camelCase:e=>(0,y.Z)(e),startCase:e=>(0,b.Z)(e),capitalize:e=>(e=k.camelCase(e),(0,x.Z)(e)),getReadableFileSizeString(e){let t=-1;const s=[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"];if(0===e)return`0${s[0]}`;do{e/=1024,t++}while(e>1024);return Math.max(e,.1).toFixed(1)+s[t]},getReadableLengthString(e){return e>=1e3?(e/1e3).toFixed(2)+" m":e>100?(e/10).toFixed(1)+" cm":e.toFixed(1)+" mm"},getReadableWeightString(e){return e>=1e3?(e/1e3).toFixed(2)+" kg":e.toFixed(2)+" g"},getReadableFrequencyString(e){let t=0;const s=[" Hz"," KHz"," MHz"," GHz"];while(e>=1e3)e/=1e3,t++;return e.toFixed()+s[t]},fileSystemSort(e,t,s,r){if(null===t||!t.length)return e;const a=new Intl.Collator(r,{sensitivity:"accent",usage:"sort"});return e.sort(((e,r)=>{if(null!==e&&"directory"===e.type&&".."===e.name)return-1;if(null!==r&&"directory"===r.type&&".."===r.name)return 1;for(let i=0;i<t.length;i++){const n=t[i];let o=C(e,n),l=C(r,n);if(s[i]&&([o,l]=[l,o]),null!==o||null!==l){if([o,l]=[o,l].map((e=>(e||"").toString().toLocaleLowerCase())),"directory"===e.type||"directory"===r.type)return e.type===r.type?a.compare(o,l):0;if(o!==l)return isNaN(o)||isNaN(l)?a.compare(o,l):Number(o)-Number(l)}}return 0}))},getApiUrls(e){const t=new URL(e),s="https:"===t.protocol?"wss://":"ws://",r={apiUrl:`${t.protocol}//${t.host}`,socketUrl:`${s}${t.host}/websocket`};return r},isColorDark(e){const t=(0,$.ZP)(e).getBrightness();return t/255*100<=50},routeTo(e,t){e.currentRoute.fullPath!==t&&e.push(t)}},S={install(e){e.prototype.$filters=k,e.prototype.$globals=o.OH,e.prototype.$waits=o.hw,e.$filters=k,e.$globals=o.OH,e.$waits=o.hw}};var P=s(70691),E=s(9996),Z=s.n(E);class R{constructor(e){this.url="",this.connection=null,this.reconnectEnabled=!1,this.reconnectInterval=1e3,this.allowedReconnectAttempts=3,this.reconnectCount=0,this.logPrefix="[WEBSOCKET]",this.requests=[],this.store=null,this.cache=null,this.url=e.url,this.reconnectEnabled=e.reconnectEnabled||!1,this.reconnectInterval=e.reconnectInterval||1e3,this.store=e.store?e.store:null}pong(){var e;clearTimeout(this.pingTimeout),(null===(e=this.store.state.socket)||void 0===e?void 0:e.disconnecting)||this.store.state.files.download||(this.store.commit("socket/setSocketOpen",!0),this.store.dispatch("socket/onSocketConnecting",!1)),this.pingTimeout=setTimeout((()=>{var e;(null===(e=this.store.state.socket)||void 0===e?void 0:e.disconnecting)||this.store.state.files.download||(i().debug(`${this.logPrefix} Connection timeout, pong failed`),this.store&&this.store.commit("socket/setSocketOpen",!1),this.store&&this.store.dispatch("socket/onSocketConnecting",!0))}),o.OH.SOCKET_PING_INTERVAL)}close(){this.connection&&(this.cache=null,this.connection.close(),this.reconnectCount=0)}async connect(e){e&&(this.url=e),this.cache=null,await P.i.getOneShot().then((e=>e.data.result)).then((e=>{this.store&&this.store.dispatch("socket/onSocketConnecting",!0),this.connection=new WebSocket(`${this.url}?token=${e}`),this.connection.onopen=()=>{this.reconnectEnabled&&(this.reconnectCount=1),this.store&&(this.store.dispatch("socket/onSocketConnecting",!1),this.store.dispatch("socket/onSocketOpen",!0))},this.connection.onclose=e=>{i().debug(`${this.logPrefix} Connection closed:`,e),clearTimeout(this.pingTimeout),this.store&&this.store.dispatch("socket/onSocketClose",e),e.wasClean||this.reconnect()},this.connection.onerror=e=>{i().error(`${this.logPrefix} Connection error:`,e),this.store&&this.store.dispatch("socket/onSocketError",e)},this.connection.onmessage=e=>{var t,s;const r=JSON.parse(e.data);let a;const n=this.requests.findIndex((e=>e.id===r.id));if(n>-1&&(a=this.requests[n],this.requests.splice(n,1)),this.store&&a&&a.wait&&a.wait.length&&this.store.commit("wait/setRemoveWait",a.wait),r.error)return a&&Object.defineProperty(r.error,"__request__",{enumerable:!1,value:a}),i().debug(`${this.logPrefix} Response error:`,r.error),void(this.store&&this.store.dispatch("socket/onSocketError",r.error));if(this.pong(),a){let e=r.result?r.result:r.params;"string"===typeof e&&(e={result:e}),Object.defineProperty(e,"__request__",{enumerable:!1,value:a}),i().debug(`${this.logPrefix} Response:`,e),a.dispatch&&this.store&&(null===(t=this.store)||void 0===t||t.dispatch(a.dispatch,e)),a.commit&&this.store&&(null===(s=this.store)||void 0===s||s.commit(a.commit,e))}else if(r.params&&r.params[0]){const[e,t]=r.params;if("notify_status_update"!==r.method)this.store&&this.store.dispatch("socket/"+(0,y.Z)(r.method),e);else{for(const t of["motion_report"])this.store&&t in e&&(this.store.dispatch("printer/onFastNotifyStatusUpdate",{key:t,payload:e[t]},{root:!0}),delete e[t]);const s=t?1e3*t:Date.now();this.cache=this.cache?{timestamp:this.cache.timestamp,params:Z()(this.cache.params,e,{arrayMerge:(e,t)=>t})}:{timestamp:s,params:e},s-this.cache.timestamp>=1e3&&(this.store&&this.store.dispatch("socket/"+(0,y.Z)(r.method),this.cache.params),this.cache={timestamp:s,params:{}})}}else this.store&&this.store.dispatch("socket/"+(0,y.Z)(r.method))}})).catch((e=>{var t;401!==(null===(t=e.response)||void 0===t?void 0:t.status)&&this.reconnect()}))}reconnect(){this.reconnectCount<=this.allowedReconnectAttempts?(this.reconnectCount+=1,this.connection=null,i().debug(`${this.logPrefix} Reconnecting in ${this.reconnectInterval}`),setTimeout((()=>{this.connect()}),this.reconnectInterval)):this.store&&this.store.dispatch("socket/onSocketConnecting",!1)}emit(e,t){var s,r;if((null===(s=this.connection)||void 0===s?void 0:s.readyState)===WebSocket.OPEN){const s=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=s(1e4,99999),a={id:r,method:e,jsonrpc:"2.0"},i={id:r};t&&t.wait&&(i.wait=t.wait,this.store&&this.store.dispatch("wait/addWait",t.wait)),t&&t.params&&(a.params=t.params,i.params=t.params),t&&t.dispatch&&(i.dispatch=t.dispatch),t&&t.commit&&(i.commit=t.commit),this.requests.push(i),this.connection.send(JSON.stringify(a))}else i().debug(`${this.logPrefix} Not ready, or closed.`,e,t,null===(r=this.connection)||void 0===r?void 0:r.readyState)}}const T={install(e,t){const s=new R(t);e.prototype.$socket=s,e.$socket=s}};class L{constructor(e){if(this.logPrefix="[WEBSOCKET]",this.colorList={},e.colorList)for(const t in e.colorList)if("base"in e.colorList[t]){const s=e.colorList[t],r=(0,$.ZP)(s.base).toHsl();let a=r.h,i=r.l;const n=r.s,o=s.hsplit||0,l=s.lsplit?s.lsplit/100:0;this.colorList[t]=[...Array(s.count).keys()].map((()=>{const e=(0,$.ZP)({h:a,s:n,l:i}).toHexString();return a+=o,i-=l,{color:e,used:!1}}))}else{const s=e.colorList[t];this.colorList[t]=s.map((e=>({color:e,used:!1})))}}next(e,t){if(void 0===this.colorList[e])return;const s=this.colorList[e].find((e=>e.name===t));if(s)return s.color;this.colorList[e].findIndex((e=>!e.used))>=0&&this.reset(e);for(const r of this.colorList[e])if(!r.used)return t&&(r.name=t),r.used=!0,r.color}reset(e,t=!1){void 0!==this.colorList[e]&&this.colorList[e].forEach((e=>{e.name&&!t||(e.used=!1,delete e.name)}))}resetAll(){for(const e in this.colorList)this.reset(e)}forceResetAll(){for(const e in this.colorList)this.reset(e,!0)}}const D={install(e,t){const s={colorList:{heater:{base:"#ff5252",hsplit:20,count:3},bed:{base:"#1fb0ff",hsplit:20,count:2},fan:["#3DC25A","#58FC7C","#10EB40","#7EF297"],sensor:["#D67600","#830EE3","#B366F2","#E06573","#E38819"]}},r=new L({...s,...t});e.prototype.$colorset=r,e.$colorset=r}};var A=s(27484),I=s.n(A),V=(s(25054),s(84110)),M=s.n(V),F=s(7124),O=s.n(F),B=s(70660),N=s.n(B),U=s(56176),H=s.n(U),j=s(70178),W=s.n(j),z=s(1646),q=s.n(z);const G={install(e){I().extend(M()),I().extend(O()),I().extend(N()),I().extend(H()),I().extend(W()),I().extend(q()),I().locale("en-chart",{relativeTime:{future:"in %s",past:"- %s min",s:"- 0 min",m:"- 1 min",mm:"- %d min",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}}),I().locale("en"),e.prototype.$dayjs=I(),e.$dayjs=I()}};var Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loading?s("v-app"):s("v-app",{staticClass:"fluidd"},[s("app-tools-drawer",{model:{value:e.toolsdrawer,callback:function(t){e.toolsdrawer=t},expression:"toolsdrawer"}}),s("app-nav-drawer",{model:{value:e.navdrawer,callback:function(t){e.navdrawer=t},expression:"navdrawer"}}),s("app-bar",{on:{toolsdrawer:e.handleToolsDrawerChange,navdrawer:e.handleNavDrawerChange}}),e.flashMessage?s("flash-message",{attrs:{text:e.flashMessage.text,type:e.flashMessage.type,timeout:e.flashMessage.timeout},model:{value:e.flashMessage.open,callback:function(t){e.$set(e.flashMessage,"open",t)},expression:"flashMessage.open"}}):e._e(),e.isMobile&&e.authenticated&&e.socketConnected?s("v-btn",{staticClass:"ml-2 mb-2",attrs:{"x-small":"",fab:"",fixed:"",bottom:"",left:"",color:"error"},on:{click:function(t){return e.emergencyStop()}}},[s("v-icon",[e._v("$estop")])],1):e._e(),s("v-main",[s("v-container",{staticClass:"constrained-width pa-2 pa-sm-4",class:{"fill-height":e.$route.meta.fillHeight},attrs:{fluid:""}},[!e.socketConnected||!e.apiConnected||e.klippyReady&&!e.hasWarnings||e.inLayout||"/login"===e.$route.path?e._e():s("v-row",[s("v-col",[s("klippy-status-card")],1)],1),e.socketConnected&&e.apiConnected||!e.authenticated&&e.apiConnected?s("router-view"):e._e()],1),!e.socketConnected&&!e.apiConnected||!e.socketConnected&&e.authenticated?s("socket-disconnected"):e._e(),s("updating-dialog")],1),s("app-footer")],1)},K=[],X=(s(82801),s(70655)),J=s(23940),Q=s(7499),ee=s(47237);let te=class extends((0,J.Wr)(ee.Z)){constructor(){super(...arguments),this.toolsdrawer=null,this.navdrawer=null,this.showUpdateUI=!1,this.flashMessage={open:!1,text:void 0,type:void 0}}get updating(){return this.$store.state.version.busy}get inLayout(){return this.$store.state.config.layoutMode}get loading(){return this.$store.getters["wait/hasWait"](o.hw.onLoadLanguage)}get progress(){let e=this.$store.getters["printer/getPrintProgress"];return e=(100*e).toFixed(),e}get isMobile(){return this.$vuetify.breakpoint.mobile}get pageTitle(){const e=this.$store.state.config.uiSettings.general.instanceName||"",t=this.$route.name;return this.printerPrinting?`[${this.progress}%] | ${e} | ${t}`:`${e} | ${t}`}get pageIcon(){let e;const t=this.$store.getters["config/getTheme"];if(this.printerPrinting){const s=64,r=t.currentTheme.primary,a="rgba(255, 255, 255, 0.10)",i=document.createElement("canvas"),n=i.getContext("2d");i.width=s,i.height=s;const o=this.progress,l=i.width/2,c=i.height/2,d=8,p=s/2-d/2,u=1.5*Math.PI,m=u+2*o*Math.PI/100;n.moveTo(l,c),n.beginPath(),n.arc(l,c,p,0,2*Math.PI,!1),n.strokeStyle=a,n.lineWidth=d,n.stroke(),n.closePath(),n.moveTo(l,c),n.beginPath(),n.arc(l,c,p,u,m,!1),n.strokeStyle=r,n.lineWidth=d,n.stroke(),e=i.toDataURL("image/png")}const s="data:image/svg+xml;base64,"+btoa(`<svg width="56" height="64" viewBox="0 0 314 361" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(-162.000000, -110.000000)"><path d="M234.444,327.531 L309.066,389.594 C309.906,390.313 310.81,390.928 311.759,391.436 L311.759,391.436 L311.771,391.442 L312.055,391.589 L312.163,391.643 L312.356,391.737 L312.534,391.821 L312.668,391.883 L312.902,391.987 L312.974,392.017 C314.656,392.733 316.433,393.128 318.217,393.206 L318.217,393.206 L318.278,393.209 L318.562,393.218 L318.674,393.22 L318.904,393.221 L319.104,393.22 L319.231,393.218 L319.529,393.208 L319.571,393.207 C321.359,393.128 323.142,392.733 324.829,392.013 L324.829,392.013 L324.877,391.993 L325.143,391.875 L325.244,391.829 L325.438,391.737 L325.643,391.638 L325.731,391.593 L326.012,391.447 L326.042,391.432 C326.989,390.925 327.891,390.311 328.729,389.593 L328.729,389.593 L398.493,331.574 L434.768,355.517 L318.896,470.422 L198.4,350.923 L234.444,327.531 Z M237.067,234.697 L310.465,281.908 C313.075,283.623 315.986,284.481 318.897,284.482 C321.805,284.482 324.713,283.626 327.325,281.912 L327.325,281.912 L400.727,234.702 L456.849,263.367 L318.897,378.093 L180.945,263.359 L237.067,234.697 Z M318.897,110.68 L475.771,168.448 L318.897,269.344 L162.024,168.44 L318.897,110.68 Z" id="Combined-Shape" fill="${t.currentTheme.primaryOffset}"></path><path d="M318.897,110.68 L475.771,168.448 L319,269.278 L319,111 L318.028,111 L318.897,110.68 Z" id="Combined-Shape" fill="${t.currentTheme.primary}"></path><path d="M400.727,234.702 L456.849,263.367 L319,378.007 L319.000106,284.481641 C321.735222,284.46261 324.467243,283.686291 326.949875,282.151021 L327.325,281.912 L400.727,234.702 Z" id="Combined-Shape" fill="${t.currentTheme.primary}"></path><path d="M398.493,331.574 L434.768,355.517 L319,470.319 L319,393.22 L319.104,393.22 L319.231,393.218 L319.529,393.208 L319.571,393.207 C321.359,393.128 323.142,392.733 324.829,392.013 L324.829,392.013 L324.877,391.993 L325.143,391.875 L325.244,391.829 L325.438,391.737 L325.643,391.638 L325.731,391.593 L326.012,391.447 L326.042,391.432 C326.989,390.925 327.891,390.311 328.729,389.593 L328.729,389.593 L398.493,331.574 Z" id="Combined-Shape" fill="${t.currentTheme.primary}"></path></g></svg>`);return[{rel:"icon",type:"image/svg+xml",sizes:"32x32",href:e||s},{rel:"icon",type:"image/svg+xml",sizes:"16x16",href:e||s}]}mounted(){Q.N.bus.$on("flashMessage",(e=>{this.flashMessage.text=e&&e.text||void 0,this.flashMessage.type=e&&e.type||void 0,this.flashMessage.timeout=e&&void 0!==e.timeout?e.timeout:void 0,this.flashMessage.open=!0}));const e=document.querySelectorAll("link[rel*='icon'][type='image/png']");e.forEach((e=>{const t=e.parentElement;t&&t.removeChild(e)}))}handleToolsDrawerChange(){this.toolsdrawer=!this.toolsdrawer}handleNavDrawerChange(){this.navdrawer=!this.navdrawer}};te=(0,X.gn)([(0,J.wA)({metaInfo(){const e=this.pageTitle,t=this.pageIcon;return{title:e,link:t}}})],te);var se=te,re=se,ae=s(1001),ie=s(43453),ne=s.n(ie),oe=s(17524),le=s(78053),ce=s(82102),de=s(4228),pe=s(96428),ue=s(67877),me=s(62877),he=(0,ae.Z)(re,Y,K,!1,null,null,null),ge=he.exports;ne()(he,{VApp:oe.Z,VBtn:le.Z,VCol:ce.Z,VContainer:de.Z,VIcon:pe.Z,VMain:ue.Z,VRow:me.Z});const ve=s(36708);ve.keys().forEach((e=>{var t;const s=ve(e),r=(0,y.Z)(null===(t=e.split("/").pop())||void 0===t?void 0:t.replace(/\.\w+$/,""));r&&n["default"].component(r,s.default||s)}));var fe=e=>{e.onfocus=e=>{const t=e.target;t.blur()}};n["default"].directive("blur",fe),n["default"].component("VChart",(()=>s.e(28).then(s.bind(s,43456)))),n["default"].use(u.ZP),n["default"].use(G),n["default"].use(S),n["default"].use(m.Z),n["default"].use(D,{}),n["default"].use(g(),{vuetify:p.Z}),n["default"].use(v.InlineSvgPlugin),(0,f.J)().then((e=>{i().debug("Loaded App Configuration",e),n["default"].use(T,{url:e.apiConfig.socketUrl,reconnectEnabled:!0,reconnectInterval:o.OH.SOCKET_RETRY_DELAY,store:d.Z}),e.apiConfig.socketUrl&&e.apiConnected&&e.apiAuthenticated&&n["default"].$socket.connect(e.apiConfig.socketUrl),n["default"].config.productionTip=!1,new n["default"]({i18n:l.ZP,router:c.Z,store:d.Z,vuetify:p.Z,render:e=>e(ge)}).$mount("#app")})).catch((e=>{i().debug("Error attempting to init App:",e)}))},70994:function(e,t,s){"use strict";var r=s(70655),a=s(20144),i=s(77218),n=s(23940),o=s(82446),l=s(9669),c=s.n(l),d=s(70691);let p=class extends a["default"]{constructor(){super(...arguments),this.cancelTokenSource=void 0}get apiUrl(){return this.$store.state.config.apiUrl}getThumbUrl(e,t,s,r){if(e.length){r||(r=(new Date).getTime());const a=(0,o.jB)(e,t,s);if(a&&a.absolute_path)return`${a.absolute_path}?cachebust=${r}`;if(a&&a.data)return a.data}return""}async getGcode(e){const t=e.size/1024/1024;let s=!0;if(t>=100&&(s=await this.$confirm(this.$t("app.gcode.msg.confirm",{filename:e.filename,size:this.$filters.getReadableFileSizeString(e.size)}).toString(),{title:this.$tc("app.general.title.gcode_preview"),color:"card-heading",icon:"$error"})),s){this.cancelTokenSource=c().CancelToken.source();const t=e.path?`${e.path}/${e.filename}`:e.filename;return await this.getFile(t,"gcodes",e.size,{responseType:"text",transformResponse:[e=>e],cancelToken:this.cancelTokenSource.token})}}async getFile(e,t,s=0,r){const a=t?`${t}/${e}`:`${e}`,n=performance.now();this.$store.dispatch("files/updateFileDownload",{filepath:a,size:s,loaded:0,percent:0,speed:0,unit:"kB"});const o={...r,onDownloadProgress:e=>{const t=["kB","MB","GB"];let r=0,i=0;const o=performance.now()-n;if(o>0){r=e.loaded/o;while(r>1024)r/=1024,i=Math.min(2,i+1)}const l={filepath:a,loaded:e.loaded,percent:Math.round(e.loaded/s*100),speed:r,unit:t[i]};e.lengthComputable&&(s=l.size=e.total),this.$store.dispatch("files/updateFileDownload",l)}};return await i.Z.get(encodeURI(this.apiUrl+"/server/files/"+a+"?date="+(new Date).getTime()),o)}downloadFile(e,t){d.i.getOneShot().then((e=>e.data.result)).then((s=>{const r=t?`${t}/${e}`:`${e}`,a=encodeURI(this.apiUrl+"/server/files/"+r+"?token="+s+"&date="+(new Date).getTime()),i=document.createElement("a");i.href=a,i.setAttribute("download",e),i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),document.body.removeChild(i)})).catch((()=>{}))}async uploadFile(e,t,s,r,a){const n=new FormData;let o=`${t}/${e.name}`;o=o.startsWith("/")?o:"/"+o,n.append("file",e,o),n.append("root",s),r&&n.append("print","true");const l=performance.now();return this.$store.dispatch("files/updateFileUpload",{filepath:o,size:e.size,loaded:0,percent:0,speed:0,unit:"kB",cancelled:!1}),i.Z.post(this.apiUrl+"/server/files/upload",n,{...a,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{const t=["kB","MB","GB"];let s=0,r=0;const a=performance.now()-l;if(a>0){s=e.loaded/a;while(s>1024)s/=1024,r=Math.min(2,r+1)}this.$store.dispatch("files/updateFileUpload",{filepath:o,loaded:e.loaded,percent:Math.round(e.loaded/e.total*100),speed:s,unit:t[r]})}}).then((e=>e)).catch((e=>e)).finally((()=>{this.$store.dispatch("files/removeFileUpload",o)}))}async uploadFiles(e,t,s,r){for(const i of e){let e=`${t}/${i.name}`;e=e.startsWith("/")?e:"/"+e,this.$store.dispatch("files/updateFileUpload",{filepath:e,size:i.size,loaded:0,percent:0,speed:0,unit:"kB",cancelled:!1})}e.length>1&&(r=!1);for(const i of e){let e=`${t}/${i.name}`;e=e.startsWith("/")?e:"/"+e;const n=this.$store.state.files.uploads.find((t=>t.filepath===e));if(n.cancelled)this.$store.dispatch("files/removeFileUpload",e);else try{this.cancelTokenSource=c().CancelToken.source(),await this.uploadFile(i,t,s,r,{cancelToken:this.cancelTokenSource.token})}catch(a){return a}}}};p=(0,r.gn)([n.wA],p),t["Z"]=p},73111:function(e,t,s){"use strict";s(21703);var r=s(70655),a=s(20144),i=s(63362),n=s(23940);let o=class extends a["default"]{async _klipperReset(){this.$store.commit("socket/setAcceptNotifications",!1),await this.$store.dispatch("reset",["server","printer","charts","wait"],{root:!0})}hostReboot(){i.r.machineReboot()}hostShutdown(){i.r.machineShutdown()}async serviceRestartKlipper(){this.serviceRestartByName("klipper")}serviceRestartMoonraker(){this.serviceRestartByName("moonraker")}async serviceRestartByName(e){"moonraker"===e?(i.r.serverRestart(),this.$store.commit("socket/setSocketDisconnecting",!0)):("klipper"===e&&await this._klipperReset(),i.r.machineServicesRestart(e))}async serviceStartByName(e){i.r.machineServicesStart(e)}async serviceStopByName(e){if("moonraker"===e)throw new Error("Stopping the moonraker service is not supported");"klipper"===e&&await this._klipperReset(),i.r.machineServicesStop(e)}async restartKlippy(){await this._klipperReset(),i.r.printerRestart()}async firmwareRestartKlippy(){await this._klipperReset(),i.r.printerFirmwareRestart()}};o=(0,r.gn)([n.wA],o),t["Z"]=o},47237:function(e,t,s){"use strict";var r=s(70655),a=s(20144),i=s(63362),n=s(23940),o=s(47307);let l=class extends a["default"]{constructor(){super(...arguments),this.waits=o.hw}get authenticated(){const e=this.$store.getters["auth/getAuthenticated"];return e}get socketConnected(){return this.$store.getters["socket/getConnectionState"]}get apiConnected(){return this.$store.getters["socket/getApiConnected"]}get socketConnecting(){return this.$store.getters["socket/getConnectingState"]}get klippyReady(){return this.$store.getters["printer/getklippyReady"]}get klippyConnected(){const e=this.$store.getters["server/getInfo"];return e.klippy_connected}get hasWarnings(){return this.$store.getters["printer/getHasWarnings"]}get klippyState(){return this.$store.getters["printer/getKlippyState"]}get klippyStateMessage(){return this.$store.getters["printer/getKlippyStateMessage"]}get printerState(){return this.$store.getters["printer/getPrinterState"]}get printerBusy(){const e=this.printerState.toLowerCase();return"printing"===e||"paused"===e||"busy"===e}get printerPaused(){const e=this.printerState.toLowerCase();return"paused"===e}get printerPrinting(){return"printing"===this.printerState}hasWait(e){return this.$store.getters["wait/hasWait"](e)}get hasWaits(){return this.$store.getters["wait/hasWaits"]}hasWaitsBy(e){return this.$store.getters["wait/hasWaitsBy"](e)}sendGcode(e,t){i.r.printerGcodeScript(e,t),this.addConsoleEntry(e)}addConsoleEntry(e){this.$store.dispatch("console/onAddConsoleEntry",{message:e,type:"command"})}async emergencyStop(){const e=this.$store.state.config.uiSettings.general.confirmOnEstop;let t=!0;e&&(t=await this.$confirm(this.$tc("app.general.simple_form.msg.confirm"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"})),t&&i.r.printerEmergencyStop()}};l=(0,r.gn)([n.wA],l),t["Z"]=l},22555:function(e,t,s){"use strict";s.d(t,{ZP:function(){return g},Vf:function(){return d},ld:function(){return h}});var r=s(20144),a=s(17152),i=s(68313);const n=(e={})=>{const t={countryCodeOnly:!1},s={...t,...e},r=void 0!==navigator.languages?navigator.languages[0]:navigator.language;if(!r)return;const a=s.countryCodeOnly?r.trim().split(/-|_/)[0]:r.trim();return a};var o=n,l=s(32968),c=s.n(l);r["default"].use(a.Z);const d=()=>{var e;const t=o({countryCodeOnly:!0}),s=null===(e=i.Z.state.config)||void 0===e?void 0:e.hostConfig.locales;return s&&t&&s.findIndex((e=>e.code===t))>=0?t:"en"},p=d(),u=new a.Z({locale:p,fallbackLocale:"en",messages:{}});u.setLocaleMessage("en",c());const m=[],h=async e=>m.length>0&&u.locale===e?Promise.resolve(e):m.includes(e)?(u.locale=e,Promise.resolve(e)):s(51465)(`./${e}.yaml`).then((t=>(u.setLocaleMessage(e,t.default),m.push(e),u.locale=e,Promise.resolve(e)))).catch((()=>Promise.resolve(u.locale)));h(p);var g=u},92101:function(e,t,s){"use strict";var r=s(47307),a=s(20144),i=s(26800),n=s(81846);a["default"].use(i.Z),t["Z"]=new i.Z({breakpoint:{mobileBreakpoint:"xs"},icons:{iconfont:"mdiSvg",values:r.PJ},theme:{dark:!0,options:{customProperties:!0},themes:{dark:{primary:n.Z.blue.base,secondary:"#888888","card-heading":"#333337",btncolor:"#4A4A4F",drawer:"#28282B",appbar:"#1E1E20"},light:{primary:n.Z.blue.darken2,secondary:n.Z.grey.lighten1,"card-heading":"#E9E9E9",btncolor:"#E9E9E9",drawer:"#F4F4F4",appbar:"#FFFFFF"}}}})},82974:function(e,t,s){"use strict";s.d(t,{Z:function(){return _v}});var r,a=s(20144),i=s(78345),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[s("v-col",{class:{drag:e.inLayout},attrs:{cols:"12",md:"6"}},[e.container1?s("draggable",e._b({staticClass:"list-group",on:{start:function(t){t.stopPropagation(),e.drag=!0},end:function(t){return t.stopPropagation(),e.handleStopDrag.apply(null,arguments)}},model:{value:e.container1,callback:function(t){e.container1=t},expression:"container1"}},"draggable",e.dragOptions,!1),[s("transition-group",{attrs:{type:"transition",name:e.drag?null:"flip-list"}},[e._l(e.container1,(function(t){return[t.enabled&&!e.filtered(t)||e.inLayout?s(t.id,{key:t.id,tag:"component",staticClass:"mb-2 mb-sm-4"}):e._e()]}))],2)],1):e._e()],1),s("v-col",{class:{drag:e.inLayout},attrs:{cols:"12",md:"6"}},[e.container2?s("draggable",e._b({staticClass:"list-group",on:{start:function(t){t.stopPropagation(),e.drag=!0},end:function(t){return t.stopPropagation(),e.handleStopDrag.apply(null,arguments)}},model:{value:e.container2,callback:function(t){e.container2=t},expression:"container2"}},"draggable",e.dragOptions,!1),[s("transition-group",{attrs:{type:"transition",name:e.drag?null:"flip-list"}},[e._l(e.container2,(function(t){return[t.enabled&&!e.filtered(t)||e.inLayout?s(t.id,{key:t.id,tag:"component",staticClass:"mb-2 mb-sm-4"}):e._e()]}))],2)],1):e._e()],1)],1)},o=[],l=s(70655),c=s(23940),d=s(47237),p=s(9980),u=s.n(p),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.printer.state."+e.printerState),icon:"$printer3d",draggable:!0,collapsable:e.collapsable,"layout-path":"dashboard.printer-status-card"},scopedSlots:e._u([{key:"title",fn:function(){return[s("v-tabs",{attrs:{"background-color":"transparent","mobile-breakpoint":"0",height:"41","hide-slider":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("v-tab",{key:"status"},[s("v-icon",{attrs:{left:""}},[e._v(" $printer3d ")]),e._v(" "+e._s(e.$t("app.printer.state."+e.printerState)||e.printerState)+" ")],1),e.supportsHistoryComponent?s("v-tab",{key:"reprint"},[e._v(" "+e._s(e.$t("app.general.btn.reprint"))+" ")]):e._e()],1)]},proxy:!0},{key:"menu",fn:function(){return[e.printerPrinting||e.printerPaused||e.filename?s("status-controls",{on:{print:function(t){return e.handlePrint(t)}}}):e._e()]},proxy:!0}])},[s("v-tabs-items",{staticStyle:{"background-color":"transparent"},attrs:{touchless:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("v-tab-item",{key:"status"},[s("status-tab")],1),e.supportsHistoryComponent?s("v-tab-item",{key:"reprint"},[s("reprint-tab",{on:{print:function(t){return e.handlePrint(t)}}})],1):e._e()],1)],1)},h=[],g=s(63362),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("app-btn-collapse-group",[s("div",[e.printerPrinting||e.printerPaused?s("app-btn",{staticClass:"ma-1",attrs:{loading:e.hasWait(e.$waits.onPrintCancel),disabled:e.hasWait([e.$waits.onPrintCancel,e.$waits.onPrintResume,e.$waits.onPrintPause]),small:""},on:{click:function(t){return e.cancelPrint()}}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $cancelled ")]),s("span",[e._v(e._s(e.$t("app.general.btn.cancel")))])],1):e._e(),e.printerPrinting&&!e.printerPaused?s("app-btn",{staticClass:"ma-1",attrs:{loading:e.hasWait(e.$waits.onPrintPause),disabled:e.printerPaused||e.hasWait([e.$waits.onPrintCancel,e.$waits.onPrintResume,e.$waits.onPrintPause]),small:""},on:{click:function(t){return e.pausePrint()}}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $pause ")]),s("span",[e._v(e._s(e.$t("app.general.btn.pause")))])],1):e._e(),e.printerPaused?s("app-btn",{staticClass:"ma-1",attrs:{loading:e.hasWait(e.$waits.onPrintResume),disabled:e.printerPrinting||e.hasWait([e.$waits.onPrintCancel,e.$waits.onPrintResume,e.$waits.onPrintPause]),small:""},on:{click:function(t){return e.resumePrint()}}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $resume ")]),s("span",[e._v(e._s(e.$t("app.general.btn.resume")))])],1):e._e(),e.printerPrinting||e.printerPaused||!e.filename?e._e():s("app-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:function(t){return e.resetFile()}}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $refresh ")]),s("span",[e._v(e._s(e.$t("app.general.btn.reset_file")))])],1),e.supportsHistoryComponent||e.printerPrinting||e.printerPaused||!e.filename?e._e():s("app-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:function(t){return e.$emit("print",e.filename)}}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $reprint ")]),s("span",[e._v(e._s(e.$t("app.general.btn.reprint")))])],1)],1)])},f=[],_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-icon",e._g(e._b({staticClass:"mr-1",attrs:{small:"",color:e.job.exists?e.state:"secondary"}},"v-icon",a,!1),r),[e._v(" "+e._s(e.icon)+" ")])]}}])},[s("span",[e._v(e._s(e.job.status))])])],1)},y=[],b=s(70994);(function(e){e["Completed"]="completed",e["Cancelled"]="cancelled",e["Error"]="error",e["Printing"]="printing",e["InProgress"]="in_progress",e["Server_Exit"]="server_exit",e["Klippy_Shutdown"]="klippy_shutdown",e["Klippy_Disconnect"]="klippy_disconnect"})(r||(r={}));let x=class extends((0,c.Wr)(b.Z)){get icon(){const e={completed:"$checkedCircle",printing:"$inProgress",in_progress:"$inProgress",standby:"$inProgress",cancelled:"$cancelled"},t=e[this.job.status];return t||"$warning"}get state(){return this.job.status===r.Cancelled||this.job.status===r.Error||this.job.status===r.Server_Exit?"error":this.job.status===r.Printing||this.job.status===r.Completed||this.job.status===r.InProgress?"success":this.job.status===r.Klippy_Shutdown||this.job.status===r.Klippy_Disconnect?"warning":"success"}get inError(){return this.job.status!==r.Completed&&this.job.status!==r.InProgress}};(0,l.gn)([(0,c.fI)({type:Object,required:!0})],x.prototype,"job",void 0),x=(0,l.gn)([(0,c.wA)({})],x);var $=x,w=$,C=s(1001),k=s(43453),S=s.n(k),P=s(96428),E=s(19330),Z=(0,C.Z)(w,_,y,!1,null,null,null),R=Z.exports;S()(Z,{VIcon:P.Z,VTooltip:E.Z});let T=class extends((0,c.Wr)(d.Z)){get filename(){return this.$store.state.printer.printer.print_stats.filename}get supportsHistoryComponent(){return this.$store.getters["server/componentSupport"]("history")}cancelPrint(){this.$tc("app.general.simple_form.msg.confirm"),this.$confirm(this.$tc("app.general.simple_form.msg.confirm"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{e&&(g.r.printerPrintCancel(),this.addConsoleEntry("CANCEL_PRINT"))}))}pausePrint(){g.r.printerPrintPause(),this.addConsoleEntry("PAUSE")}resumePrint(){g.r.printerPrintResume(),this.addConsoleEntry("RESUME")}resetFile(){this.sendGcode("SDCARD_RESET_FILE")}};T=(0,l.gn)([(0,c.wA)({components:{JobHistoryItemStatus:R}})],T);var L=T,D=L,A=(0,C.Z)(D,v,f,!1,null,null,null),I=A.exports;S()(A,{VIcon:P.Z});var V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.progressVisible&&e.$vuetify.breakpoint.mdAndDown?s("v-progress-linear",{attrs:{height:6,value:e.estimates.progress,color:"primary"}}):e._e(),e.visible?s("v-card-text",[s("v-row",[e.progressVisible&&e.$vuetify.breakpoint.lgAndUp?s("v-col",{attrs:{cols:"auto","align-self":"center"}},[s("v-progress-circular",{attrs:{rotate:-90,size:90,width:7,value:e.estimates.progress,color:"primary"}},[s("span",{staticClass:"percentComplete focus--text"},[e._v(e._s(e.estimates.progress)+"%")])])],1):e._e(),s("v-col",{attrs:{"align-self":"center"}},[e.message||""!==e.filename||e.progressVisible&&e.$vuetify.breakpoint.mdAndDown?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[e.progressVisible&&e.$vuetify.breakpoint.mdAndDown?s("status-label",{attrs:{label:e.$t("app.general.label.progress")}},[s("span",[e._v(e._s(e.estimates.progress)+"%")])]):e._e(),e.message?s("status-label",{attrs:{label:e.$t("app.general.label.m117")}},[s("span",[e._v(e._s(e.message))])]):e._e(),""!==e.filename?s("status-label",{attrs:{label:e.$t("app.general.label.file")}},[s("span",{staticStyle:{"word-break":"break-all"}},[e._v(e._s(e.filename))])]):e._e()],1)],1):e._e(),e.printerPrinting?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"12",sm:"6"}},[s("status-label",{attrs:{label:e.$t("app.general.label.requested_speed")}},[e.requestedSpeed>0&&e.printerPrinting?s("span",[e._v(e._s(e.requestedSpeed)+" mm/s")]):e._e()]),s("status-label",{attrs:{label:e.$t("app.general.label.flow")}},[e.flow.value>0&&e.printerPrinting?s("span",[e._v(e._s(e.flow.value.toFixed(1))+" mm³/s")]):e._e()]),s("status-label",{attrs:{label:e.$t("app.general.label.filament")}},[e.filament_used>0&&e.printerPrinting?s("span",[e._v(e._s(e.$filters.getReadableLengthString(e.filament_used)))]):e._e()]),s("status-label",{attrs:{label:e.$t("app.general.label.layer")}},[e.layers&&e.printerPrinting?s("span",[e._v(e._s(e.layer)+" / "+e._s(e.layers))]):e._e()])],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[e.estimates.actual>0?s("status-label",{attrs:{label:e.$t("app.general.label.actual_time")}},[e.estimates.actual>0?s("span",[e._v(e._s(e.$filters.formatCounterTime(e.estimates.actual)))]):e._e()]):s("status-label",{attrs:{label:e.$t("app.general.label.file_time")}},[e.estimates.file>0?s("span",[e._v(e._s(e.$filters.formatCounterTime(e.estimates.file)))]):e._e()]),s("status-label",{attrs:{label:e.$t("app.general.label.slicer")}},[e.estimates.slicer>0&&e.printerPrinting?s("span",[e._v(e._s(e.$filters.formatCounterTime(e.estimates.slicer)))]):e._e()]),s("status-label",{attrs:{label:e.$t("app.general.label.total")}},[e.estimates.duration>0&&e.printerPrinting?s("span",[e._v(e._s(e.$filters.formatCounterTime(e.estimates.duration)))]):e._e()]),s("status-label",{attrs:{label:e.$t("app.general.label.finish_time")}},[e.estimates.eta>0&&e.printerPrinting?s("span",[e._v(e._s(e.$filters.formatAbsoluteDateTime(e.estimates.eta,e.$store.state.config.uiSettings.general.timeformat,e.$store.state.config.uiSettings.general.dateformat+" - "+e.$store.state.config.uiSettings.general.timeformat)))]):e._e()])],1)],1):e._e(),e.overviewVisible?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[e.current_file.history&&e.current_file.history.filament_used?s("status-label",{attrs:{label:e.$t("app.general.label.filament")}},[e.current_file.history.filament_used?s("span",[e._v(e._s(e.$filters.getReadableLengthString(e.current_file.history.filament_used)))]):e._e()]):e._e(),!e.current_file.filament_total||e.current_file.history||e.current_file.history.filament_used?e._e():s("status-label",{attrs:{label:e.$t("app.general.label.filament")}},[e.current_file.filament_total?s("span",[e._v(e._s(e.$filters.getReadableLengthString(e.current_file.filament_total)))]):e._e()]),e.current_file.estimated_time?s("status-label",{attrs:{label:e.$t("app.general.label.slicer")}},[e.current_file.estimated_time>0?s("span",[e._v(e._s(e.$filters.formatCounterTime(e.current_file.estimated_time)))]):e._e()]):e._e(),e.current_file.history&&e.current_file.history.print_duration?s("status-label",{attrs:{label:e.$t("app.general.label.actual_time")}},[e.current_file.history.print_duration>0?s("span",[e._v(e._s(e.$filters.formatCounterTime(e.current_file.history.print_duration)))]):e._e()]):e._e(),e.current_file.history&&e.current_file.history.total_duration?s("status-label",{attrs:{label:e.$t("app.general.label.total")}},[e.current_file.history.total_duration>0?s("span",[e._v(e._s(e.$filters.formatCounterTime(e.current_file.history.total_duration)))]):e._e()]):e._e()],1)],1):e._e()],1),e.thumbVisible?s("v-col",{staticClass:"pa-0",attrs:{cols:"auto","align-self":"center"}},[s("img",{staticClass:"print-thumb",attrs:{src:e.thumbnail}})]):e._e()],1)],1):e._e()],1)},M=[],F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{attrs:{"align-center":""}},[s("span",{staticClass:"label body-2 secondary--text",style:"width: "+e.labelWidth+"; min-width: "+e.labelWidth+";",domProps:{innerHTML:e._s(e.label)}}),s("span",{staticClass:"value"},[e._t("default")],2),e.$slots.default?e._e():s("span",{staticClass:"value"},[e._v("--")])])},O=[];let B=class extends((0,c.Wr)(d.Z)){};(0,l.gn)([(0,c.fI)({type:String,required:!0})],B.prototype,"label",void 0),(0,l.gn)([(0,c.fI)({type:[String,Number],default:"70px"})],B.prototype,"labelWidth",void 0),B=(0,l.gn)([(0,c.wA)({})],B);var N=B,U=N,H=s(24470),j=(0,C.Z)(U,F,O,!1,null,"1ef86723",null),W=j.exports;S()(j,{VLayout:H.Z});let z=class extends((0,c.Wr)(d.Z,b.Z)){constructor(){super(...arguments),this.flow={timestamp:(new Date).getTime(),lastExtruderPosition:0,value:0,max:0}}get visible(){return this.printerPrinting||this.message||this.current_file&&this.current_file.filename||this.thumbVisible||this.progressVisible&&this.$vuetify.breakpoint.mdAndDown}get progressVisible(){return this.printerPrinting||""!==this.filename}get overviewVisible(){return!this.printerPrinting&&this.current_file&&this.current_file.filename}get thumbVisible(){return this.current_file&&this.current_file.filename&&this.thumbnail&&this.$vuetify.breakpoint.lgAndUp}get current_file(){let e=this.$store.state.printer.printer.current_file;if(e.job_id){const t=this.$store.getters["history/getHistoryById"](e.job_id);t&&(e={...e,history:t})}return e}get filename(){return this.$store.state.printer.printer.print_stats.filename||""}get message(){return this.$store.state.printer.printer.display_status.message}get thumbnail(){if(this.current_file&&this.current_file.thumbnails){const e=this.getThumbUrl(this.current_file.thumbnails,this.current_file.path,!0,this.current_file.modified);return e}}get requestedSpeed(){const e=this.$store.state.printer.printer.gcode_move.speed_factor||1;let t=this.$store.state.printer.printer.gcode_move.speed||0;return t=t*e/60,t.toFixed()}get estimates(){return this.$store.getters["printer/getTimeEstimates"]}get supportsHistoryComponent(){return this.$store.getters["server/componentSupport"]("history")}get history(){return this.$store.getters["history/getUniqueHistory"](3)}get layers(){const e=this.$store.state.printer.printer.current_file;if("layer_count"in e)return e.layer_count;if("first_layer_height"in e&&"layer_height"in e&&"object_height"in e){const t=Math.ceil((e.object_height-e.first_layer_height)/e.layer_height+1);if(t>0)return t}return 0}get layer(){const e=this.$store.state.printer.printer.current_file,t=this.$store.state.printer.printer.print_stats.print_duration||0,s=this.$store.state.printer.printer.gcode_move.gcode_position;if(e&&t>0&&"first_layer_height"in e&&"layer_height"in e&&s&&s.length>=3){const t=this.$store.state.printer.printer.gcode_move.gcode_position[2],s=Math.ceil((t-e.first_layer_height)/e.layer_height+1);if(s>0)return s}return 0}get filament_used(){return this.$store.state.printer.printer.print_stats.filament_used||0}get filament_total(){return this.$store.state.printer.printer.current_file.filament_total||0}onFilamentUsed(e){const t=parseFloat(e),s=this.$store.getters["printer/getPrinterSettings"]("extruder.filament_diameter")||1.75,r=((new Date).getTime()-this.flow.timestamp)/1e3;if(r>=2){if(this.flow.lastExtruderPosition&&this.flow.lastExtruderPosition<t&&this.flow.timestamp){const e=t-this.flow.lastExtruderPosition,a=Math.pow(s/2,2)*Math.PI;this.flow.value=a*e/r,this.flow.max<this.flow.value&&(this.flow.max=this.flow.value)}this.flow.lastExtruderPosition=t,this.flow.timestamp=(new Date).getTime()}}};(0,l.gn)([(0,c.RL)("filament_used")],z.prototype,"onFilamentUsed",null),z=(0,l.gn)([(0,c.wA)({components:{StatusLabel:W}})],z);var q=z,G=q,Y=s(37118),K=s(82102),X=s(90624),J=s(57003),Q=s(62877),ee=(0,C.Z)(G,V,M,!1,null,"b8827d18",null),te=ee.exports;S()(ee,{VCardText:Y.ZB,VCol:K.Z,VProgressCircular:X.Z,VProgressLinear:J.Z,VRow:Q.Z});var se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"file-system"},[s("v-data-table",{staticStyle:{"background-color":"transparent"},attrs:{items:e.history,headers:e.headers,"items-per-page":5,"mobile-breakpoint":"0","hide-default-footer":"","item-key":"job_id","sort-by":"start_time","sort-desc":""},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[s("tr",{staticClass:"px-1"},[s("td",[r.exists?e._e():s("v-icon",{staticClass:"mr-2",attrs:{color:"secondary"}},[e._v(" $fileCancel ")]),r.exists&&!r.metadata.thumbnails?s("v-icon",{staticClass:"mr-2"},[e._v(" $fileDocument ")]):e._e(),r.exists&&r.metadata.thumbnails&&r.metadata.thumbnails.length?s("img",{staticClass:"mr-2 file-icon-thumb",attrs:{src:e.getThumbUrl(r.metadata.thumbnails,e.getFilePaths(r.filename).path,!1,r.metadata.modified),width:24}}):e._e()],1),s("td",[s("span",{},[e._v(" "+e._s(e.getFilePaths(r.filename).filename)+" ")])]),s("td",[s("job-history-item-status",{attrs:{job:r}})],1),s("td",[r.print_duration>0?s("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.formatCounterTime(r.print_duration))+" ")]):s("span",[e._v("--")])]),e.printerPrinting?e._e():s("td",{staticClass:"actions"},[s("div",{class:{"theme--light":!e.$vuetify.theme.dark}},[s("app-btn",{attrs:{color:"",icon:""},on:{click:function(t){return e.$emit("print",r.filename)}}},[s("v-icon",[e._v("$printer")])],1)],1)])])]}}])})],1)},re=[],ae=s(97800);let ie=class extends((0,c.Wr)(d.Z,b.Z)){get history(){return this.$store.getters["history/getUniqueHistory"](3)}getFilePaths(e){return(0,ae.Z)(e,"gcodes")}get headers(){const e=[{text:"",value:"data-table-icons",sortable:!1,width:"24px"},{text:this.$tc("app.general.table.header.name"),value:"filename",sortable:!1},{text:this.$tc("app.general.table.header.status"),value:"status",sortable:!1},{text:this.$tc("app.general.table.header.print_duration"),value:"print_duration",sortable:!1}];return e}};ie=(0,l.gn)([(0,c.wA)({components:{JobHistoryItemStatus:R}})],ie);var ne=ie,oe=ne,le=s(73460),ce=(0,C.Z)(oe,se,re,!1,null,null,null),de=ce.exports;S()(ce,{VDataTable:le.Z,VIcon:P.Z});let pe=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.tab=0}get supportsHistoryComponent(){return this.$store.getters["server/componentSupport"]("history")}get collapsable(){const e=this.$store.state.printer.printer.print_stats.filename;return this.printerPrinting||this.supportsHistoryComponent||""!==e}get filename(){return this.$store.state.printer.printer.print_stats.filename}onPrinterPrinting(e){this.init(e)}mounted(){this.init(this.filename)}init(e){this.tab=""!==e?0:1}handlePrint(e){g.r.printerPrintStart(e)}};(0,l.gn)([(0,c.RL)("filename")],pe.prototype,"onPrinterPrinting",null),pe=(0,l.gn)([(0,c.wA)({components:{StatusControls:I,StatusTab:te,ReprintTab:de}})],pe);var ue=pe,me=ue,he=s(94227),ge=s(54584),ve=s(62572),fe=s(96480),_e=(0,C.Z)(me,m,h,!1,null,"7ffb7b81",null),ye=_e.exports;S()(_e,{VIcon:P.Z,VTab:he.Z,VTabItem:ge.Z,VTabs:ve.Z,VTabsItems:fe.Z});var be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.jobs"),icon:"$files",draggable:!0,"layout-path":"dashboard.jobs-card"},scopedSlots:e._u([{key:"menu",fn:function(){return[s("app-btn",{attrs:{color:"",fab:"",small:"",text:""},on:{click:function(t){return e.$filters.routeTo(e.$router,"/jobs")}}},[s("v-icon",[e._v("$fullScreen")])],1)]},proxy:!0}])},[s("file-system",{attrs:{roots:"gcodes",name:"dashboard",dense:"",height:400}})],1)},xe=[],$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"filesystem-wrapper",class:{"no-pointer-events":e.dragState.overlay},attrs:{height:e.height,"max-height":e.maxHeight},on:{"!dragenter":function(t){return t.preventDefault(),e.handleDragEnter.apply(null,arguments)},dragover:function(e){e.preventDefault()},dragleave:function(t){return t.target!==t.currentTarget?null:(t.preventDefault(),e.handleDragLeave.apply(null,arguments))},drop:function(t){return t.preventDefault(),t.stopPropagation(),e.handleDropFile.apply(null,arguments)}}},[e.selected.length<=0?s("file-system-toolbar",{attrs:{roots:e.availableRoots,root:e.currentRoot,name:e.name,search:e.search,path:e.visiblePath,disabled:e.disabled,loading:e.filesLoading,headers:e.headers},on:{"update:search":function(t){e.search=t},"root-change":e.handleRootChange,refresh:function(t){return e.refreshPath(e.currentPath)},"add-file":e.handleAddFileDialog,"add-dir":e.handleAddDirDialog,upload:e.handleUpload,filter:e.handleFilter}}):e._e(),e.selected.length>0?s("file-system-bulk-actions",{attrs:{path:e.visiblePath},on:{remove:function(t){return e.handleRemove(e.selected)}}}):e._e(),e.headers?s("file-system-browser",{attrs:{headers:e.visibleHeaders,root:e.currentRoot,dense:e.dense,loading:e.filesLoading,disabled:e.disabled,search:e.search,filters:e.filters,files:e.files,"drag-state":e.dragState.browserState,"bulk-actions":e.bulkActions,selected:e.selected,"large-thumbnails":e.timelapseBrowser},on:{"update:dragState":function(t){return e.$set(e.dragState,"browserState",t)},"update:drag-state":function(t){return e.$set(e.dragState,"browserState",t)},"update:selected":function(t){e.selected=t},"row-click":e.handleRowClick,move:e.handleMove}}):e._e(),e.contextMenuState.open?s("file-system-context-menu",{attrs:{root:e.currentRoot,open:e.contextMenuState.open,file:e.contextMenuState.file,"position-x":e.contextMenuState.x,"position-y":e.contextMenuState.y},on:{"update:open":function(t){return e.$set(e.contextMenuState,"open",t)},print:e.handlePrint,view:e.handleFileOpenDialog,edit:e.handleFileOpenDialog,rename:e.handleRenameDialog,remove:e.handleRemove,download:e.handleDownload,preheat:e.handlePreheat,"preview-gcode":e.handlePreviewGcode}}):e._e(),e.fileEditorDialogState.open?s("file-editor-dialog",{attrs:{contents:e.fileEditorDialogState.contents,filename:e.fileEditorDialogState.filename,loading:e.fileEditorDialogState.loading,readonly:e.fileEditorDialogState.readonly,root:e.currentRoot},on:{save:e.handleSaveFileChanges},model:{value:e.fileEditorDialogState.open,callback:function(t){e.$set(e.fileEditorDialogState,"open",t)},expression:"fileEditorDialogState.open"}}):e._e(),e.fileNameDialogState.open?s("file-name-dialog",{attrs:{name:e.fileNameDialogState.value,title:e.fileNameDialogState.title,label:e.fileNameDialogState.label,rules:e.fileNameDialogState.rules},on:{save:e.fileNameDialogState.handler},model:{value:e.fileNameDialogState.open,callback:function(t){e.$set(e.fileNameDialogState,"open",t)},expression:"fileNameDialogState.open"}}):e._e(),s("file-system-drag-overlay",{model:{value:e.dragState.overlay,callback:function(t){e.$set(e.dragState,"overlay",t)},expression:"dragState.overlay"}}),null!==e.currentDownload?s("file-system-download-dialog",{attrs:{value:null!==e.currentDownload,file:e.currentDownload},on:{cancel:e.handleCancelDownload}}):e._e(),e.currentUploads.length>0?s("file-system-upload-dialog",{attrs:{value:e.currentUploads.length>0,files:e.currentUploads},on:{cancel:e.handleCancelUpload}}):e._e(),e.filePreviewState.open?s("file-preview-dialog",{attrs:{file:e.filePreviewState,removable:"",downloadable:""},on:{close:e.handleClosePreview,download:e.handleDownload,remove:e.handleRemove}}):e._e()],1)},we=[],Ce=s(47307),ke=s(73111),Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-toolbar",{attrs:{dense:""},scopedSlots:e._u([e.roots.length>1?{key:"extension",fn:function(){return[s("v-tabs",e._l(e.registeredRoots,(function(t,r){return s("v-tab",{key:r,on:{change:function(s){return e.$emit("root-change",t)}}},[e._v(" "+e._s(t)+" ")])})),1)]},proxy:!0}:null],null,!0)},[s("v-toolbar-title",{staticClass:"d-none d-sm-block"},[s("div",{staticClass:"file-path"},[e._v(" ‎/"+e._s(e.path)+" ")])]),s("v-spacer"),e.lowOnSpace&&!e.loading?s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{fab:"",text:"",small:"",color:"warning"}},"v-btn",a,!1),r),[s("v-icon",{attrs:{color:"warning"}},[e._v(" $error ")])],1)]}}],null,!1,965673122)},[e._t("default",(function(){return[s("span",[e._v(e._s(e.$t("app.file_system.tooltip.low_on_space")))])]}))],2):e._e(),e.disabled&&!e.loading?s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{fab:"",text:"",small:"",color:"error"}},"v-btn",a,!1),r),[s("v-icon",{attrs:{color:"error"}},[e._v(" $warning ")])],1)]}}],null,!1,189610928)},[e._t("default",(function(){return[s("span",[e._v(e._s(e.$t("app.file_system.tooltip.root_disabled",{root:e.root})))])]}))],2):e._e(),e.headers&&e.rootProperties.canConfigure?s("app-column-picker",{attrs:{"key-name":e.root+"_"+e.name,headers:e.headers}}):e._e(),!e.readonly&&"gcodes"===e.root&&e.supportsHistoryComponent?s("file-system-filter-menu",{attrs:{root:e.root,disabled:e.disabled},on:{change:function(t){return e.$emit("filter",t)}}}):e._e(),!e.readonly||e.canCreateDirectory?s("file-system-menu",{attrs:{root:e.root,disabled:e.disabled},on:{"add-file":function(t){return e.$emit("add-file")},"add-dir":function(t){return e.$emit("add-dir")},upload:e.handleUpload}}):e._e(),s("v-btn",{attrs:{disabled:e.disabled,fab:"",small:"",text:""},on:{click:function(t){return e.$emit("refresh")}}},[s("v-icon",[e._v("$refresh")])],1),s("div",{staticClass:"ml-1",staticStyle:{"max-width":"160px"}},[s("v-text-field",{attrs:{disabled:e.disabled,outlined:"",dense:"","single-line":"","hide-details":"","append-icon":"$magnify"},on:{keyup:function(t){return e.$emit("update:search",e.textSearch)}},model:{value:e.textSearch,callback:function(t){e.textSearch=t},expression:"textSearch"}})],1)],1)},Pe=[],Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{disabled:e.disabled,fab:"",small:"",text:""}},"v-btn",a,!1),r),[s("v-icon",[e._v(" $plus ")])],1)]}}])},[s("v-list",{attrs:{dense:""}},[e.readonly?e._e():s("v-list-item",{attrs:{disabled:e.disabled},on:{click:function(t){return e.emulateClick(!1)}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $fileUpload ")]),e._v(" "+e._s(e.$t("app.general.btn.upload"))+" ")],1)],1),e.readonly||"gcodes"!==e.root?e._e():s("v-list-item",{attrs:{disabled:e.disabled},on:{click:function(t){return e.emulateClick(!0)}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $progressUpload ")]),e._v(" "+e._s(e.$t("app.general.btn.upload_print"))+" ")],1)],1),e.readonly?e._e():s("v-list-item",{attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("add-file")}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $fileAdd ")]),e._v(" "+e._s(e.$t("app.general.btn.add_file"))+" ")],1)],1),!e.readonly||e.canCreateDirectory?s("v-list-item",{attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("add-dir")}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $folderAdd ")]),e._v(" "+e._s(e.$t("app.general.btn.add_dir"))+" ")],1)],1):e._e()],1),s("input",{ref:"uploadFile",staticStyle:{display:"none"},attrs:{id:e._uid+"BtnFileUpload",type:"file",accept:e.accepts,multiple:""},on:{change:e.fileChanged}})],1)},Ze=[];let Re=class extends c.w3{constructor(){super(...arguments),this.andPrint=!1}get readonly(){return this.$store.getters["files/getRootProperties"](this.root).readonly}get accepts(){return this.$store.getters["files/getRootProperties"](this.root).accepts.join(",")}get canCreateDirectory(){return this.$store.getters["files/getRootProperties"](this.root).canCreateDirectory}emulateClick(e){this.andPrint=e;const t=this.$refs.uploadFile;t.multiple=!e,t.click()}fileChanged(e){const t=e.target,s=t.files,r=[];if(t&&s&&s.length>0){for(let e=0;e<s.length;e++)r.push(s[e]);this.$emit("upload",r,this.andPrint),t.value=""}}};(0,l.gn)([(0,c.fI)({type:String,required:!0})],Re.prototype,"root",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Re.prototype,"disabled",void 0),Re=(0,l.gn)([(0,c.wA)({})],Re);var Te=Re,Le=Te,De=s(78053),Ae=s(16816),Ie=s(97620),Ve=s(276),Me=s(41152),Fe=(0,C.Z)(Le,Ee,Ze,!1,null,null,null),Oe=Fe.exports;S()(Fe,{VBtn:De.Z,VIcon:P.Z,VList:Ae.Z,VListItem:Ie.Z,VListItemTitle:Ve.V9,VMenu:Me.Z});var Be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-badge",{attrs:{bordered:"",color:"warning",dot:"",overlap:"",value:e.model.length>0,"offset-y":15,"offset-x":15}},[s("v-btn",e._g(e._b({attrs:{disabled:e.disabled,fab:"",small:"",text:""}},"v-btn",a,!1),r),[s("v-icon",[e._v(" $filter ")])],1)],1)]}}])},[s("v-list",{attrs:{flat:"","two-line":""}},[s("v-list-item-group",{attrs:{multiple:"","active-class":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[e._l(e.filters,(function(t,r){return[s("v-list-item",{key:"filter-"+r,attrs:{disabled:e.disabled,value:t},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.active;return[s("v-list-item-action",[s("v-checkbox",{attrs:{"input-value":a}})],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" "+e._s(t.text)+" ")]),s("v-list-item-subtitle",[e._v(" "+e._s(t.desc)+" ")])],1)]}}],null,!0)})]}))],2)],1)],1)},Ne=[];let Ue=class extends c.w3{constructor(){super(...arguments),this.model=[],this.filters=[{value:"print_start_time",text:this.$tc("app.file_system.filters.label.print_start_time"),desc:this.$tc("app.file_system.filters.label.print_start_time_desc")}]}get readonly(){return this.$store.getters["files/getRootProperties"](this.root).readonly}onFiltersChange(e){this.$emit("change",e)}};(0,l.gn)([(0,c.fI)({type:String,required:!0})],Ue.prototype,"root",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Ue.prototype,"disabled",void 0),(0,l.gn)([(0,c.RL)("model")],Ue.prototype,"onFiltersChange",null),Ue=(0,l.gn)([(0,c.wA)({})],Ue);var He=Ue,je=He,We=s(13099),ze=s(83702),qe=s(83099),Ge=s(73123),Ye=(0,C.Z)(je,Be,Ne,!1,null,null,null),Ke=Ye.exports;S()(Ye,{VBadge:We.Z,VBtn:De.Z,VCheckbox:ze.Z,VIcon:P.Z,VList:Ae.Z,VListItem:Ie.Z,VListItemAction:qe.Z,VListItemContent:Ve.km,VListItemGroup:Ge.Z,VListItemSubtitle:Ve.oZ,VListItemTitle:Ve.V9,VMenu:Me.Z});let Xe=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.textSearch=""}get readonly(){return this.$store.getters["files/getRootProperties"](this.root).readonly}get canCreateDirectory(){return this.$store.getters["files/getRootProperties"](this.root).canCreateDirectory}get lowOnSpace(){return!!this.klippyReady&&this.$store.getters["files/getLowOnSpace"]}get supportsHistoryComponent(){return this.$store.getters["server/componentSupport"]("history")}get rootProperties(){return this.$store.getters["files/getRootProperties"](this.root)}get registeredRoots(){return this.roots.filter((e=>this.$store.state.server.info.registered_directories.includes(e)))}mounted(){this.textSearch=this.search}handleUpload(e,t){this.$emit("upload",e,t)}};(0,l.gn)([(0,c.fI)({type:String,required:!0})],Xe.prototype,"root",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!1})],Xe.prototype,"name",void 0),(0,l.gn)([(0,c.fI)({type:Array,required:!1})],Xe.prototype,"roots",void 0),(0,l.gn)([(0,c.fI)({type:Array,required:!1})],Xe.prototype,"headers",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!1})],Xe.prototype,"path",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Xe.prototype,"disabled",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Xe.prototype,"loading",void 0),(0,l.gn)([(0,c.fI)({type:String,default:""})],Xe.prototype,"search",void 0),Xe=(0,l.gn)([(0,c.wA)({components:{FileSystemMenu:Oe,FileSystemFilterMenu:Ke}})],Xe);var Je=Xe,Qe=Je,et=s(99762),tt=s(29837),st=s(36656),rt=s(27921),at=(0,C.Z)(Qe,Se,Pe,!1,null,null,null),it=at.exports;S()(at,{VBtn:De.Z,VIcon:P.Z,VSpacer:et.Z,VTab:he.Z,VTabs:ve.Z,VTextField:tt.Z,VToolbar:st.Z,VToolbarTitle:rt.qW,VTooltip:E.Z});var nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-toolbar",{attrs:{dense:""}},[s("v-toolbar-title",{staticClass:"d-none d-sm-block"},[s("div",{staticClass:"file-path"},[e._v(" ‎/"+e._s(e.path)+" ")])]),s("v-spacer"),s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{fab:"",small:"",text:""},on:{click:function(t){return e.$emit("remove")}}},"v-btn",a,!1),r),[s("v-icon",[e._v(" $delete ")])],1)]}}])},[e._t("default",(function(){return[s("span",[e._v("Delete")])]}))],2)],1)},ot=[];let lt=class extends((0,c.Wr)(d.Z)){};(0,l.gn)([(0,c.fI)({type:String,required:!1})],lt.prototype,"path",void 0),lt=(0,l.gn)([(0,c.wA)({components:{FileSystemMenu:Oe,FileSystemFilterMenu:Ke}})],lt);var ct=lt,dt=ct,pt=(0,C.Z)(dt,nt,ot,!1,null,null,null),ut=pt.exports;S()(pt,{VBtn:De.Z,VIcon:P.Z,VSpacer:et.Z,VToolbar:st.Z,VToolbarTitle:rt.qW,VTooltip:E.Z});var mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"file-system"},[s("v-data-table",{staticClass:"rounded-0",attrs:{headers:e.headers,items:e.files,dense:e.dense,"disable-pagination":!0,loading:e.loading,"sort-desc":!0,"custom-sort":e.$filters.fileSystemSort,search:e.search,"show-select":e.bulkActions,"no-data-text":e.$t("app.file_system.msg.not_found"),"no-results-text":e.$t("app.file_system.msg.not_found"),"item-key":"name",height:"100%","mobile-breakpoint":"0","sort-by":"modified","hide-default-footer":""},on:{input:e.handleSelected,"item-selected":e.handleItemSelected},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item,a=t.isSelected,i=t.select;return[s("tr",{staticClass:"row-select px-1",class:{"is-directory":"directory"===r.type,"is-file":"file"===r.type,"is-disabled":e.disabled,"v-data-table__selected":a&&".."!==r.name},attrs:{draggable:e.draggable(r)},on:{click:function(t){return t.preventDefault(),e.$emit("row-click",r,t)},contextmenu:function(t){return t.preventDefault(),e.$emit("row-click",r,t)},drag:function(t){return e.handleDrag(r)},dragstart:e.handleDragStart,dragend:e.handleDragEnd,drop:function(t){return t.preventDefault(),t.stopPropagation(),e.handleDrop(r,t)},dragover:function(t){return t.preventDefault(),e.handleDragOver(t)},dragleave:function(t){return t.preventDefault(),e.handleDragLeave(t)}}},[e.bulkActions?s("td",[".."!==r.name?s("v-simple-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mt-1",attrs:{value:a,color:""},on:{click:function(e){return e.stopPropagation(),i(!a)}}}):e._e()],1):e._e(),s("td",[s("v-layout",{attrs:{"justify-center":""}},[r.thumbnails&&r.thumbnails.length?e._e():s("v-icon",{attrs:{small:e.dense,color:"file"===r.type?"grey":"primary"}},[e._v(" "+e._s("file"===r.type?"$file":".."===r.name?"$folderUp":"$folder")+" ")]),r.thumbnails&&r.thumbnails.length?s("img",{staticClass:"file-icon-thumb",class:{dense:e.dense,large:e.largeThumbnails},attrs:{src:e.getThumbUrl(r.thumbnails,r.path,!1,r.modified)}}):e._e()],1)],1),s("file-row-item",{attrs:{nowrap:!1}},[e._v(" "+e._s(r.name)+" ")]),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"object_height"}},[void 0!==r.object_height?s("span",[e._v(" "+e._s(e.$filters.getReadableLengthString(r.object_height))+" ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"first_layer_height"}},[void 0!==r.first_layer_height?s("span",[e._v(" "+e._s(r.first_layer_height)+" mm ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"layer_height"}},[void 0!==r.layer_height?s("span",[e._v(" "+e._s(r.layer_height)+" mm ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"filament_total"}},[void 0!==r.filament_total?s("span",[e._v(" "+e._s(e.$filters.getReadableLengthString(r.filament_total))+" ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"filament_weight_total"}},[void 0!==r.filament_weight_total?s("span",[e._v(" "+e._s(e.$filters.getReadableWeightString(r.filament_weight_total))+" ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"history.filament_used"}},[r.history&&void 0!==r.history.filament_used?s("span",[e._v(" "+e._s(e.$filters.getReadableLengthString(r.history.filament_used))+" ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"slicer"}},[void 0!==r.slicer?s("span",[e._v(" "+e._s(r.slicer)+" ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"slicer_version"}},[void 0!==r.slicer_version?s("span",[e._v(" "+e._s(r.slicer_version)+" ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"estimated_time"}},[void 0!==r.estimated_time?s("span",[e._v(" "+e._s(e.$filters.formatCounterTime(r.estimated_time))+" ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"history.print_duration"}},[r.history&&void 0!==r.history.print_duration?s("span",[e._v(" "+e._s(e.$filters.formatCounterTime(r.history.print_duration))+" ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"history.total_duration"}},[r.history&&void 0!==r.history.total_duration?s("span",[e._v(" "+e._s(e.$filters.formatCounterTime(r.history.total_duration))+" ")]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"first_layer_bed_temp"}},[void 0!==r.first_layer_bed_temp?s("span",[e._v(" "+e._s(r.first_layer_bed_temp)),s("small",[e._v("°C")])]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"first_layer_extr_temp"}},[void 0!==r.first_layer_extr_temp?s("span",[e._v(" "+e._s(r.first_layer_extr_temp)),s("small",[e._v("°C")])]):e._e()]):e._e(),"gcodes"===e.root?s("file-row-item",{attrs:{headers:e.headers,"item-value":"print_start_time"}},[void 0!==r.print_start_time&&null!==r.print_start_time?s("span",[e._v(" "+e._s(e.$filters.formatDateTime(r.print_start_time,e.$store.state.config.uiSettings.general.dateformat+" YYYY - "+e.$store.state.config.uiSettings.general.timeformat))+" ")]):e._e()]):e._e(),s("file-row-item",{attrs:{headers:e.headers,"item-value":"modified"}},[void 0!==r.modified&&null!==r.modified?s("span",[e._v(" "+e._s(e.$filters.formatDateTime(r.modified,e.$store.state.config.uiSettings.general.dateformat+" YYYY - "+e.$store.state.config.uiSettings.general.timeformat))+" ")]):e._e()]),s("file-row-item",{attrs:{headers:e.headers,"item-value":"size"}},[void 0!==r.size&&0!==r.size?s("span",[e._v(" "+e._s(e.$filters.getReadableFileSizeString(r.size))+" ")]):e._e()])],1)]}}]),model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}})],1)},ht=[],gt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isVisible?s("td",{class:{"text-end":e.right},attrs:{nowrap:e.nowrap}},[e._t("default"),e.$slots.default?e._e():s("span",[e._v("--")])],2):e._e()},vt=[];let ft=class extends c.w3{get isVisible(){if(void 0!==this.headers&&void 0!==this.itemValue){const e=this.headers.findIndex((e=>{const t=e.key?e.key:e.value;return this.itemValue===t}));return e>=0}return!0}};(0,l.gn)([(0,c.fI)({type:String,required:!1})],ft.prototype,"itemValue",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!1})],ft.prototype,"itemKey",void 0),(0,l.gn)([(0,c.fI)({type:Array,required:!1})],ft.prototype,"headers",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],ft.prototype,"nowrap",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],ft.prototype,"right",void 0),ft=(0,l.gn)([(0,c.wA)({})],ft);var _t=ft,yt=_t,bt=(0,C.Z)(yt,gt,vt,!1,null,null,null),xt=bt.exports;let $t=class extends((0,c.Wr)(b.Z)){constructor(){super(...arguments),this.dragItem=null,this.ghost=void 0,this.selectedItems=[]}get showHistory(){return this.$store.getters["server/componentSupport"]("history")&&"gcodes"===this.root}mounted(){this.selectedItems=this.selected}onSelected(e){this.selectedItems=e}handleSelected(e){this.$emit("update:selected",e)}handleItemSelected(e){!e.value&&this.selectedItems.length<=2&&0===this.selectedItems.filter((t=>".."!==t.name&&e.item!==t)).length&&(this.selectedItems=[]),e.value&&this.selectedItems.length+1>=this.files.length&&this.selectedItems.filter((e=>".."!==e.name)).length+1===this.files.length&&(this.selectedItems=this.files)}draggable(e){return".."!==e.name&&this.files.length>0&&(0===this.selected.length||this.selected.includes(e))}handleDragStart(e){e.dataTransfer&&(this.ghost=document.createElement("div"),this.ghost.classList.add("bulk-drag"),this.ghost.classList.add(this.$vuetify.theme.dark?"theme--dark":"theme--light"),this.ghost.innerHTML=this.selected.length>0?`Move ${this.selected.length} items`:"Move item",document.body.appendChild(this.ghost),e.dataTransfer.dropEffect="move",e.dataTransfer.setDragImage(this.ghost,0,0))}handleDrag(e){!0!==this.dragState&&(this.dragItem=e,this.$emit("update:dragState",!0))}handleDrop(e,t){if(this.handleDragLeave(t),"directory"===e.type&&this.dragItem&&this.dragItem!==e&&!this.selected.includes(e)){const t=0===this.selected.length?[this.dragItem]:this.selected.filter((e=>".."!==e.name));this.$emit("move",t,e)}}handleDragOver(e){var t;if("TD"===e.target.tagName&&(null===(t=e.target.parentElement)||void 0===t?void 0:t.classList.contains("is-directory"))){const t=e.target.parentElement;t&&t.classList.add("active")}}handleDragLeave(e){if("TD"===e.target.tagName){const t=e.target.parentElement;t&&t.classList.remove("active")}}handleDragEnd(){const e=this.ghost;document.body.removeChild(e),this.dragItem=null,this.$emit("update:dragState",!1)}};(0,l.gn)([(0,c.fI)({type:String,required:!0})],$t.prototype,"root",void 0),(0,l.gn)([(0,c.fI)({type:Array,required:!0})],$t.prototype,"files",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],$t.prototype,"dense",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],$t.prototype,"loading",void 0),(0,l.gn)([(0,c.fI)({type:Array,required:!0})],$t.prototype,"headers",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!1})],$t.prototype,"search",void 0),(0,l.gn)([(0,c.fI)({type:Array,default:()=>[]})],$t.prototype,"filters",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],$t.prototype,"dragState",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],$t.prototype,"disabled",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],$t.prototype,"bulkActions",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],$t.prototype,"largeThumbnails",void 0),(0,l.gn)([(0,c.fI)({type:Array,required:!0})],$t.prototype,"selected",void 0),(0,l.gn)([(0,c.RL)("selected")],$t.prototype,"onSelected",null),$t=(0,l.gn)([(0,c.wA)({components:{FileRowItem:xt}})],$t);var wt=$t,Ct=wt,kt=s(70128),St=s(76392),Pt=s.n(St),Et=s(46286),Zt=(0,C.Z)(Ct,mt,ht,!1,null,"223c75a7",null),Rt=Zt.exports;S()(Zt,{VDataTable:le.Z,VIcon:P.Z,VLayout:H.Z,VSimpleCheckbox:kt.Z}),Pt()(Zt,{Ripple:Et.Z});var Tt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{transition:"slide-y-transition",value:e.open,"position-x":e.positionX,"position-y":e.positionY,"min-width":"180",absolute:"",right:""},on:{input:function(t){return e.$emit("update:open",t)}}},[s("v-card",[s("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[s("v-col",[s("v-list",{attrs:{dense:""}},["directory"!==e.file.type&&e.rootProperties.accepts.includes("."+e.file.extension)&&e.rootProperties.canPrint?s("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$emit("print",e.file)}}},[s("v-list-item-icon",[s("v-icon",[e._v("$printer")])],1),s("v-list-item-title",[e._v(" Print ")])],1):e._e(),e.canPreheat?s("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$emit("preheat",e.file)}}},[s("v-list-item-icon",[s("v-icon",[e._v("$fire")])],1),s("v-list-item-title",[e._v(e._s(e.$t("app.general.btn.preheat")))])],1):e._e(),"directory"!==e.file.type&&e.rootProperties.canEdit?s("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$emit("edit",e.file)}}},[s("v-list-item-icon",[s("v-icon",[e._v("$pencil")])],1),s("v-list-item-title",[e._v(e._s(e.$t("app.general.btn.edit")))])],1):e._e(),"directory"!==e.file.type&&e.rootProperties.canView?s("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$emit("view",e.file)}}},[s("v-list-item-icon",[s("v-icon",[e._v("$magnify")])],1),s("v-list-item-title",[e._v(e._s(e.$t("app.general.btn.view")))])],1):e._e(),"directory"!==e.file.type?s("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$emit("download",e.file)}}},[s("v-list-item-icon",[s("v-icon",[e._v("$download")])],1),s("v-list-item-title",[e._v(e._s(e.$t("app.general.btn.download")))])],1):e._e(),"directory"!==e.file.type&&e.canPreviewGcode?s("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$emit("preview-gcode",e.file)}}},[s("v-list-item-icon",[s("v-icon",[e._v("$magnify")])],1),s("v-list-item-title",[e._v(e._s(e.$t("app.general.btn.preview_gcode")))])],1):e._e(),e.rootProperties.readonly?e._e():s("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$emit("rename",e.file)}}},[s("v-list-item-icon",[s("v-icon",[e._v("$rename")])],1),s("v-list-item-title",[e._v(e._s(e.$t("app.general.btn.rename")))])],1),!e.rootProperties.readonly||e.rootProperties.canDelete?s("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$emit("remove",e.file)}}},[s("v-list-item-icon",[s("v-icon",[e._v("$delete")])],1),s("v-list-item-title",[e._v(e._s(e.$t("app.general.btn.remove")))])],1):e._e()],1)],1),"thumbnails"in e.file&&e.file.thumbnails&&e.file.thumbnails.length?s("v-col",{staticClass:"px-2 d-none d-sm-flex"},[s("img",{staticClass:"mr-2 ml-2",attrs:{src:e.getThumbUrl(e.file.thumbnails,e.file.path,!0,e.file.modified),height:150}})]):e._e()],1)],1)],1)},Lt=[];let Dt=class extends((0,c.Wr)(d.Z,b.Z)){get rootProperties(){return this.$store.getters["files/getRootProperties"](this.root)}get canPreheat(){return"first_layer_extr_temp"in this.file&&"first_layer_bed_temp"in this.file&&!this.printerPrinting&&!this.printerPaused&&this.klippyReady}get canPreviewGcode(){return this.$store.getters["layout/isEnabledInLayout"]("dashboard","gcode-preview-card")&&"gcodes"===this.root}};(0,l.gn)([(0,c.fI)({type:String,required:!0})],Dt.prototype,"root",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Dt.prototype,"open",void 0),(0,l.gn)([(0,c.fI)({type:Object,required:!0})],Dt.prototype,"file",void 0),(0,l.gn)([(0,c.fI)({type:Number,required:!0})],Dt.prototype,"positionX",void 0),(0,l.gn)([(0,c.fI)({type:Number,required:!0})],Dt.prototype,"positionY",void 0),Dt=(0,l.gn)([(0,c.wA)({})],Dt);var At=Dt,It=At,Vt=s(32371),Mt=s(10459),Ft=(0,C.Z)(It,Tt,Lt,!1,null,null,null),Ot=Ft.exports;S()(Ft,{VCard:Vt.Z,VCol:K.Z,VIcon:P.Z,VList:Ae.Z,VListItem:Ie.Z,VListItemIcon:Mt.Z,VListItemTitle:Ve.V9,VMenu:Me.Z,VRow:Q.Z});var Bt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,loading:e.loading,"hide-overlay":"",fullscreen:"",persistent:"",transition:"dialog-bottom-transition","content-class":"config-editor-overlay"},on:{input:function(t){return e.$emit("input",t)}}},[s("v-card",{staticClass:"fill-height",staticStyle:{overflow:"hidden"},attrs:{"d-flex":""}},[s("v-toolbar",{staticStyle:{"z-index":"1"},attrs:{dense:"",elevation:6}},[e.$vuetify.breakpoint.smAndDown?e._e():s("app-btn",{attrs:{icon:"",disabled:!e.ready,color:""},on:{click:function(t){return e.emitClose()}}},[s("v-icon",[e._v("$close")])],1),s("v-toolbar-title",[e._v(e._s(e.filename))]),s("v-spacer"),s("v-toolbar-items",[e.isMobile?e._e():s("app-btn",{on:{click:e.handleCommandPalette}},[s("v-icon",{attrs:{small:"",left:!e.$vuetify.breakpoint.smAndDown}},[e._v(" $consoleLine ")]),e.$vuetify.breakpoint.smAndDown?e._e():s("span",[e._v(e._s(e.$t("app.file_system.title.command_palette")))])],1),!e.printerPrinting&&e.configMap.link?s("app-btn",{attrs:{href:e.configMap.link,target:"_blank"}},[s("v-icon",{attrs:{small:"",left:!e.$vuetify.breakpoint.smAndDown}},[e._v(" $help ")]),e.$vuetify.breakpoint.smAndDown?e._e():s("span",[e._v(e._s(e.$t("app.general.btn.config_reference")))])],1):e._e(),e.readonly||e.printerPrinting||!e.configMap.serviceSupported?e._e():s("app-btn",{attrs:{disabled:!e.ready},on:{click:function(t){return e.emitSave(!0)}}},[s("v-icon",{attrs:{small:"",left:!e.$vuetify.breakpoint.smAndDown}},[e._v(" $restart ")]),e.$vuetify.breakpoint.smAndDown?e._e():s("span",[e._v(e._s(e.$t("app.general.btn.save_restart")))])],1),e.readonly?e._e():s("app-btn",{attrs:{disabled:!e.ready},on:{click:function(t){return e.emitSave(!1)}}},[s("v-icon",{attrs:{small:"",left:!e.$vuetify.breakpoint.smAndDown}},[e._v(" $save ")]),e.$vuetify.breakpoint.smAndDown?e._e():s("span",[e._v(e._s(e.$t("app.general.btn.save")))])],1),s("app-btn",{on:{click:function(t){return e.emitClose()}}},[s("v-icon",{attrs:{small:"",left:!e.$vuetify.breakpoint.smAndDown}},[e._v(" $close ")]),e.$vuetify.breakpoint.smAndDown?e._e():s("span",[e._v(e._s(e.$t("app.general.btn.close")))])],1)],1)],1),void 0===e.contents||e.isMobile?e._e():s("file-editor",{ref:"editor",attrs:{filename:e.filename,readonly:e.readonly},on:{ready:function(t){e.editorReady=!0}},model:{value:e.updatedContent,callback:function(t){e.updatedContent=t},expression:"updatedContent"}}),void 0!==e.contents&&e.isMobile?s("file-editor-text-only",{attrs:{filename:e.filename,readonly:e.readonly},on:{ready:function(t){e.editorReady=!0}},model:{value:e.updatedContent,callback:function(t){e.updatedContent=t},expression:"updatedContent"}}):e._e()],1)],1)},Nt=[],Ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"monaco-editor",staticClass:"editor"},[e.editor?e._e():s("div",{staticClass:"spinner"},[s("v-progress-circular",{attrs:{indeterminate:"",size:"100",color:"primary"}})],1)])},Ht=[];let jt,Wt=class extends c.w3{constructor(){super(...arguments),this.editor=null,this.opts={contextmenu:!1,readOnly:this.readonly,automaticLayout:!0,fontSize:16,scrollbar:{useShadows:!1},minimap:{enabled:!this.isMobile},rulers:this.isMobile?[80,120]:[]}}get isMobile(){return this.$vuetify.breakpoint.mobile}async mounted(){await this.initEditor()}async initEditor(){if(!jt){const{default:e}=await s.e(404).then(s.bind(s,5808));jt=await e}this.$vuetify.theme.dark?jt.editor.setTheme("dark-converted"):jt.editor.setTheme("light-converted"),this.editor=jt.editor.create(this.monacoEditor,{...this.opts});const e=jt.editor.createModel(this.value,void 0,jt.Uri.file(this.filename));this.editor.setModel(e),this.editor.focus(),this.$emit("ready"),this.editor.onDidChangeModelContent((e=>{var t;const s=null===(t=this.editor)||void 0===t?void 0:t.getValue();this.emitChange(s,e)}))}showCommandPalette(){this.editor&&(this.editor.focus(),this.editor.trigger(null,"editor.action.quickCommand",null))}destroyed(){jt&&jt.editor.getModels().forEach((e=>e.dispose())),this.editor&&this.editor.dispose()}emitChange(e,t){this.$emit("change",e,t),this.$emit("input",e)}};(0,l.gn)([(0,c.fI)({type:String,required:!0})],Wt.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],Wt.prototype,"filename",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Wt.prototype,"readonly",void 0),(0,l.gn)([(0,c.Rl)("monaco-editor")],Wt.prototype,"monacoEditor",void 0),Wt=(0,l.gn)([(0,c.wA)({})],Wt);var zt=Wt,qt=zt,Gt=(0,C.Z)(qt,Ut,Ht,!1,null,"18e227ea",null),Yt=Gt.exports;S()(Gt,{VProgressCircular:X.Z});var Kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("textarea",{staticClass:"editor v-input v-textarea px-2",class:{"theme--dark":e.$vuetify.theme.dark},attrs:{readonly:e.readonly,spellcheck:!1},domProps:{value:e.value},on:{change:function(t){return e.emitChange(t.target.value)}}})},Xt=[];let Jt=class extends c.w3{emitChange(e){this.$emit("change",e),this.$emit("input",e)}mounted(){this.$emit("ready")}};(0,l.gn)([(0,c.fI)({type:String,required:!0})],Jt.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Jt.prototype,"readonly",void 0),Jt=(0,l.gn)([(0,c.wA)({})],Jt);var Qt=Jt,es=Qt,ts=(0,C.Z)(es,Kt,Xt,!1,null,"0c9fa55a",null),ss=ts.exports;const rs=()=>{var e,t;return null!==(t=null===(e=navigator.userAgentData)||void 0===e?void 0:e.mobile)&&void 0!==t?t:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};var as=rs;let is=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.updatedContent=this.contents,this.lastSavedContent=this.updatedContent,this.editorReady=!1}get ready(){return!this.loading&&this.editorReady&&!this.isUploading}get isMobile(){return as()}get isUploading(){return this.$store.state.files.uploads.length>0}get rootProperties(){return this.$store.getters["files/getRootProperties"](this.root)}get configMap(){return this.$store.getters["server/getConfigMapByFilename"](this.filename)}mounted(){this.updatedContent=this.contents,this.lastSavedContent=this.updatedContent,window.addEventListener("beforeunload",this.handleBeforeUnload)}beforeDestroy(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}get showDirtyEditorWarning(){return this.$store.state.config.uiSettings.editor.confirmDirtyEditorClose&&this.updatedContent!==this.lastSavedContent}async emitClose(){if(this.showDirtyEditorWarning){const e=await this.$confirm(this.$tc("app.general.simple_form.msg.unsaved_changes"),{title:this.$tc("app.general.label.unsaved_changes"),color:"card-heading",icon:"$error"});if(!e)return}this.$emit("input",!1)}handleBeforeUnload(e){if(this.showDirtyEditorWarning)return e.preventDefault(),(e||window.event).returnValue=!0}emitSave(e){this.editorReady&&(this.configMap.serviceSupported&&e?(this.$emit("save",this.updatedContent,this.configMap.service),this.$emit("input",!1)):this.$emit("save",this.updatedContent),this.lastSavedContent=this.updatedContent)}handleCommandPalette(){var e;null===(e=this.editor)||void 0===e||e.showCommandPalette()}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],is.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],is.prototype,"root",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],is.prototype,"filename",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],is.prototype,"contents",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],is.prototype,"loading",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],is.prototype,"readonly",void 0),(0,l.gn)([(0,c.Rl)("editor")],is.prototype,"editor",void 0),is=(0,l.gn)([(0,c.wA)({components:{FileEditor:Yt,FileEditorTextOnly:ss}})],is);var ns=is,os=ns,ls=s(4497),cs=(0,C.Z)(os,Bt,Nt,!1,null,null,null),ds=cs.exports;S()(cs,{VCard:Vt.Z,VDialog:ls.Z,VIcon:P.Z,VSpacer:et.Z,VToolbar:st.Z,VToolbarItems:rt.lj,VToolbarTitle:rt.qW});var ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":320},on:{input:function(t){return e.$emit("input",t)}}},[s("v-form",{ref:"addInstanceForm",staticClass:"mt-3",on:{submit:function(t){return t.preventDefault(),e.handleSave.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(e.title))])]),s("v-card-text",{staticClass:"py-4"},[s("v-text-field",{attrs:{autofocus:"",outlined:"",label:e.label,rules:e.rules,"hide-details":"auto",required:""},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("app-btn",{attrs:{color:"warning",text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),s("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.save"))+" ")])],1)],1)],1)],1)},us=[];let ms=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.newName="",this.valid=!1}mounted(){this.newName=this.name}handleSave(){this.valid&&(this.$emit("save",this.newName),this.$emit("input",!1))}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],ms.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],ms.prototype,"title",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],ms.prototype,"label",void 0),(0,l.gn)([(0,c.fI)({type:Array,required:!1})],ms.prototype,"rules",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],ms.prototype,"name",void 0),ms=(0,l.gn)([(0,c.wA)({})],ms);var hs=ms,gs=hs,vs=s(11418),fs=s(46232),_s=(0,C.Z)(gs,ps,us,!1,null,null,null),ys=_s.exports;S()(_s,{VCard:Vt.Z,VCardActions:Y.h7,VCardText:Y.ZB,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VForm:fs.Z,VSpacer:et.Z,VTextField:tt.Z});var bs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-overlay",{staticClass:"dragOverlay",attrs:{value:e.value,opacity:.85,absolute:""}},[s("v-container",[s("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center","no-gutters":""}},[s("v-col",{staticClass:"text-h6 font-weight-light text-center",attrs:{cols:"12",sm:"6"}},[s("v-icon",{attrs:{"x-large":""}},[e._v(" $fileUpload ")]),s("span",{domProps:{innerHTML:e._s(e.$t("app.file_system.overlay.label"))}})],1)],1)],1)],1)},xs=[];let $s=class extends((0,c.Wr)(d.Z)){};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],$s.prototype,"value",void 0),$s=(0,l.gn)([(0,c.wA)({})],$s);var ws=$s,Cs=ws,ks=s(4228),Ss=s(51058),Ps=(0,C.Z)(Cs,bs,xs,!1,null,"3b6c636e",null),Es=Ps.exports;S()(Ps,{VCol:K.Z,VContainer:ks.Z,VIcon:P.Z,VOverlay:Ss.Z,VRow:Q.Z});var Zs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":"500",persistent:""}},[e.file?s("v-card",[s("v-card-title",{staticClass:"card-heading py-2 px-5"},[s("v-icon",{attrs:{left:""}},[e._v(" $download ")]),s("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$t("app.file_system.title.download_file"))+" ")])],1),s("v-card-text",{staticClass:"py-3 px-5"},[s("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.file.filepath)+" ")]),s("v-progress-linear",{staticClass:"mb-2",attrs:{value:e.file.percent,color:"primary"}}),s("table",[s("tr",[s("td",{staticClass:"pr-2"},[e._v(" "+e._s(e.$t("app.file_system.label.downloaded"))+": ")]),s("td",[e._v(e._s(e.file.percent)+"% ("+e._s(e.$filters.getReadableFileSizeString(e.file.loaded))+" / "+e._s(e.$filters.getReadableFileSizeString(e.file.size))+")")])]),s("tr",[s("td",{staticClass:"pr-2"},[e._v(" "+e._s(e.$t("app.file_system.label.transfer_rate"))+": ")]),s("td",[e._v(e._s(e.file.speed.toFixed(2))+" "+e._s(e.file.unit)+"/Sec")])])])],1),s("v-divider"),s("v-card-actions",{staticClass:"py-2 px-5"},[s("v-spacer"),s("app-btn",{attrs:{color:"error",text:""},on:{click:function(t){e.$emit("cancel"),e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")])],1)],1):e._e()],1)},Rs=[];let Ts=class extends((0,c.Wr)(d.Z)){};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Ts.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Object})],Ts.prototype,"file",void 0),Ts=(0,l.gn)([(0,c.wA)({})],Ts);var Ls=Ts,Ds=Ls,As=(0,C.Z)(Ds,Zs,Rs,!1,null,null,null),Is=As.exports;S()(As,{VCard:Vt.Z,VCardActions:Y.h7,VCardText:Y.ZB,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VIcon:P.Z,VProgressLinear:J.Z,VSpacer:et.Z});var Vs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":"500",persistent:""}},[e.files?s("v-card",[s("v-card-title",{staticClass:"card-heading py-2 px-5"},[s("v-icon",{attrs:{left:""}},[e._v(" $fileUpload ")]),s("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$tc("app.file_system.title.upload_file",e.files.length))+" ")])],1),e._l(e.files,(function(t,r){return[100===t.percent&&t.complete||t.cancelled?e._e():s("v-card-text",{key:t.filepath,staticClass:"py-2 px-5"},[s("v-row",[s("v-col",[s("div",{staticClass:"mb-2"},[e._v(" "+e._s(t.filepath)+" ")]),100!==t.percent||t.complete?s("v-progress-linear",{staticClass:"mb-2",attrs:{value:t.percent,color:"primary"}}):s("v-progress-linear",{staticClass:"mb-2",attrs:{indeterminate:"",color:"primary"}}),t.complete||100!==t.percent?e._e():s("div",[e._v(" "+e._s(e.$t("app.file_system.msg.processing"))+" ")]),100!==t.percent?s("table",[s("tr",[s("td",{staticClass:"pr-2"},[e._v(" "+e._s(e.$t("app.file_system.label.uploaded"))+": ")]),s("td",[e._v(e._s(t.percent)+"% ("+e._s(e.$filters.getReadableFileSizeString(t.loaded))+" / "+e._s(e.$filters.getReadableFileSizeString(t.size))+")")])]),s("tr",[s("td",{staticClass:"pr-2"},[e._v(" "+e._s(e.$t("app.file_system.label.transfer_rate"))+": ")]),s("td",[e._v(e._s(t.speed.toFixed(2))+" "+e._s(t.unit)+"/Sec")])])]):e._e()],1),s("v-col",{attrs:{cols:"auto"}},[s("app-btn",{attrs:{color:"error",icon:"",text:"",disabled:t.complete||100===t.percent||t.cancelled},on:{click:function(s){return e.$emit("cancel",t)}}},[s("v-icon",[e._v("$close")])],1)],1)],1)],1),(100!==t.percent||!t.complete)&&r<e.files.length-1?s("v-divider",{key:"divider-"+t.filepath}):e._e()]}))],2):e._e()],1)},Ms=[];let Fs=class extends((0,c.Wr)(d.Z)){};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Fs.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Array})],Fs.prototype,"files",void 0),Fs=(0,l.gn)([(0,c.wA)({})],Fs);var Os=Fs,Bs=Os,Ns=(0,C.Z)(Bs,Vs,Ms,!1,null,null,null),Us=Ns.exports;S()(Ns,{VCard:Vt.Z,VCardText:Y.ZB,VCardTitle:Y.EB,VCol:K.Z,VDialog:ls.Z,VDivider:vs.Z,VIcon:P.Z,VProgressLinear:J.Z,VRow:Q.Z});var Hs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"max-width":e.width},model:{value:e.file.open,callback:function(t){e.$set(e.file,"open",t)},expression:"file.open"}},[e.file.open?s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(e.file.filename))]),s("v-spacer"),s("app-btn",{attrs:{color:"",icon:""},on:{click:function(t){return e.$emit("close")}}},[s("v-icon",[e._v("$close")])],1)],1),s("v-card-text",{staticClass:"py-4"},[s("v-layout",{attrs:{"justify-center":""}},[e.isVideo?s("video",{staticClass:"video-preview",attrs:{controls:""}},[s("source",{attrs:{src:e.file.src,type:e.file.type}})]):s("div",[e._v(" "+e._s(e.file.appFile?"."+e.file.appFile.extension.toUpperCase()+" files":e.file.filename)+" cannot currently be previewed. ")])])],1),s("v-divider"),e.file.appFile&&(e.removable||e.downloadable)?s("v-card-actions",{staticClass:"pt-4"},[s("v-spacer"),e.file.appFile&&e.removable?s("app-btn",{attrs:{text:"",color:"error"},on:{click:function(t){e.$emit("remove",e.file.appFile,(function(){return e.$emit("close")}))}}},[s("v-icon",[e._v("$delete")]),e._v(" "+e._s(e.$t("app.general.btn.remove"))+" ")],1):e._e(),e.file.appFile&&e.downloadable?s("app-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$emit("download",e.file.appFile)}}},[s("v-icon",[e._v("$download")]),e._v(" "+e._s(e.$t("app.general.btn.download"))+" ")],1):e._e()],1):e._e()],1):e._e()],1)},js=[];let Ws=class extends((0,c.Wr)(d.Z)){get icon(){return this.isVideo?"video":"file"}get width(){return window.innerWidth*(this.$vuetify.breakpoint.mdAndDown?1:.5)}get isVideo(){var e;return null===(e=this.file)||void 0===e?void 0:e.type.startsWith("video/")}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Ws.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Object})],Ws.prototype,"file",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Ws.prototype,"downloadable",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Ws.prototype,"removable",void 0),Ws=(0,l.gn)([(0,c.wA)({})],Ws);var zs=Ws,qs=zs,Gs=(0,C.Z)(qs,Hs,js,!1,null,"27a79b51",null),Ys=Gs.exports;S()(Gs,{VCard:Vt.Z,VCardActions:Y.h7,VCardText:Y.ZB,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VIcon:P.Z,VLayout:H.Z,VSpacer:et.Z});var Ks=s(9669),Xs=s.n(Ks);let Js=class extends((0,c.Wr)(d.Z,b.Z,ke.Z)){constructor(){super(...arguments),this.ready=!1,this.currentRoot="",this.search="",this.filters=[],this.contextMenuState={open:!1,x:0,y:0,file:null},this.dragState={browserState:!1,overlay:!1},this.selected=[],this.fileEditorDialogState={open:!1,contents:"",filename:"",loading:!1,readonly:!1},this.fileNameDialogState={open:!1,title:"",value:"",label:"",rules:[],handler:""},this.filePreviewState={open:!1,type:"",filename:"",src:""}}get availableRoots(){return Array.isArray(this.roots)?this.roots:[this.roots]}get rootProperties(){return this.$store.getters["files/getRootProperties"](this.currentRoot)}get disabled(){return!this.$store.getters["files/isRootAvailable"](this.currentRoot)}onDisabledChange(e){e||this.loadFiles(this.currentPath)}get headers(){let e=[{text:"",value:"data-table-icons",sortable:!1,width:"24px"},{text:this.$t("app.general.table.header.name"),value:"name"}];"gcodes"===this.currentRoot&&(e=[...e,{text:this.$t("app.general.table.header.height"),value:"object_height",configurable:!0},{text:this.$t("app.general.table.header.first_layer_height"),value:"first_layer_height",configurable:!0},{text:this.$t("app.general.table.header.layer_height"),value:"layer_height",configurable:!0},{text:this.$t("app.general.table.header.filament"),value:"filament_total",configurable:!0},{text:this.$t("app.general.table.header.filament_weight_total"),value:"filament_weight_total",configurable:!0},{text:this.$t("app.general.table.header.filament_used"),value:"history.filament_used",configurable:!0},{text:this.$t("app.general.table.header.slicer"),value:"slicer",configurable:!0},{text:this.$t("app.general.table.header.slicer_version"),value:"slicer_version",configurable:!0},{text:this.$t("app.general.table.header.estimated_time"),value:"estimated_time",configurable:!0},{text:this.$t("app.general.table.header.print_duration"),value:"history.print_duration",configurable:!0},{text:this.$t("app.general.table.header.total_duration"),value:"history.total_duration",configurable:!0},{text:this.$t("app.general.table.header.first_layer_bed_temp"),value:"first_layer_bed_temp",configurable:!0},{text:this.$t("app.general.table.header.first_layer_extr_temp"),value:"first_layer_extr_temp",configurable:!0},{text:this.$t("app.general.table.header.last_printed"),value:"print_start_time",filter:(e,t,s)=>{const r=this.filters.find((e=>"print_start_time"===e.value));return!this.filters||0===this.filters.length||!r||"file"!==s.type||null===s.print_start_time},configurable:!0}]),e=[...e,{text:this.$t("app.general.table.header.modified"),value:"modified",width:"1%",configurable:!0},{text:this.$t("app.general.table.header.size"),value:"size",width:"1%",configurable:!0}];const t=`${this.currentRoot}_${this.name}`;return this.$store.getters["config/getMergedTableHeaders"](e,t)}get visibleHeaders(){return this.headers.filter((e=>e.visible||void 0===e.visible))}get currentPath(){return this.$store.getters["files/getCurrentPathByRoot"](this.currentRoot)||this.currentRoot}set currentPath(e){this.$store.dispatch("files/updateCurrentPathByRoot",{root:this.currentRoot,path:e})}get visiblePath(){if(this.currentPath&&this.currentPath.startsWith(`${this.currentRoot}`)){const e=this.currentPath.split("/");return e.shift(),e?e.join("/"):""}return this.currentPath}get files(){return this.getAllFiles(this.timelapseBrowser?this.transformTimelapseItems:void 0)}getAllFiles(e){const t=this.$store.getters["files/getDirectory"](this.currentRoot,this.currentPath);return t&&t.items?e?e(t.items):t.items:[]}onFilesChange(){this.selected=[]}get filesLoading(){return this.hasWaitsBy(Ce.hw.onFileSystem)}get currentUploads(){return this.$store.state.files.uploads}get currentDownload(){return this.$store.state.files.download}get registeredRoots(){return this.$store.state.server.info.registered_directories||[]}transformTimelapseItems(e){var t;const s={};for(const r of e)"file"===r.type&&"jpg"!==r.extension&&(s[r.filename.slice(0,-(r.extension.length+1))]=r);for(const r of e)if("file"===r.type&&"jpg"===r.extension){const e=r.filename.slice(0,-4);if(e in s){const a=new URL(null!==(t=this.apiUrl)&&void 0!==t?t:document.location.origin);a.pathname=`/server/files/timelapse${r.path?`/${r.path}`:""}/${r.filename}`,s[e].thumbnails=[{absolute_path:a.toString(),data:"",height:0,width:0,size:0,relative_path:""}]}}return[...e.filter((e=>"directory"===e.type)),...Object.values(s)]}onRegisteredRoots(e){if(e.length>0&&!this.ready)for(const t of this.availableRoots)if(e.includes(t)){this.currentRoot=t,this.ready=!0;break}}handleRootChange(e){e.length&&(this.currentRoot=e,this.loadFiles(e))}loadFiles(e){this.disabled||(this.currentPath=e,this.files.length<=0&&this.refreshPath(e))}refreshPath(e){e&&!this.disabled&&g.r.serverFilesGetDirectory(this.currentRoot,e)}handleFilter(e){this.filters=e}handleRowClick(e,t){if(!this.contextMenuState.open&&!this.disabled)if("directory"===e.type&&"contextmenu"!==t.type){const t=e;if(".."===e.name){const e=this.currentPath.split("/"),t=e.slice(0,-1).join("/");t===this.currentRoot?this.loadFiles(this.currentRoot):this.loadFiles(t)}else this.loadFiles(`${this.currentPath}/${t.dirname}`);this.selected=[]}else"click"===t.type&&"file"===e.type&&(this.$store.state.config.uiSettings.editor.autoEditExtensions.includes(`.${e.extension}`)||this.timelapseBrowser)?this.handleFileOpenDialog(e):(this.contextMenuState.x=t.clientX,this.contextMenuState.y=t.clientY,this.contextMenuState.file=e,this.$nextTick((()=>{this.contextMenuState.open=!0})))}handleRenameDialog(e){if(this.disabled)return;let t=this.$t("app.file_system.title.rename_dir"),s=this.$t("app.file_system.label.dir_name");const r=[e=>!!e||this.$t("app.general.simple_form.error.required")];"file"===e.type&&(t=this.$t("app.file_system.title.rename_file"),s=this.$t("app.file_system.label.file_name")),this.fileNameDialogState={open:!0,title:t,label:s,value:e.name,rules:r,handler:this.handleRename}}handleAddFileDialog(){this.disabled||(this.fileNameDialogState={open:!0,title:this.$t("app.file_system.title.add_file"),label:this.$t("app.file_system.label.file_name"),value:"",rules:[e=>!!e||this.$t("app.general.simple_form.error.required")],handler:this.handleAddFile})}handleAddDirDialog(){this.disabled||(this.fileNameDialogState={open:!0,title:this.$t("app.file_system.title.add_dir"),label:this.$t("app.file_system.label.dir_name"),value:"",rules:[e=>!!e||this.$t("app.general.simple_form.error.required")],handler:this.handleAddDir})}handleFileOpenDialog(e){this.timelapseBrowser&&"zip"===e.extension?this.filePreviewState={open:!0,type:"unknown",filename:e.filename,src:"",appFile:e}:(this.cancelTokenSource=Xs().CancelToken.source(),this.getFile(e.filename,this.currentPath,e.size,{responseType:this.timelapseBrowser?"arraybuffer":"text",transformResponse:[e=>e],cancelToken:this.cancelTokenSource.token}).then((t=>{if(this.timelapseBrowser){const s=t.headers["content-type"],r=new Blob([t.data],{type:s});this.filePreviewState={open:!0,type:s,filename:e.filename,src:URL.createObjectURL(r),appFile:e}}else this.fileEditorDialogState={open:!0,contents:t.data,filename:e.filename,loading:!1,readonly:this.rootProperties.readonly}})).finally((()=>this.$store.dispatch("files/removeFileDownload"))).catch((e=>e)))}handleClosePreview(){this.filePreviewState.open=!1,URL.revokeObjectURL(this.filePreviewState.src)}handleCancelDownload(){this.cancelTokenSource&&this.cancelTokenSource.cancel("User cancelled."),this.$store.dispatch("files/removeFileDownload")}async handlePreviewGcode(e){this.getGcode(e).then((e=>null===e||void 0===e?void 0:e.data)).then((t=>{"/"!==this.$router.currentRoute.path&&this.$router.push({path:"/"}),this.$store.dispatch("gcodePreview/loadGcode",{file:e,gcode:t})})).catch((e=>e)).finally((()=>{this.$store.dispatch("files/removeFileDownload")}))}handlePrint(e){this.disabled||(g.r.printerPrintStart(`${this.visiblePath}/${e.filename}`),"/"!==this.$router.currentRoute.path&&this.$router.push({path:"/"}))}async handleSaveFileChanges(e,t){if(e.length>0){const s=new File([e],this.fileEditorDialogState.filename);if(!t&&this.fileEditorDialogState.open&&(this.fileEditorDialogState.loading=!0),await this.uploadFile(s,this.visiblePath,this.currentRoot,!1),this.fileEditorDialogState.loading=!1,t){if("moonraker"===t)return void this.serviceRestartMoonraker();if("klipper"===t)return void this.firmwareRestartKlippy();this.serviceRestartByName(t)}}}handleMove(e,t){let s=`${this.currentPath}/${t.dirname}`;if(".."===t.dirname){const e=this.currentPath.split("/");e.pop(),s=e.join("/")}const r=Array.isArray(e)?e.filter((e=>".."!==e.name)):[e];r.forEach((e=>{if("file"===e.type){const r=`${this.currentPath}/${e.filename}`,a=s?`${s}/${e.filename}`:`${e.filename}`;if(g.r.serverFilesMove(r,a),this.timelapseBrowser&&"jpg"!==e.extension){const s=e.filename.slice(0,-(e.extension.length+1)),r=this.getAllFiles().filter((e=>"file"===e.type&&"jpg"===e.extension&&e.filename.startsWith(s)));r.length&&this.handleMove(r,t)}}else{const t=`${this.currentPath}/${e.dirname}`,r=s?`${s}/${e.dirname}`:`${e.dirname}`;g.r.serverFilesMove(t,r)}}))}handleRename(e){const t=`${this.currentPath}/${this.fileNameDialogState.value}`,s=`${this.currentPath}/${e}`;g.r.serverFilesMove(t,s)}handleRemove(e,t){if(this.disabled)return;const s=Array.isArray(e)?e.filter((e=>".."!==e.name)):[e];if(this.timelapseBrowser){const e=[],t=this.getAllFiles();for(const r of s)if("file"===r.type){const s=r.filename.slice(0,-(r.extension.length+1));for(const r of t)"file"===r.type&&"jpg"===r.extension&&r.filename.startsWith(s)&&e.push(r)}s.push(...e)}const r=this.$tc("app.file_system.msg.confirm");this.$confirm(r,{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{s.forEach((t=>{e&&("directory"===t.type&&g.r.serverFilesDeleteDirectory(`${this.currentPath}/${t.name}`,!0),"file"===t.type&&g.r.serverFilesDeleteFile(`${this.currentPath}/${t.name}`))})),t&&t()}))}async handleUpload(e,t){this.$store.dispatch("wait/addWait",Ce.hw.onFileSystem),this.uploadFiles(e,this.visiblePath,this.currentRoot,t),this.$store.dispatch("wait/removeWait",Ce.hw.onFileSystem)}handleCancelUpload(e){e.complete||(0===e.loaded&&this.$store.dispatch("files/updateFileUpload",{filepath:e.filepath,cancelled:!0}),e.loaded>0&&e.loaded<e.size&&this.cancelTokenSource&&this.cancelTokenSource.cancel("User cancelled."))}handleAddDir(e){g.r.serverFilesPostDirectory(`${this.currentPath}/${e}`)}handleAddFile(e){const t=new File([],e);this.uploadFile(t,this.visiblePath,this.currentRoot,!1)}handleDownload(e){this.downloadFile(e.filename,this.currentPath)}handlePreheat(e){this.disabled||e.first_layer_extr_temp&&e.first_layer_bed_temp&&!this.printerPrinting&&!this.printerPaused&&this.klippyReady&&(e.first_layer_extr_temp>0&&this.sendGcode(`M104 S${e.first_layer_extr_temp}`),e.first_layer_bed_temp>0&&this.sendGcode(`M140 S${e.first_layer_bed_temp}`))}handleDragEnter(){this.rootProperties.readonly||this.dragState.browserState||(this.dragState.overlay=!0)}handleDragLeave(){this.dragState.overlay=!1}async handleDropFile(e){this.dragState.overlay=!1,e&&e.dataTransfer&&e.dataTransfer.files.length&&!this.rootProperties.readonly&&this.handleUpload(e.dataTransfer.files,!1)}};(0,l.gn)([(0,c.fI)({type:[String,Array],required:!0})],Js.prototype,"roots",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!1})],Js.prototype,"name",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Js.prototype,"dense",void 0),(0,l.gn)([(0,c.fI)({type:[Number,String]})],Js.prototype,"height",void 0),(0,l.gn)([(0,c.fI)({type:[Number,String]})],Js.prototype,"maxHeight",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Js.prototype,"bulkActions",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Js.prototype,"timelapseBrowser",void 0),(0,l.gn)([(0,c.RL)("disabled")],Js.prototype,"onDisabledChange",null),(0,l.gn)([(0,c.RL)("files")],Js.prototype,"onFilesChange",null),(0,l.gn)([(0,c.RL)("registeredRoots",{immediate:!0})],Js.prototype,"onRegisteredRoots",null),Js=(0,l.gn)([(0,c.wA)({components:{FileSystemToolbar:it,FileSystemBulkActions:ut,FileSystemBrowser:Rt,FileSystemContextMenu:Ot,FileSystemDragOverlay:Es,FileEditorDialog:ds,FileNameDialog:ys,FileSystemDownloadDialog:Is,FileSystemUploadDialog:Us,FilePreviewDialog:Ys}})],Js);var Qs=Js,er=Qs,tr=(0,C.Z)(er,$e,we,!1,null,"d206108a",null),sr=tr.exports;S()(tr,{VCard:Vt.Z});let rr=class extends((0,c.Wr)(d.Z)){get inLayout(){return this.$store.state.config.layoutMode}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],rr.prototype,"enabled",void 0),rr=(0,l.gn)([(0,c.wA)({components:{FileSystem:sr}})],rr);var ar=rr,ir=ar,nr=(0,C.Z)(ir,be,xe,!1,null,null,null),or=nr.exports;S()(nr,{VIcon:P.Z});var lr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.tool"),icon:"$printer3dNozzle",draggable:!0,"layout-path":"dashboard.toolhead-card","menu-breakpoint":"lg"},scopedSlots:e._u([{key:"title",fn:function(){return[s("v-icon",{attrs:{left:""}},[e._v(" $printer3dNozzle ")]),s("span",{staticClass:"font-weight-light"},[e._v(e._s(e.$t("app.general.title.tool")))]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-icon",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:!e.extruderReady,expression:"!extruderReady"}],staticClass:"ml-3",attrs:{color:"info"}},"v-icon",a,!1),r),[e._v(" $snowflakeAlert ")])]}}])},[s("span",{domProps:{innerHTML:e._s(e.$t("app.tool.tooltip.extruder_disabled",{min:e.activeExtruder.min_extrude_temp}))}})])]},proxy:!0},{key:"menu",fn:function(){return[s("app-btn-collapse-group",[s("app-btn",{staticClass:"ml-1",attrs:{elevation:2,disabled:!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){return e.sendGcode("M84")}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.motors_off"))+" ")]),e.printerSupportsBedScrews?s("app-btn",{staticClass:"ml-1",attrs:{elevation:2,loading:e.hasWait(e.waits.onBedScrewsAdjust),disabled:!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){return e.sendGcode("BED_SCREWS_ADJUST",e.waits.onBedScrewsAdjust)}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.bed_screws_adjust"))+" ")]):e._e(),e.printerSupportsBedScrewsCalculate?s("app-btn",{staticClass:"ml-1",attrs:{elevation:2,loading:e.hasWait(e.waits.onBedScrewsCalculate),disabled:!e.allHomed||!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){return e.sendGcode("SCREWS_TILT_CALCULATE",e.waits.onBedScrewsCalculate)}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.screws_tilt_calculate"))+" ")]):e._e(),e.printerSupportsZtilt?s("app-btn",{staticClass:"ml-1",attrs:{elevation:2,loading:e.hasWait(e.waits.onZTilt),disabled:!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){return e.sendGcode("Z_TILT_ADJUST",e.waits.onZTilt)}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.z_tilt_adjust"))+" ")]):e._e(),e.printerSupportsQgl?s("app-btn",{staticClass:"ml-1",attrs:{elevation:2,loading:e.hasWait(e.waits.onQGL),disabled:!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){return e.sendGcode("QUAD_GANTRY_LEVEL",e.waits.onQGL)}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.quad_gantry_level"))+" ")]):e._e()],1)]},proxy:!0}])},[s("toolhead")],1)},cr=[];let dr=class extends a["default"]{get activeExtruder(){return this.$store.getters["printer/getActiveExtruder"]}get extruderReady(){const e=this.$store.getters["printer/getActiveExtruder"];return!!(e&&e.temperature>=0&&e.min_extrude_temp>=0)&&e.temperature>=e.min_extrude_temp}get allHomed(){return this.$store.getters["printer/getHomedAxes"]("xyz")}get xyHomed(){return this.$store.getters["printer/getHomedAxes"]("xy")}get xHomed(){return this.$store.getters["printer/getHomedAxes"]("x")}get yHomed(){return this.$store.getters["printer/getHomedAxes"]("y")}get zHomed(){return this.$store.getters["printer/getHomedAxes"]("z")}get hasHomingOverride(){return this.$store.getters["printer/getHasHomingOverride"]}};dr=(0,l.gn)([c.wA],dr);var pr=dr,ur=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card-text",[s("v-row",{staticClass:"mb-2",attrs:{justify:"space-between",align:"start"}},[s("v-col",{staticClass:"controls-wrapper"},[e.multipleExtruders?s("extruder-selection"):e._e(),e.printerPrinting?e._e():s("toolhead-moves"),e.printerPrinting?s("z-height-adjust"):e._e()],1),s("v-col",{staticClass:"controls-wrapper"},[s("toolhead-position"),e.printerPrinting?e._e():s("extruder-moves"),e.printerPrinting?e._e():s("z-height-adjust")],1)],1),s("speed-and-flow-adjust"),e.showPressureAdvance?s("pressure-advance-adjust"):e._e()],1)},mr=[],hr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",{staticClass:"mb-2",attrs:{"no-gutters":"",justify:"start"}},[s("v-col",{staticClass:"ml-12 mr-12",attrs:{cols:"auto"}},[s("app-btn-toolhead-move",{attrs:{color:e.yHomed?"primary":void 0,disabled:!e.yHomed||!e.klippyReady,icon:"$up"},on:{click:function(t){return e.sendMoveGcode("Y",e.toolheadMoveLength)}}})],1),s("v-col",{staticClass:"ml-2",attrs:{cols:"auto"}},[s("app-btn-toolhead-move",{attrs:{color:e.zHomed?"primary":void 0,disabled:!e.zHomed||!e.klippyReady,icon:"$up"},on:{click:function(t){return e.sendMoveGcode("Z",e.toolheadMoveLength)}}})],1),e.canHomeXY?s("v-col",{staticClass:"ml-2"},[s("app-btn-toolhead-move",{attrs:{color:e.allHomed?void 0:"primary",loading:e.hasWait(e.waits.onHomeAll),disabled:!e.klippyReady||e.printerPrinting,icon:"$home","small-icon":""},on:{click:function(t){return e.sendGcode("G28",e.waits.onHomeAll)}}},[e._v(" "+e._s(e.$t("app.tool.btn.home_all"))+" ")])],1):e._e()],1),s("v-row",{staticClass:"mb-2",attrs:{"no-gutters":"",justify:"start"}},[s("v-col",{attrs:{cols:"auto"}},[s("app-btn-toolhead-move",{attrs:{color:e.xHomed?"primary":void 0,disabled:!e.xHomed||!e.klippyReady,icon:"$left"},on:{click:function(t){return e.sendMoveGcode("X",e.toolheadMoveLength,!0)}}})],1),s("v-col",{staticClass:"ml-2",attrs:{cols:"auto"}},[s("app-btn-toolhead-move",{attrs:{color:e.xyHomed?void 0:"primary",loading:e.hasWait(e.waits.onHomeXY),disabled:!e.klippyReady||e.printerPrinting,tooltip:e.$t("app.tool.tooltip.home_xy"),icon:"$home"},on:{click:function(t){return e.sendGcode("G28 X Y",e.waits.onHomeXY)}}})],1),s("v-col",{staticClass:"ml-2",attrs:{cols:"auto",justify:"end"}},[s("app-btn-toolhead-move",{attrs:{color:e.xHomed?"primary":void 0,disabled:!e.xHomed||!e.klippyReady,icon:"$right"},on:{click:function(t){return e.sendMoveGcode("X",e.toolheadMoveLength)}}})],1),e.canHomeXY?s("v-col",{staticClass:"ml-2",attrs:{cols:"auto"}},[s("app-btn-toolhead-move",{attrs:{color:e.zHomed?void 0:"primary",loading:e.hasWait(e.waits.onHomeZ),disabled:!e.klippyReady||e.printerPrinting,tooltip:e.$t("app.tool.tooltip.home_z"),icon:"$home"},on:{click:function(t){return e.sendGcode("G28 Z",e.waits.onHomeZ)}}})],1):e._e(),e.canHomeXY?s("v-col",{staticClass:"ml-2"},[s("app-btn-toolhead-move",{attrs:{color:e.xHomed?void 0:"primary",loading:e.hasWait(e.waits.onHomeX),disabled:!e.klippyReady||e.printerPrinting,icon:"$home","small-icon":""},on:{click:function(t){return e.sendGcode("G28 X",e.waits.onHomeX)}}},[e._v(" "+e._s(e.$t("app.tool.btn.home_x"))+" ")])],1):e._e()],1),s("v-row",{staticClass:"mb-2",attrs:{"no-gutters":"",justify:"start"}},[s("v-col",{staticClass:"ml-12 mr-7",attrs:{cols:"auto"}},[s("app-btn-toolhead-move",{attrs:{color:e.yHomed?"primary":void 0,disabled:!e.yHomed||!e.klippyReady,icon:"$down"},on:{click:function(t){return e.sendMoveGcode("Y",e.toolheadMoveLength,!0)}}})],1),s("v-col",{staticClass:"ml-7",attrs:{cols:"auto"}},[s("app-btn-toolhead-move",{attrs:{color:e.zHomed?"primary":void 0,disabled:!e.zHomed||!e.klippyReady,icon:"$down"},on:{click:function(t){return e.sendMoveGcode("Z",e.toolheadMoveLength,!0)}}})],1),e.canHomeXY?s("v-col",{staticClass:"ml-2"},[s("app-btn-toolhead-move",{attrs:{color:e.yHomed?void 0:"primary",loading:e.hasWait(e.waits.onHomeY),disabled:!e.klippyReady||e.printerPrinting,icon:"$home","small-icon":""},on:{click:function(t){return e.sendGcode("G28 Y",e.waits.onHomeY)}}},[e._v(" "+e._s(e.$t("app.tool.btn.home_y"))+" ")])],1):e._e()],1),s("v-row",{staticClass:"mb-2",attrs:{"no-gutters":"",justify:"start"}},[s("v-col",[s("v-btn-toggle",{attrs:{mandatory:"",dense:""},model:{value:e.toolheadMoveLength,callback:function(t){e.toolheadMoveLength=e._n(t)},expression:"toolheadMoveLength"}},e._l(e.toolheadMoveDistances,(function(t,r){return s("app-btn",{key:r,attrs:{small:"","min-width":40,value:t,disabled:!e.klippyReady}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1)},gr=[];let vr=class extends((0,c.Wr)(d.Z,pr)){constructor(){super(...arguments),this.waits=Ce.hw,this.moveLength="",this.fab=!1}get kinematics(){return this.$store.getters["printer/getPrinterSettings"]("printer.kinematics")||""}get canHomeXY(){return"delta"!==this.kinematics}get toolheadMoveDistances(){const e=this.$store.state.config.uiSettings.general.toolheadMoveDistances;return e.includes(this.toolheadMoveLength)?e:[this.toolheadMoveLength,...e].sort(((e,t)=>e-t))}get toolheadMoveLength(){return""===this.moveLength?this.$store.state.config.uiSettings.general.defaultToolheadMoveLength:this.moveLength}set toolheadMoveLength(e){this.moveLength=e}sendMoveGcode(e,t,s=!1){e=e.toLowerCase();const r="z"===e.toLowerCase()?this.$store.state.config.uiSettings.general.defaultToolheadZSpeed:this.$store.state.config.uiSettings.general.defaultToolheadXYSpeed,a=this.$store.state.config.uiSettings.general.axis[e].inverted||!1;t=s&&!a||!s&&a?"-"+t:t,this.sendGcode(`G91\n      G1 ${e}${t} F${60*r}\n      G90`)}};vr=(0,l.gn)([(0,c.wA)({})],vr);var fr=vr,_r=fr,yr=s(47477),br=(0,C.Z)(_r,hr,gr,!1,null,"40588cf4",null),xr=br.exports;S()(br,{VBtnToggle:yr.Z,VCol:K.Z,VRow:Q.Z});var $r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",{on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-row",{attrs:{justify:"end"}},[s("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[s("v-text-field",{ref:"lengthfield",attrs:{disabled:!e.klippyReady,rules:[e.rules.min,e.rules.maxLength],"hide-details":"",outlined:"",dense:"",label:e.$t("app.general.label.extrude_length"),suffix:"mm"},on:{focus:function(e){return e.target.select()}},model:{value:e.extrudeLength,callback:function(t){e.extrudeLength=e._n(t)},expression:"extrudeLength"}})],1),s("v-col",{attrs:{cols:"6"}},[s("app-btn",{attrs:{disabled:!e.extruderReady||!e.klippyReady||!e.valid,elevation:2,block:""},on:{click:function(t){return e.sendRetractGcode(e.extrudeLength,e.extrudeSpeed,e.waits.onExtrude)}}},[e._v(" "+e._s(e.$t("app.general.btn.retract"))+" "),s("v-icon",[e._v("$chevronUp")])],1)],1)],1),s("v-row",{staticClass:"mt-0",attrs:{justify:"end"}},[s("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[s("v-text-field",{attrs:{disabled:!e.klippyReady,rules:[e.rules.min,e.rules.maxSpeed],"hide-details":"",outlined:"",dense:"",label:e.$t("app.general.label.extrude_speed"),suffix:"mm/s"},on:{focus:function(e){return e.target.select()}},model:{value:e.extrudeSpeed,callback:function(t){e.extrudeSpeed=e._n(t)},expression:"extrudeSpeed"}})],1),s("v-col",{attrs:{cols:"6"}},[s("app-btn",{attrs:{disabled:!e.extruderReady||!e.klippyReady||!e.valid,elevation:2,block:""},on:{click:function(t){return e.sendExtrudeGcode(e.extrudeLength,e.extrudeSpeed,e.waits.onExtrude)}}},[e._v(" "+e._s(e.$t("app.general.btn.extrude"))+" "),s("v-icon",[e._v("$chevronDown")])],1)],1)],1)],1)},wr=[];let Cr=class extends((0,c.Wr)(d.Z,pr)){constructor(){super(...arguments),this.waits=Ce.hw,this.feedSpeed=-1,this.feedLength=-1,this.valid=!0,this.rules={min:e=>e>=.1||this.$t("app.general.simple_form.error.min",{min:.1}),maxSpeed:e=>e<=this.maxExtrudeSpeed||this.$t("app.general.simple_form.error.max",{max:this.maxExtrudeSpeed}),maxLength:e=>e<=this.maxExtrudeLength||this.$t("app.general.simple_form.error.max",{max:this.maxExtrudeLength})}}get maxExtrudeSpeed(){return this.$store.getters["printer/getPrinterSettings"]("extruder.max_extrude_only_velocity")}get maxExtrudeLength(){return this.$store.getters["printer/getPrinterSettings"]("extruder.max_extrude_only_distance")}get extrudeSpeed(){return-1===this.feedSpeed?this.$store.state.config.uiSettings.general.defaultExtrudeSpeed:this.feedSpeed}set extrudeSpeed(e){this.feedSpeed=e}get extrudeLength(){return-1===this.feedLength?this.$store.state.config.uiSettings.general.defaultExtrudeLength:this.feedLength}set extrudeLength(e){this.feedLength=e}sendRetractGcode(e,t,s){if(this.valid){const r=`M83\n        G1 E-${e} F${60*t}`;this.sendGcode(r,s)}}sendExtrudeGcode(e,t,s){if(this.valid){const r=`M83\n        G1 E${e} F${60*t}`;this.sendGcode(r,s)}}};Cr=(0,l.gn)([(0,c.wA)({})],Cr);var kr=Cr,Sr=kr,Pr=(0,C.Z)(Sr,$r,wr,!1,null,null,null),Er=Pr.exports;S()(Pr,{VCol:K.Z,VForm:fs.Z,VIcon:P.Z,VRow:Q.Z,VTextField:tt.Z});var Zr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-select",{staticClass:"mb-2 v-input--x-dense",staticStyle:{"max-width":"256px"},attrs:{items:e.extruders,readonly:e.printerPrinting,"item-value":"key","item-text":"name","hide-details":"",outlined:"",dense:""},model:{value:e.extruder,callback:function(t){e.extruder=t},expression:"extruder"}})},Rr=[];let Tr=class extends((0,c.Wr)(d.Z)){get extruders(){return this.$store.getters["printer/getExtruders"]}get extruder(){return this.$store.state.printer.printer.toolhead.extruder}set extruder(e){this.sendGcode(`ACTIVATE_EXTRUDER EXTRUDER=${e}`,Ce.hw.onExtruderChange)}};Tr=(0,l.gn)([(0,c.wA)({components:{}})],Tr);var Lr=Tr,Dr=Lr,Ar=s(12986),Ir=(0,C.Z)(Dr,Zr,Rr,!1,null,null,null),Vr=Ir.exports;S()(Ir,{VSelect:Ar.Z});var Mr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mb-2"},[s("v-row",{attrs:{justify:"space-between","no-gutters":""}},[s("v-col",{staticClass:"pr-1",attrs:{cols:"4"}},[s("v-text-field",{staticClass:"v-input--width-small",attrs:{label:"X [ "+e.livePosition[0].toFixed(2)+" ]",outlined:"","hide-details":"",dense:"",type:"number",disabled:!e.xHomed,readonly:e.printerBusy,value:e.useGcodeCoords?e.gcodePosition[0].toFixed(2):e.toolheadPosition[0].toFixed(2)},on:{change:function(t){return e.moveTo("X",t)}}})],1),s("v-col",{staticClass:"pr-1 pl-1",attrs:{cols:"4"}},[s("v-text-field",{staticClass:"v-input--width-small",attrs:{label:"Y [ "+e.livePosition[1].toFixed(2)+" ]",outlined:"","hide-details":"",dense:"",type:"number",disabled:!e.yHomed,readonly:e.printerBusy,value:e.useGcodeCoords?e.gcodePosition[1].toFixed(2):e.toolheadPosition[1].toFixed(2)},on:{change:function(t){return e.moveTo("Y",t)}}})],1),s("v-col",{staticClass:"pl-1",attrs:{cols:"4"}},[s("v-text-field",{staticClass:"v-input--width-small",attrs:{label:"Z [ "+e.livePosition[2].toFixed(2)+" ]",outlined:"","hide-details":"",dense:"",type:"number",disabled:!e.zHomed,readonly:e.printerBusy,value:e.useGcodeCoords?e.gcodePosition[2].toFixed(2):e.toolheadPosition[2].toFixed(2)},on:{change:function(t){return e.moveTo("Z",t)}}})],1)],1),s("v-row",{directives:[{name:"show",rawName:"v-show",value:e.printerPrinting,expression:"printerPrinting"}],attrs:{justify:"space-between",align:"center","no-gutters":""}},[s("v-col",{staticClass:"secondary--text text--lighten-1",attrs:{cols:"auto"}},[e._v(" "+e._s(e.$t("app.general.label.requested_speed"))+" ")]),s("v-col",{staticClass:"focus--text",attrs:{cols:"auto"}},[e._v(" "+e._s(e.requestedSpeed)+" mm/s ")])],1)],1)},Fr=[];let Or=class extends((0,c.Wr)(d.Z,pr)){get gcodePosition(){return this.$store.state.printer.printer.gcode_move.gcode_position}get toolheadPosition(){return this.$store.state.printer.printer.toolhead.position}get livePosition(){return this.$store.state.printer.printer.motion_report.live_position}get useGcodeCoords(){return this.$store.state.config.uiSettings.general.useGcodeCoords}get requestedSpeed(){const e=this.$store.state.printer.printer.gcode_move.speed_factor||1;let t=this.$store.state.printer.printer.gcode_move.speed||0;return t=t*e/60,t.toFixed()}moveTo(e,t){const s={X:0,Y:1,Z:2},r=this.useGcodeCoords?this.gcodePosition[s[e]]:this.toolheadPosition[s[e]];if(parseInt(r)!==parseInt(t)){const s="z"===e.toLowerCase()?this.$store.state.config.uiSettings.general.defaultToolheadZSpeed:this.$store.state.config.uiSettings.general.defaultToolheadXYSpeed;this.sendGcode(`G90\n        G1 ${e}${t} F${60*s}`)}}};Or=(0,l.gn)([(0,c.wA)({})],Or);var Br=Or,Nr=Br,Ur=(0,C.Z)(Nr,Mr,Fr,!1,null,"6088d145",null),Hr=Ur.exports;S()(Ur,{VCol:K.Z,VRow:Q.Z,VTextField:tt.Z});var jr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{align:"start",justify:"end"}},[s("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[e.moveDistance?s("v-btn-toggle",{attrs:{mandatory:"",dense:""},model:{value:e.moveDistance,callback:function(t){e.moveDistance=t},expression:"moveDistance"}},e._l(e.zAdjustValues,(function(t,r){return s("app-btn",{key:r,staticClass:"px-1",attrs:{small:"",disabled:!e.klippyReady,"min-width":36,value:t}},[e._v(" "+e._s(t)+" ")])})),1):e._e(),s("div",{staticClass:"mt-1"},[s("span",{staticClass:"secondary--text"},[e._v(e._s(e.$t("app.general.label.z_offset"))+" ")]),s("span",[e._v(e._s(e.ZHomingOrigin)+"mm")])])],1),s("v-col",{attrs:{cols:"6"}},[s("v-row",{staticClass:"mr-n1",attrs:{justify:"space-between","no-gutters":""}},[s("v-col",{staticClass:"pr-1",attrs:{cols:"4"}},[s("app-btn",{attrs:{loading:e.hasWait("ZAdjust"),disabled:!e.klippyReady,small:"",block:""},on:{click:function(t){return e.sendZAdjustGcode("+",e.moveDistance,e.waits.onZAdjust)}}},[s("v-icon",{attrs:{small:""}},[e._v(" $zUp ")])],1)],1),s("v-col",{staticClass:"pr-1",attrs:{cols:"4"}},[s("app-btn",{attrs:{loading:e.hasWait("ZAdjust"),disabled:!e.klippyReady,small:"",block:""},on:{click:function(t){return e.sendZAdjustGcode("-",e.moveDistance,e.waits.onZAdjust)}}},[s("v-icon",{attrs:{small:""}},[e._v(" $zDown ")])],1)],1),s("v-col",{staticClass:"pr-1",attrs:{cols:"4"}},[s("app-btn",{attrs:{disabled:!e.klippyReady||e.printerPrinting||0==e.ZHomingOrigin,small:"",block:""},on:{click:e.handleZApplyDialog}},[s("v-icon",{attrs:{small:""}},[e._v(" $save ")])],1)],1)],1)],1)],1)},Wr=[];let zr=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.waits=Ce.hw,this.moveDistance=null}get ZHomingOrigin(){if(this.$store.state.printer.printer.gcode_move.homing_origin&&this.$store.state.printer.printer.gcode_move.homing_origin.length>=4){const e=this.$store.state.printer.printer.gcode_move.homing_origin[2];return e.toFixed(3)}return null}get zAdjustValues(){return this.$store.state.config.uiSettings.general.zAdjustDistances}mounted(){this.moveDistance=this.zAdjustValues[0]}sendZAdjustGcode(e,t,s){const r=this.$store.getters["printer/getHomedAxes"]("z"),a=`SET_GCODE_OFFSET Z_ADJUST=${e}${t} MOVE=${+r}`;this.sendGcode(a,s)}get printerUsesProbeAsEndstop(){return"probe:z_virtual_endstop"===this.$store.getters["printer/getPrinterSettings"]("stepper_z.endstop_pin")}handleZApplyDialog(){let e=this.$tc("app.general.simple_form.msg.apply_z_offset_endstop"),t="Z_OFFSET_APPLY_ENDSTOP";this.printerUsesProbeAsEndstop&&(e=this.$tc("app.general.simple_form.msg.apply_z_offset_probe"),t="Z_OFFSET_APPLY_PROBE"),this.$confirm(e,{title:this.$tc("app.general.label.apply_z_offset"),color:"card-heading",icon:"$error",buttonTrueText:this.$tc("app.general.btn.save_restart"),buttonTrueColor:"primary",buttonFalseText:this.$tc("app.general.btn.cancel")}).then((e=>{e&&(this.sendGcode(t,this.waits.onZApply),this.sendGcode("SAVE_CONFIG",this.waits.onSaveConfig))}))}};zr=(0,l.gn)([(0,c.wA)({})],zr);var qr=zr,Gr=qr,Yr=(0,C.Z)(Gr,jr,Wr,!1,null,null,null),Kr=Yr.exports;S()(Yr,{VBtnToggle:yr.Z,VCol:K.Z,VIcon:P.Z,VRow:Q.Z});var Xr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.speed"),suffix:"%",value:e.speed,overridable:!0,"reset-value":100,disabled:!e.klippyReady||e.hasWait(e.waits.onSetSpeed),locked:!e.klippyReady||e.isMobile,min:1,max:200},on:{change:e.handleSetSpeed}})],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.flow"),suffix:"%",value:e.flow,overridable:!0,"reset-value":100,disabled:!e.klippyReady||e.hasWait(e.waits.onSetFlow),locked:!e.klippyReady||e.isMobile,min:1,max:200},on:{change:e.handleSetFlow}})],1)],1)},Jr=[];let Qr=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.waits=Ce.hw}get flow(){return Math.round(100*this.$store.state.printer.printer.gcode_move.extrude_factor)||100}handleSetFlow(e){this.sendGcode("M221 S"+e,this.waits.onSetFlow)}get speed(){return Math.round(100*this.$store.state.printer.printer.gcode_move.speed_factor)||100}handleSetSpeed(e){this.sendGcode("M220 S"+e,this.waits.onSetSpeed)}get isMobile(){return this.$vuetify.breakpoint.mobile}};Qr=(0,l.gn)([(0,c.wA)({})],Qr);var ea=Qr,ta=ea,sa=(0,C.Z)(ta,Xr,Jr,!1,null,null,null),ra=sa.exports;S()(sa,{VCol:K.Z,VRow:Q.Z});var aa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.pressure_advance"),suffix:"mm/s",value:e.activeExtruder.pressure_advance||0,overridable:!0,"reset-value":e.activeExtruder.config_pressure_advance||0,disabled:!e.klippyReady||e.hasWait(e.waits.onSetPressureAdvance),locked:!e.klippyReady||e.isMobile,min:0,max:2,step:.001},on:{change:e.handleSetPressureAdvance}})],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.smooth_time"),suffix:"s",value:e.activeExtruder.smooth_time||0,overridable:!1,"reset-value":e.activeExtruder.config_smooth_time||0,disabled:!e.klippyReady||e.hasWait(e.waits.onSetPressureAdvance),locked:!e.klippyReady||e.isMobile,min:0,max:.2,step:.001},on:{change:e.handleSetSmoothTime}})],1)],1)},ia=[];let na=class extends((0,c.Wr)(d.Z,pr)){constructor(){super(...arguments),this.waits=Ce.hw}handleSetPressureAdvance(e){this.sendGcode("SET_PRESSURE_ADVANCE ADVANCE="+e,this.waits.onSetPressureAdvance)}handleSetSmoothTime(e){this.sendGcode("SET_PRESSURE_ADVANCE SMOOTH_TIME="+e,this.waits.onSetPressureAdvance)}get isMobile(){return this.$vuetify.breakpoint.mobile}};na=(0,l.gn)([(0,c.wA)({})],na);var oa=na,la=oa,ca=(0,C.Z)(la,aa,ia,!1,null,null,null),da=ca.exports;S()(ca,{VCol:K.Z,VRow:Q.Z});let pa=class extends((0,c.Wr)(d.Z)){get multipleExtruders(){return this.$store.getters["printer/getExtruders"].length>1}get showPressureAdvance(){const e=this.$store.getters["printer/getActiveExtruder"];return void 0!==(null===e||void 0===e?void 0:e.pressure_advance)}};pa=(0,l.gn)([(0,c.wA)({components:{ToolheadMoves:xr,ExtruderMoves:Er,ExtruderSelection:Vr,ToolheadPosition:Hr,ZHeightAdjust:Kr,SpeedAndFlowAdjust:ra,PressureAdvanceAdjust:da}})],pa);var ua=pa,ma=ua,ha=(0,C.Z)(ma,ur,mr,!1,null,"006f36d0",null),ga=ha.exports;S()(ha,{VCardText:Y.ZB,VCol:K.Z,VRow:Q.Z});let va=class extends((0,c.Wr)(d.Z,pr)){get printerSettings(){return this.$store.getters["printer/getPrinterSettings"]()}get printerSupportsQgl(){return"quad_gantry_level"in this.printerSettings}get printerSupportsZtilt(){return"z_tilt"in this.printerSettings}get printerSupportsBedScrews(){return"bed_screws"in this.printerSettings}get printerSupportsBedScrewsCalculate(){return"screws_tilt_adjust"in this.printerSettings}};va=(0,l.gn)([(0,c.wA)({components:{Toolhead:ga}})],va);var fa=va,_a=fa,ya=(0,C.Z)(_a,lr,cr,!1,null,null,null),ba=ya.exports;S()(ya,{VIcon:P.Z,VTooltip:E.Z});var xa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.temperature"),icon:"$fire",lazy:!1,draggable:!0,"layout-path":"dashboard.temperature-card"},scopedSlots:e._u([{key:"title",fn:function(){return[s("v-icon",{attrs:{left:""}},[e._v(" $fire ")]),s("span",{staticClass:"font-weight-light"},[e._v(e._s(e.$t("app.general.title.temperature")))]),s("app-inline-help",{attrs:{bottom:"",small:"",tooltip:e.$t("app.chart.tooltip.help")}})]},proxy:!0},{key:"menu",fn:function(){return[s("app-btn-collapse-group",[s("app-btn",{staticClass:"ma-1",attrs:{small:"",disabled:!e.klippyReady},on:{click:function(t){e.chartVisible=!e.chartVisible}}},[s("v-icon",{attrs:{left:""}},[e._v(" $chart ")]),e._v(" "+e._s(e.chartVisible?e.$t("app.chart.label.off"):e.$t("app.chart.label.on"))+" ")],1),s("temperature-presets-menu",{staticClass:"ma-1",on:{applyOff:e.handleApplyOff,applyPreset:e.handleApplyPreset}}),s("app-btn-collapse-group",{attrs:{collapsed:!0,"menu-icon":"$cog"}},[s("v-checkbox",{staticClass:"mx-2 mt-2 mb-2",attrs:{label:e.$t("app.setting.label.show_rate_of_change"),color:"primary","hide-details":""},model:{value:e.showRateOfChange,callback:function(t){e.showRateOfChange=t},expression:"showRateOfChange"}}),s("v-checkbox",{staticClass:"mx-2 mt-2 mb-2",attrs:{label:e.$t("app.setting.label.show_relative_humidity"),color:"primary","hide-details":""},model:{value:e.showRelativeHumidity,callback:function(t){e.showRelativeHumidity=t},expression:"showRelativeHumidity"}}),s("v-checkbox",{staticClass:"mx-2 mt-2 mb-2",attrs:{label:e.$t("app.setting.label.show_barometric_pressure"),color:"primary","hide-details":""},model:{value:e.showBarometricPressure,callback:function(t){e.showBarometricPressure=t},expression:"showBarometricPressure"}})],1)],1)]},proxy:!0}])},[s("temperature-targets",{on:{legendClick:e.legendToggleSelect,legendPowerClick:e.legendTogglePowerSelect}}),e.chartReady&&e.chartVisible?s("thermal-chart",{ref:"thermalchart",attrs:{height:e.isMobile?"180px":"260px"}}):e._e()],1)},$a=[],wa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chart",style:{height:e.height}},[s("v-chart",{ref:"chart",staticStyle:{overflow:"initial"},attrs:{option:e.options,"update-options":{notMerge:!0},"init-options":{renderer:"svg"}},on:{legendselectchanged:e.handleLegendSelectChange}})],1)},Ca=[],ka=s(16434);let Sa=class extends c.w3{constructor(){super(...arguments),this.loading=!1,this.series=[],this.initialSelected={}}handleLegendSelectChange(e){this.$store.dispatch("charts/saveSelectedLegends",e.selected);let t=this.isMobile?15:20;this.showPowerAxis(e.selected)&&(t=this.isMobile?25:45),this.chart&&!this.loading&&this.chart.setOption({grid:{right:t},yAxis:[{},{show:this.showPowerAxis(e.selected)}]})}get chartData(){return this.$store.getters["charts/getChartData"]}onDataChange(e){this.chart&&!this.loading&&this.chart.setOption({dataset:{source:e}})}mounted(){this.init(),this.loading=!1}beforeDestroy(){"undefined"!==typeof window&&this.chart&&this.chart.dispose()}init(){const e=Object.keys(this.chartData[0]),t=this.$store.getters["printer/getChartableSensors"];t.forEach((t=>{let s=t;t.includes(" ")&&(s=t.split(" ")[1]),this.series.push(this.createSeries(s,t)),e.includes(s+"Target")&&this.series.push(this.createSeries(s+"Target",t)),e.includes(s+"Power")&&this.series.push(this.createSeries(s+"Power",t)),e.includes(s+"Speed")&&this.series.push(this.createSeries(s+"Speed",t))}))}get options(){const e=this.$store.state.config.uiSettings.theme.isDark,t=this.isMobile,s=e?"rgba(255,255,255,0.65)":"rgba(0,0,0,0.45)",r=t?13:14,a={color:e?"#ffffff":"#000000",opacity:.05},i={color:e?"#ffffff":"#000000",opacity:.5};let n=this.isMobile?15:20;this.showPowerAxis(this.initialSelected)&&(n=this.isMobile?35:45);const o={top:20,left:this.isMobile?35:45,right:n,bottom:this.isMobile?52:38},l={backgroundColor:e?"rgba(15,15,15,0.75)":"rgba(255,255,255,0.75)",borderColor:e?"rgba(0,0,0,0.85)":"rgba(255,255,255,0.85)",textStyle:{color:s,fontSize:r}},c=this.$store.getters["config/getTheme"],d=[c.currentTheme.primary,c.currentTheme.secondary],p={grid:o,color:d,legend:{show:!1,selected:this.initialSelected},tooltip:{...l,trigger:"axis",confine:!1,axisPointer:{type:"line",lineStyle:i,label:{color:s,fontSize:r,backgroundColor:l.backgroundColor}},position:this.tooltipPosition,formatter:e=>{let t="";return e.reverse().forEach((e=>{e.seriesName.toLowerCase().endsWith("target")||e.seriesName.toLowerCase().endsWith("power")||e.seriesName.toLowerCase().endsWith("speed")||!e.seriesName||!(e.seriesName in e.value)||(t+=`\n                  <div>\n                    ${e.marker}\n                    <span style="font-size:${r}px;color:${s};font-weight:400;margin-left:2px">\n                      ${e.seriesName}:\n                    </span>\n                    <span style="float:right;margin-left:20px;font-size:${r}px;color:${s};font-weight:900">\n                      ${e.value[e.seriesName].toFixed(2)}<small>°C</small>`,e.seriesName+"Target"in e.value&&(t+=` / ${e.value[e.seriesName+"Target"].toFixed()}<small>°C</small>`),e.seriesName+"Power"in e.value&&(t+=` / ${(100*e.value[e.seriesName+"Power"]).toFixed()}<small>%</small>`),e.seriesName+"Speed"in e.value&&(t+=` / ${(100*e.value[e.seriesName+"Speed"]).toFixed()}<small>%</small>`),t+='</span>\n                  <div style="clear: both"></div>\n                </div>\n                <div style="clear: both"></div>')})),t}},xAxis:{type:"time",boundaryGap:!1,max:"dataMax",min:e=>{const t=this.$store.getters["charts/getChartRetention"];return e.max-1e3*t},axisTick:{show:!1},splitLine:{show:!0,lineStyle:a},axisLabel:{interval:0,margin:14,color:l.textStyle.color,fontSize:r,formatter:"{H}:{mm}",rotate:this.isMobile?45:0},axisPointer:{label:{show:!0,margin:9,formatter:this.xAxisPointerFormatter}}},yAxis:[{name:"Temperature °C",nameTextStyle:{fontSize:r,color:s,align:"left"},nameGap:8,show:!0,type:"value",position:"left",splitLine:{show:!0,lineStyle:a},minInterval:20,maxInterval:60,min:this.yAxisTempMin,max:this.yAxisTempMax,axisLabel:{interval:0,margin:8,color:s,fontSize:r,formatter:"{value}"},boundaryGap:[0,"100%"]},{name:"Power %",nameTextStyle:{fontSize:r,color:s,align:"right"},nameGap:8,show:this.showPowerAxis(this.initialSelected),type:"value",position:"right",splitLine:{show:!1,lineStyle:a},min:0,max:1,axisLabel:{interval:0,margin:8,color:s,fontSize:r,formatter:this.yAxisPowerFormatter},boundaryGap:[0,"100%"]}],dataZoom:[{type:"inside",zoomOnMouseWheel:"shift"}],series:this.series};return p}createSeries(e,t){const s=c.w3.$colorset.next((0,ka.Z)(t),t),r={name:e,type:"line",yAxisIndex:0,showSymbol:!1,animation:!1,color:s,emphasis:{lineStyle:{width:1.5}},lineStyle:{color:s,type:"solid",width:1.5,opacity:1},areaStyle:{opacity:.05},encode:{x:"date",y:e}};e.toLowerCase().endsWith("target")&&(r.yAxisIndex=0,r.emphasis.lineStyle.width=1,r.lineStyle.width=1,r.lineStyle.type="dashed",r.lineStyle.opacity=.8,r.areaStyle.opacity=0),(e.toLowerCase().endsWith("power")||e.toLowerCase().endsWith("speed"))&&(r.yAxisIndex=1,r.emphasis.lineStyle.width=1,r.lineStyle.width=1,r.lineStyle.type="dotted",r.lineStyle.opacity=1,r.areaStyle.opacity=0);const a=this.$store.getters["charts/getSelectedLegends"];return void 0!==a[e]?this.initialSelected[e]=a[e]:this.initialSelected[e]=!(e.toLowerCase().endsWith("power")||e.toLowerCase().endsWith("speed")),r}showPowerAxis(e){const t=Object.keys(e).filter((e=>e.toLowerCase().endsWith("power")||e.toLowerCase().endsWith("speed"))).filter((t=>!0===e[t]));return t.length>0}legendToggleSelect(e){this.chart&&this.chart.dispatchAction({type:"legendToggleSelect",name:e})}tooltipPosition(e,t,s,r,a){const i={top:-10};return i[["left","right"][+(e[0]<a.viewSize[0]/2)]]=10,i}get isMobile(){return this.$vuetify.breakpoint.mobile}xAxisPointerFormatter(e){const t=this.$dayjs(e.value);return t.format("H:mm:ss")}yAxisPointerFormatter(e){return e.value.toFixed()+"°C"}yAxisPowerFormatter(e){return""+100*e}yAxisTempMin(e){let t=10*Math.floor(e.min/10);return t=t===e.min&&t-10>=0?t-10:t,t}yAxisTempMax(e){let t=10*Math.ceil(e.max/10);return t=t===e.max?t+10:t,t}};(0,l.gn)([(0,c.fI)({type:String,default:"100%"})],Sa.prototype,"height",void 0),(0,l.gn)([(0,c.Rl)("chart")],Sa.prototype,"chart",void 0),(0,l.gn)([(0,c.RL)("chartData")],Sa.prototype,"onDataChange",null),Sa=(0,l.gn)([(0,c.wA)({})],Sa);var Pa=Sa,Ea=Pa,Za=(0,C.Z)(Ea,wa,Ca,!1,null,"16c2d270",null),Ra=Za.exports,Ta=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-simple-table",{staticClass:"temperature-table"},[s("thead",[s("tr",[s("th",{attrs:{width:"1%"}}),s("th",{attrs:{width:e.showRateOfChange?"94%":"95%"}},[e._v(" "+e._s(e.$t("app.chart.label.item"))+" ")]),s("th",{attrs:{width:"1%"}},[e._v(" "+e._s(e.$t("app.chart.label.power"))+" ")]),e.showRateOfChange?s("th",{attrs:{width:"1%"}},[e._v(" "+e._s(e.$t("app.chart.label.rate_of_change"))+" ")]):e._e(),s("th",{attrs:{width:"1%"}},[e._v(" "+e._s(e.$t("app.chart.label.current"))+" ")]),s("th",{attrs:{width:"1%"}}),s("th",{attrs:{width:"1%"}},[e._v(" "+e._s(e.$t("app.chart.label.target"))+" ")])])]),s("tbody",[e._l(e.heaters,(function(t){return s("tr",{key:t.name},[s("td",[s("v-icon",{attrs:{small:"",color:t.color}},[e._v(" $fire ")])],1),s("td",{staticClass:"temp-name"},[s("span",{staticClass:"legend-item",class:{active:!(t.name in e.chartSelectedLegends)||e.chartSelectedLegends[t.name]},on:{click:function(s){return e.$emit("legendClick",t)}}},[e._v(" "+e._s(t.prettyName)+" ")])]),s("td",{staticClass:"temp-power"},[s("span",{staticClass:"legend-item",class:{active:e.chartSelectedLegends[t.name+"Power"]},on:{click:function(s){return e.$emit("legendPowerClick",t)}}},[t.power<=0&&t.target<=0?s("span",[e._v("off")]):e._e(),t.target>0?s("span",[e._v(" "+e._s(t.power?(100*t.power).toFixed():0)),s("small",[e._v("%")])]):e._e()])]),e.showRateOfChange?s("td",{staticClass:"rate-of-change"},[s("span",{staticClass:"legend-item",class:{active:e.chartSelectedLegends[t.name+"Power"]}},[s("span",[e._v(e._s(e.getRateOfChange(t))),s("small",[e._v("°C/s")])])])]):e._e(),s("td",{staticClass:"temp-actual"},[e._v(" "+e._s(t.temperature?t.temperature.toFixed(1):0)),s("small",[e._v("°C")])]),s("td",[e._v("/")]),s("td",[e.klippyReady?s("input-temperature",{attrs:{value:t.target,max:t.maxTemp,min:t.minTemp},on:{input:function(s){return e.setHeaterTargetTemp(t.name,s)}}}):e._e()],1)])})),e._l(e.fans,(function(t){return s("tr",{key:t.name},[s("td",[s("v-icon",{class:{spin:t.speed>0&&t.target>0},attrs:{small:"",color:t.color}},[e._v(" $fan ")])],1),s("td",{staticClass:"temp-name"},[s("span",{staticClass:"legend-item",class:{active:!(t.name in e.chartSelectedLegends)||e.chartSelectedLegends[t.name]},on:{click:function(s){return e.$emit("legendClick",t)}}},[e._v(" "+e._s(t.prettyName)+" ")])]),s("td",{staticClass:"temp-power"},[t.speed?s("span",{staticClass:"legend-item",class:{active:e.chartSelectedLegends[t.name+"Speed"]},on:{click:function(s){return e.$emit("legendPowerClick",t)}}},[t.speed>0&&(t.target>0||!t.target)?s("span",[e._v(" "+e._s((100*t.speed).toFixed(0))),s("small",[e._v("%")])]):e._e(),t.speed<=0&&t.target&&t.target>0?s("span",[e._v(" standby ")]):e._e(),t.speed<=0&&(t.target&&t.target<=0||!t.target)?s("span",[e._v("off")]):e._e()]):e._e()]),e.showRateOfChange?s("td",{staticClass:"rate-of-change"},[s("span",{staticClass:"legend-item",class:{active:e.chartSelectedLegends[t.name+"Power"]}},[s("span",[e._v(e._s(e.getRateOfChange(t))),s("small",[e._v("°C/s")])])])]):e._e(),s("td",{staticClass:"temp-actual"},[t.temperature?s("span",[e._v(" "+e._s(t.temperature.toFixed(1))),s("small",[e._v("°C")])]):e._e()]),s("td",[e._v("/")]),s("td",[e.klippyReady&&"temperature_fan"===t.type?s("input-temperature",{attrs:{value:t.target,max:t.maxTemp,min:t.minTemp},on:{input:function(s){return e.setFanTargetTemp(t.name,s)}}}):e._e()],1)])})),e._l(e.sensors,(function(t){return s("tr",{key:t.name},[s("td",[s("v-icon",{attrs:{small:"",color:t.color}},[e._v(" $thermometer ")])],1),s("td",{staticClass:"temp-name"},[s("span",{staticClass:"legend-item",class:{active:!(t.name in e.chartSelectedLegends)||e.chartSelectedLegends[t.name]},on:{click:function(s){return e.$emit("legendClick",t)}}},[e._v(" "+e._s(t.prettyName)+" ")])]),s("td",{staticClass:"temp-power"},[e._v("   ")]),e.showRateOfChange?s("td",{staticClass:"rate-of-change"},[s("span",{staticClass:"legend-item"},[e._v(" "+e._s(e.getRateOfChange(t))),s("small",[e._v("°C/s")])])]):e._e(),s("td",{staticClass:"temp-actual"},[s("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var a=r.on,i=r.attrs;return[s("span",e._g(e._b({},"span",i,!1),a),[e._v(e._s(t.temperature.toFixed(1))),s("small",[e._v("°C")]),t.humidity&&e.showRelativeHumidity?s("small",[s("br"),e._v(e._s(t.humidity.toFixed(1))+" %")]):e._e(),t.pressure&&e.showBarometricPressure?s("small",[s("br"),e._v(e._s(t.pressure.toFixed(1))+" hpa")]):e._e()])]}}],null,!0)},[t.measured_max_temp&&t.measured_min_temp?s("span",[s("span",{},[e._v(e._s(e.$t("app.general.label.high"))+": "+e._s(t.measured_max_temp.toFixed(1))+"°C")]),s("br"),s("span",{},[e._v(e._s(e.$t("app.general.label.low"))+": "+e._s(t.measured_min_temp.toFixed(1))+"°C")])]):e._e()])],1),s("td",[e._v(" ")]),s("td",[e._v(" ")])])}))],2)]),e.chartVisible?s("v-divider"):e._e()],1)},La=[],Da=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition","min-width":150},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs,i=t.value;return[s("app-btn",e._g(e._b({attrs:{disabled:!e.klippyReady,small:""}},"app-btn",a,!1),r),[s("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v(" $fire ")]),e._v(" "+e._s(e.$t("app.general.btn.presets"))+" "),s("v-icon",{staticClass:"ml-1",class:{"rotate-180":i},attrs:{small:""}},[e._v(" $chevronDown ")])],1)]}}])},[s("v-list",{attrs:{dense:""}},[s("v-list-item",{attrs:{link:"",dense:""},on:{click:function(t){return e.$emit("applyOff")}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:"",color:"info"}},[e._v(" $snowflakeAlert ")]),e._v(" "+e._s(e.$t("app.general.btn.heaters_off"))+" ")],1)],1),e._l(e.presets,(function(t){return s("v-list-item",{key:t.index,attrs:{link:"",dense:""},on:{click:function(s){return e.$emit("applyPreset",t)}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:"",color:"error"}},[e._v(" $fire ")]),e._v(" "+e._s(t.name)+" ")],1)],1)}))],2)],1)},Aa=[];let Ia=class extends((0,c.Wr)(d.Z)){get presets(){return this.$store.getters["config/getTempPresets"]}};Ia=(0,l.gn)([(0,c.wA)({})],Ia);var Va=Ia,Ma=Va,Fa=(0,C.Z)(Ma,Da,Aa,!1,null,null,null),Oa=Fa.exports;S()(Fa,{VIcon:P.Z,VList:Ae.Z,VListItem:Ie.Z,VListItemTitle:Ve.V9,VMenu:Me.Z});var Ba=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",{on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-layout",[s("v-text-field",{staticClass:"v-input--width-x-small",attrs:{outlined:"",dense:"","single-line":"","hide-details":"auto",disabled:!e.klippyReady,loading:e.loading,rules:[e.rules.min,e.rules.max],suffix:"°C"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.emitChange.apply(null,arguments)},focus:function(e){return e.target.select()}},model:{value:e.inputValue,callback:function(t){e.inputValue=e._n(t)},expression:"inputValue"}})],1)],1)},Na=[];let Ua=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.valid=!0,this.inputValue=0,this.rules={min:e=>e>=this.min||""===e||"0"===e||0===e||null===this.min||this.$t("app.general.simple_form.error.min_or_0",{min:this.min}),max:e=>e<=this.max||""===e||"0"===e||0===e||null===this.max||this.$t("app.general.simple_form.error.max",{max:this.max})}}onValueChange(e){this.inputValue=e}emitChange(){this.valid&&(this.inputValue||(this.inputValue=0),this.$emit("input",this.inputValue))}mounted(){this.inputValue=this.value}};(0,l.gn)([(0,c.fI)({type:Number,required:!0})],Ua.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Number,default:null})],Ua.prototype,"max",void 0),(0,l.gn)([(0,c.fI)({type:Number,default:null})],Ua.prototype,"min",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Ua.prototype,"loading",void 0),(0,l.gn)([(0,c.RL)("value")],Ua.prototype,"onValueChange",null),Ua=(0,l.gn)([(0,c.wA)({})],Ua);var Ha=Ua,ja=Ha,Wa=(0,C.Z)(ja,Ba,Na,!1,null,null,null),za=Wa.exports;S()(Wa,{VForm:fs.Z,VLayout:H.Z,VTextField:tt.Z});let qa=class extends((0,c.Wr)(d.Z)){get colors(){return this.$colorset.colorList}get extruder(){return this.$store.state.printer.printer.extruder}get heaters(){return this.$store.getters["printer/getHeaters"]}get fans(){return this.$store.getters["printer/getOutputs"](["temperature_fan"])}get sensors(){return this.$store.getters["printer/getSensors"]}get chartableSensors(){return this.$store.getters["printer/getChartableSensors"]}get chartSelectedLegends(){return this.$store.getters["charts/getSelectedLegends"]}get chartVisible(){return this.$store.state.config.uiSettings.general.chartVisible}get showRateOfChange(){return this.$store.state.config.uiSettings.general.showRateOfChange}get showRelativeHumidity(){return this.$store.state.config.uiSettings.general.showRelativeHumidity}get showBarometricPressure(){return this.$store.state.config.uiSettings.general.showBarometricPressure}setHeaterTargetTemp(e,t){this.sendGcode(`SET_HEATER_TEMPERATURE HEATER=${e} TARGET=${t}`)}setFanTargetTemp(e,t){this.sendGcode(`SET_TEMPERATURE_FAN_TARGET TEMPERATURE_FAN=${e} TARGET=${t}`)}getRateOfChange(e){const t=this.$store.getters["charts/getChartData"];let s=0;if(t.length>=2){const r=t[t.length-1],a=t[t.length-Math.min(t.length,5)];s=(r[e.name]-a[e.name])/(r.date-a.date)*1e3,Math.abs(s)<.05&&(s=0)}return`${s<0?"":"+"}${s.toFixed(1)}`}};qa=(0,l.gn)([(0,c.wA)({components:{TemperaturePresetsMenu:Oa,InputTemperature:za}})],qa);var Ga=qa,Ya=Ga,Ka=s(83568),Xa=(0,C.Z)(Ya,Ta,La,!1,null,"0e84ae81",null),Ja=Xa.exports;S()(Xa,{VDivider:vs.Z,VIcon:P.Z,VSimpleTable:Ka.Z,VTooltip:E.Z});let Qa=class extends((0,c.Wr)(d.Z)){get chartReady(){return this.$store.state.socket.acceptingNotifications&&this.$store.state.socket.ready&&this.$store.state.charts.ready&&this.klippyReady}legendToggleSelect(e){this.chartVisible&&("target"in e&&this.thermalChart.legendToggleSelect(e.name+"Target"),this.thermalChart.legendToggleSelect(e.name))}legendTogglePowerSelect(e){if(this.chartVisible){const t="speed"in e?e.name+"Speed":e.name+"Power";this.thermalChart.legendToggleSelect(t)}}get chartVisible(){return this.$store.state.config.uiSettings.general.chartVisible}set chartVisible(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.chartVisible",value:e,server:!0})}get showRateOfChange(){return this.$store.state.config.uiSettings.general.showRateOfChange}set showRateOfChange(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.showRateOfChange",value:e,server:!0})}get showRelativeHumidity(){return this.$store.state.config.uiSettings.general.showRelativeHumidity}set showRelativeHumidity(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.showRelativeHumidity",value:e,server:!0})}get showBarometricPressure(){return this.$store.state.config.uiSettings.general.showBarometricPressure}set showBarometricPressure(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.showBarometricPressure",value:e,server:!0})}get inLayout(){return this.$store.state.config.layoutMode}get isMobile(){return this.$vuetify.breakpoint.mobile}handleApplyPreset(e){if(e){if(e.values)for(const t in e.values){const s=e.values[t];"heater"===s.type&&s.active&&s.value>-1&&this.sendGcode(`SET_HEATER_TEMPERATURE HEATER=${t} TARGET=${s.value}`),"fan"===s.type&&s.active&&s.value>-1&&this.sendGcode(`SET_TEMPERATURE_FAN_TARGET TEMPERATURE_FAN=${t} TARGET=${s.value}`)}e.gcode&&this.sendGcode(e.gcode)}}async handleApplyOff(){if(["printing","busy","paused"].includes(this.$store.getters["printer/getPrinterState"])){const e=await this.$confirm(this.$tc("app.general.label.heaters_busy"),{title:this.$tc("app.general.simple_form.msg.confirm"),color:"card-heading",icon:"$error"});if(!e)return}this.sendGcode("TURN_OFF_HEATERS")}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],Qa.prototype,"enabled",void 0),(0,l.gn)([(0,c.Rl)("thermalchart")],Qa.prototype,"thermalChart",void 0),Qa=(0,l.gn)([(0,c.wA)({components:{ThermalChart:Ra,TemperatureTargets:Ja,TemperaturePresetsMenu:Oa}})],Qa);var ei=Qa,ti=ei,si=(0,C.Z)(ti,xa,$a,!1,null,null,null),ri=si.exports;S()(si,{VCheckbox:ze.Z,VIcon:P.Z});var ai=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$tc("app.general.title.camera",2),icon:"$camera",lazy:!1,draggable:!0,"layout-path":"dashboard.camera-card"},on:{collapsed:function(t){e.collapsed=t}},scopedSlots:e._u([{key:"menu",fn:function(){return[s("camera-menu",{on:{select:e.handleCameraSelect}})]},proxy:!0}])},[e.cameras.length>1?s("v-row",{staticClass:"ma-2",attrs:{justify:"space-around"}},[e._l(e.cameras,(function(t){return[e.collapsed?e._e():s("v-col",{key:t.id,attrs:{cols:"12",sm:e.cols}},[s("camera-item",{attrs:{camera:t}})],1)]}))],2):e._e(),e.collapsed||1!==e.cameras.length?e._e():s("camera-item",{attrs:{camera:e.cameras[0]}})],1)},ii=[],ni=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-sheet",e._g({staticClass:"camera-container",attrs:{elevation:0,rounded:""}},e.$listeners),["mjpgstream"===e.camera.type||"mjpgadaptive"===e.camera.type?s("img",{ref:"camera_image",staticClass:"camera-image",attrs:{src:e.cameraUrl},on:{load:e.handleImgLoad}}):e._e(),"ipstream"===e.camera.type?s("video",{ref:"camera_image",staticClass:"camera-image",attrs:{src:e.cameraUrl,autoplay:""}}):e._e(),"iframe"===e.camera.type?s("iframe",{ref:"camera_image",staticClass:"camera-image",attrs:{src:e.cameraUrl,height:e.cameraHeight,frameBorder:"0"}}):e._e(),e.camera.name?s("div",{staticClass:"camera-name"},[e._v(" "+e._s(e.camera.name)+" ")]):e._e(),"mjpgadaptive"===e.camera.type&&e.time?s("div",{staticClass:"camera-frames"},[e._v(" fps: "+e._s(e.currentFPS)+" ")]):e._e(),e.cameraFullScreenUrl?s("div",{staticClass:"camera-fullscreen"},[s("a",{attrs:{href:e.cameraFullScreenUrl,target:"_blank"}},[s("v-icon",[e._v("$fullScreen")])],1)]):e._e()])],1)},oi=[],li=s(51813);let ci=class extends c.w3{constructor(){super(...arguments),this.request_start_time=performance.now(),this.start_time=performance.now(),this.time=0,this.request_time=0,this.time_smoothing=.6,this.request_time_smoothing=.1,this.currentFPS="0",this.cameraUrl="",this.cameraFullScreenUrl="",this.cameraHeight=720,this.refresh=(new Date).getTime(),this.cancelCameraTransform=li.ZT}cameraTransformStyle(e){const t=this.camera;let s="";if(t.rotate){let r=1;"180"!==t.rotate&&(r=e.clientHeight/e.clientWidth,r>1&&(r=e.clientWidth/e.clientHeight)),s+=t&&t.flipX?` scaleX(-${r})`:` scaleX(${r})`,s+=t&&t.flipY?` scaleY(-${r})`:` scaleY(${r})`,s+=` rotate(${t.rotate}deg)`}else s+=t&&t.flipX?" scaleX(-1)":"",s+=t&&t.flipY?" scaleY(-1)":"";return s.trimLeft().length?{transform:s.trimLeft()}:{}}onCameraChange(){this.setUrl()}created(){document.addEventListener("visibilitychange",this.setUrl,!1),this.cancelCameraTransform=this.createTransformAnimation()}beforeDestroy(){this.cancelCameraTransform(),this.cameraUrl="",this.cameraFullScreenUrl="",document.removeEventListener("visibilitychange",this.setUrl)}handleRefresh(){document.hidden?this.cameraUrl="":(this.refresh=(new Date).getTime(),this.currentFPS=Math.round(1e3/this.time).toLocaleString(void 0,{minimumIntegerDigits:2}),this.$nextTick((()=>{const e=new URL(document.URL),t=new URL(this.cameraUrl,e.origin);t.searchParams.set("cacheBust",this.refresh.toString()),this.request_start_time=performance.now(),this.cameraUrl=t.toString()})))}handleImgLoad(){if(this.camera&&"mjpgadaptive"===this.camera.type){const e=!document.hasFocus()&&this.camera.fpsidletarget||this.camera.fpstarget||10,t=performance.now(),s=t-this.start_time;this.time=this.time*this.time_smoothing+s*(1-this.time_smoothing),this.start_time=t;const r=1e3/e,a=performance.now()-this.request_start_time;this.request_time=this.request_time*this.request_time_smoothing+a*(1-this.request_time_smoothing);const i=Math.max(0,r-this.request_time);this.$nextTick((()=>{setTimeout(this.handleRefresh,i)}))}}setUrl(){var e,t;if(document.hidden)this.cameraUrl="",this.cameraFullScreenUrl="";else{const s=this.camera.type,r=this.camera.url,a=new URL(document.URL),i=new URL(r,a.origin);this.cameraHeight=this.camera.height||720,"mjpgstream"===s&&(i.searchParams.append("cacheBust",this.refresh.toString()),(null===(e=i.searchParams.get("action"))||void 0===e?void 0:e.startsWith("stream"))||i.searchParams.set("action","stream"),this.cameraUrl=i.toString(),this.cameraFullScreenUrl=this.cameraUrl),"mjpgadaptive"===s&&(this.request_start_time=performance.now(),i.searchParams.append("cacheBust",this.refresh.toString()),(null===(t=i.searchParams.get("action"))||void 0===t?void 0:t.startsWith("snapshot"))||i.searchParams.set("action","snapshot"),this.cameraUrl=i.toString(),i.searchParams.set("action","stream"),this.cameraFullScreenUrl=i.toString()),"ipstream"!==s&&"iframe"!==s||(this.cameraUrl=r,this.cameraFullScreenUrl=r)}}createTransformAnimation(){let e=!0;const t=()=>{requestAnimationFrame((()=>{if(!e)return;const s=this.$refs.camera_image;s&&Object.assign(s.style,this.cameraTransformStyle(s)),t()}))};return t(),()=>{e=!1}}};(0,l.gn)([(0,c.fI)({type:Object,required:!0})],ci.prototype,"camera",void 0),(0,l.gn)([(0,c.RL)("camera",{immediate:!0})],ci.prototype,"onCameraChange",null),ci=(0,l.gn)([(0,c.wA)({})],ci);var di=ci,pi=di,ui=s(83385),mi=(0,C.Z)(pi,ni,oi,!1,null,"1c84e526",null),hi=mi.exports;S()(mi,{VIcon:P.Z,VSheet:ui.Z});var gi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition","min-width":150},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs,i=t.value;return[s("app-btn",e._g(e._b({attrs:{small:""}},"app-btn",a,!1),r),[s("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v(" $camera ")]),e._v(" "+e._s(e.activeCamera)+" "),s("v-icon",{staticClass:"ml-1",class:{"rotate-180":i},attrs:{small:""}},[e._v(" $chevronDown ")])],1)]}}])},[s("v-list",{attrs:{dense:""}},[s("v-list-item",{attrs:{link:"",dense:""},on:{click:function(t){return e.$emit("select","all")}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:"",color:"secondary"}},[e._v(" $camera ")]),e._v(" "+e._s(e.$t("app.general.btn.all"))+" ")],1)],1),e._l(e.cameras,(function(t){return s("v-list-item",{key:t.id,attrs:{link:"",dense:""},on:{click:function(s){return e.$emit("select",t.id)}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:"",color:"secondary"}},[e._v(" $camera ")]),e._v(" "+e._s(t.name)+" ")],1)],1)}))],2)],1)},vi=[];let fi=class extends((0,c.Wr)(d.Z)){get activeCamera(){let e=this.$store.getters["cameras/getActiveCamera"];const t=this.$store.getters["cameras/getCameraById"](e);return t||(e="all"),"all"===e?this.$t("app.general.btn.all"):t.name}get cameras(){return this.$store.getters["cameras/getEnabledCameras"]}};fi=(0,l.gn)([(0,c.wA)({})],fi);var _i=fi,yi=_i,bi=(0,C.Z)(yi,gi,vi,!1,null,null,null),xi=bi.exports;S()(bi,{VIcon:P.Z,VList:Ae.Z,VListItem:Ie.Z,VListItemTitle:Ve.V9,VMenu:Me.Z});let $i=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.dialogState={open:!1,camera:null},this.collapsed=!1}get cols(){return 1===this.cameras.length?12:this.cameras.length<=2?6:this.cameras.length>2?4:void 0}get inLayout(){return this.$store.state.config.layoutMode}get cameras(){return this.$store.getters["cameras/getVisibleCameras"]}handleCameraSelect(e){this.$store.dispatch("cameras/updateActiveCamera",e)}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],$i.prototype,"enabled",void 0),$i=(0,l.gn)([(0,c.wA)({components:{CameraItem:hi,CameraMenu:xi}})],$i);var wi=$i,Ci=wi,ki=(0,C.Z)(Ci,ai,ii,!1,null,null,null),Si=ki.exports;S()(ki,{VCol:K.Z,VRow:Q.Z});var Pi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.macros"),icon:"$fileCode",draggable:!0,"layout-path":"dashboard.macros-card"}},[s("macros")],1)},Ei=[],Zi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-expansion-panels",{attrs:{accordion:"",multiple:""},model:{value:e.expanded,callback:function(t){e.expanded=t},expression:"expanded"}},[e._l(e.macros,(function(t){return s("v-expansion-panel",{key:"category-"+t.name},[s("v-expansion-panel-header",{scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" $expand ")])]},proxy:!0}],null,!0)},[s("div",[e._v(" "+e._s(t.name)+" "),s("v-chip",{attrs:{small:""}},[e._v(" "+e._s(t.macros.length)+" ")]),s("app-btn",{staticClass:"ml-2",attrs:{icon:"",text:"",small:"",color:""},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),e.handleEditCategory(t.id)}}},[s("v-icon",{attrs:{small:""}},[e._v(" $cog ")])],1)],1)]),s("v-expansion-panel-content",e._l(t.macros,(function(t){return s("app-macro-btn",{key:"category-"+t.name,staticClass:"me-2 mb-2 float-left",attrs:{macro:t,loading:e.hasWait(""+e.waits.onMacro+t.name),elevation:2,"enable-params":""},on:{click:function(s){return e.sendGcode(s,""+e.waits.onMacro+t.name)}}},[e._v(" "+e._s(t.alias||t.name)+" ")])})),1)],1)})),e.uncategorizedMacros&&e.uncategorizedMacros.length>0?s("v-expansion-panel",[s("v-expansion-panel-header",{scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" $expand ")])]},proxy:!0}],null,!1,659517286)},[s("div",[e._v(" "+e._s(e.$t("app.general.label.uncategorized"))+" "),s("v-chip",{staticClass:"ml-2",attrs:{small:""}},[e._v(" "+e._s(e.uncategorizedMacros.length)+" ")]),s("app-btn",{staticClass:"ml-2",attrs:{icon:"",text:"",small:"",color:""},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleEditCategory("0")}}},[s("v-icon",{attrs:{small:""}},[e._v(" $cog ")])],1)],1)]),s("v-expansion-panel-content",[e._l(e.uncategorizedMacros,(function(t){return[s("app-macro-btn",{key:"category-"+t.name,staticClass:"me-2 mb-2 float-left",attrs:{macro:t,loading:e.hasWait(""+e.waits.onMacro+t.name),elevation:2,"enable-params":""},on:{click:function(s){return e.sendGcode(s,""+e.waits.onMacro+t.name)}}},[e._v(" "+e._s(t.alias||t.name)+" ")])]}))],2)],1):e._e()],2)],1)},Ri=[];let Ti=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.waits=Ce.hw}get macros(){return this.$store.getters["macros/getVisibleMacros"]}get uncategorizedMacros(){const e=this.$store.getters["macros/getMacrosByCategory"]();return e.filter((e=>e.visible))}get expanded(){let e=this.$store.state.macros.expanded;return e=e.filter((e=>e<=this.macros.length)),e}set expanded(e){this.$store.dispatch("macros/saveExpanded",e)}handleEditCategory(){this.$router.push("/settings/#macros")}};Ti=(0,l.gn)([(0,c.wA)({})],Ti);var Li=Ti,Di=Li,Ai=s(95424),Ii=s(56845),Vi=s(72443),Mi=s(1192),Fi=s(55630),Oi=(0,C.Z)(Di,Zi,Ri,!1,null,null,null),Bi=Oi.exports;S()(Oi,{VChip:Ai.Z,VExpansionPanel:Ii.Z,VExpansionPanelContent:Vi.Z,VExpansionPanelHeader:Mi.Z,VExpansionPanels:Fi.Z,VIcon:P.Z});let Ni=class extends((0,c.Wr)(d.Z)){get inLayout(){return this.$store.state.config.layoutMode}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],Ni.prototype,"enabled",void 0),Ni=(0,l.gn)([(0,c.wA)({components:{Macros:Bi}})],Ni);var Ui=Ni,Hi=Ui,ji=(0,C.Z)(Hi,Pi,Ei,!1,null,null,null),Wi=ji.exports,zi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.console"),icon:"$console","card-classes":"d-flex flex-column","content-classes":"flex-grow-1 flow-shrink-0","menu-breakpoint":"none","menu-icon":"$cog",draggable:!e.fullScreen,collapsable:!e.fullScreen,"layout-path":"dashboard.console-card"},on:{collapsed:e.handleCollapseChange},scopedSlots:e._u([{key:"title",fn:function(){return[s("v-icon",{attrs:{left:""}},[e._v(" $console ")]),s("span",{staticClass:"font-weight-light"},[e._v(e._s(e.$t("app.general.title.console")))]),s("app-inline-help",{attrs:{bottom:"",small:"",tooltip:e.$t("app.console.placeholder.command")}})]},proxy:!0},{key:"menu",fn:function(){return[e.scrollingPaused?s("app-btn",{attrs:{color:"",fab:"","x-small":"",text:""},on:{click:function(t){return e.console.scrollToLatest(!0)}}},[s("v-icon",[e._v(e._s(e.flipLayout?"$up":"$down"))])],1):e._e(),e.fullScreen?e._e():s("app-btn",{attrs:{color:"",fab:"",small:"",text:""},on:{click:function(t){return e.$filters.routeTo(e.$router,"/console")}}},[s("v-icon",[e._v("$fullScreen")])],1),s("app-btn",{attrs:{color:"",fab:"","x-small":"",text:""},on:{click:e.handleClear}},[s("v-icon",[e._v("$delete")])],1),s("app-btn-collapse-group",{attrs:{collapsed:!0,"menu-icon":"$cog"}},[s("v-checkbox",{staticClass:"mx-2 mt-2",attrs:{label:e.$t("app.console.label.hide_temp_waits"),color:"primary","hide-details":""},model:{value:e.hideTempWaits,callback:function(t){e.hideTempWaits=t},expression:"hideTempWaits"}}),s("v-checkbox",{staticClass:"mx-2 mb-2",attrs:{label:e.$t("app.console.label.auto_scroll"),color:"primary","hide-details":""},model:{value:e.autoScroll,callback:function(t){e.autoScroll=t},expression:"autoScroll"}}),s("v-checkbox",{staticClass:"mx-2 mb-2",attrs:{label:e.$t("app.console.label.flip_layout"),color:"primary","hide-details":""},model:{value:e.flipLayout,callback:function(t){e.flipLayout=t},expression:"flipLayout"}}),e._l(e.filters,(function(t,r){return[0===r?s("v-divider",{key:r}):e._e(),s("v-checkbox",{key:t.id,staticClass:"mx-2 mt-2",attrs:{label:t.name,color:"primary","hide-details":""},model:{value:t.enabled,callback:function(s){e.$set(t,"enabled",s)},expression:"filter.enabled"}})]}))],2)]},proxy:!0}])},[s("console",{ref:"console",attrs:{"scrolling-paused":e.scrollingPaused,items:e.items,height:e.fullScreen?816:300},on:{"update:scrollingPaused":function(t){e.scrollingPaused=t},"update:scrolling-paused":function(t){e.scrollingPaused=t}}})],1)},qi=[],Gi=s(99187);let Yi=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.scrollingPaused=!1}get filters(){return this.$store.getters["console/getFilters"]}get hideTempWaits(){return this.$store.state.config.uiSettings.general.hideTempWaits}set hideTempWaits(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.hideTempWaits",value:e,server:!0})}get flipLayout(){return this.$store.state.config.uiSettings.general.flipConsoleLayout}set flipLayout(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.flipConsoleLayout",value:e,server:!0}),this.console.flipLayout=e}get items(){return this.$store.getters["console/getConsoleEntries"]}get inLayout(){return this.$store.state.config.layoutMode}get autoScroll(){return this.$store.state.console.autoScroll}set autoScroll(e){this.$store.dispatch("console/onUpdateAutoScroll",e),e&&this.console.scrollToLatest(!0)}inLayoutChange(e){e||this.console.scrollToLatest()}handleCollapseChange(e){e||this.console.scrollToLatest()}handleClear(){this.$store.dispatch("console/onClear")}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],Yi.prototype,"enabled",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Yi.prototype,"fullScreen",void 0),(0,l.gn)([(0,c.Rl)("console")],Yi.prototype,"console",void 0),(0,l.gn)([(0,c.RL)("inLayout")],Yi.prototype,"inLayoutChange",null),Yi=(0,l.gn)([(0,c.wA)({components:{Console:Gi.Z}})],Yi);var Ki=Yi,Xi=Ki,Ji=(0,C.Z)(Xi,zi,qi,!1,null,null,null),Qi=Ji.exports;S()(Ji,{VCheckbox:ze.Z,VDivider:vs.Z,VIcon:P.Z});var en=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.fans_outputs"),icon:"$motion",draggable:!0,"layout-path":"dashboard.outputs-card","menu-breakpoint":"lg"}},[s("outputs")],1)},tn=[],sn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[e._l(e.all.col1,(function(t,r){return[s("OutputItem",{key:t.key,attrs:{item:t}}),r<e.all.col1.length-1||e.$vuetify.breakpoint.mdAndDown?s("v-divider",{key:"divider-0"+r,staticClass:"my-2"}):e._e()]}))],2),s("v-col",{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[e._l(e.all.col2,(function(t,r){return[s("OutputItem",{key:t.key,attrs:{item:t}}),r<e.all.col2.length-1?s("v-divider",{key:"divider-1"+r,staticClass:"my-2"}):e._e()]}))],2)],1)],1)},rn=[],an=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["output_pin"===e.item.type?s("output-pin",{key:e.item.key,attrs:{pin:e.item}}):e._e(),e.fanTypes.includes(e.item.type)?s("output-fan",{key:e.item.key,attrs:{fan:e.item}}):e._e(),"neopixel"===e.item.type||"dotstar"===e.item.type?s("output-led",{key:e.item.key,attrs:{led:e.item}}):e._e()],1)},nn=[],on=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.fan.controllable?s("app-slider",{attrs:{suffix:"%","input-xs":"",value:e.value,"reset-value":0,label:e.rpm?e.fan.prettyName+" <small>"+e.rpm+"</small>":e.fan.prettyName,rules:e.rules,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile},on:{change:e.handleChange}}):e._e(),e.fan.controllable?e._e():s("v-layout",{attrs:{"align-center":"","justify-space-between":""}},[s("div",{staticClass:"text-body-1"},[e._v(" "+e._s(e.fan.prettyName)+" ")]),s("div",{staticClass:"ml-auto"},[e.rpm?s("small",{staticClass:"mr-2"},[e._v(e._s(e.rpm))]):e._e(),s("span",{staticClass:"focus--text",domProps:{innerHTML:e._s(e.prettyValue)}})])])],1)},ln=[];let cn=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.rules=[e=>{var t;const s=(null===(t=this.fan.config)||void 0===t?void 0:t.off_below)?100*this.fan.config.off_below:0;return!s||(e=+e,e>=s||0===e||this.$t("app.general.simple_form.error.min_or_0",{min:s}))}]}get prettyValue(){return 0===this.value?this.$t("app.general.label.off"):this.$t("app.general.label.on")}get value(){if(!this.fan.speed)return 0;const e=this.fan.speed/(this.fan.config.max_power||1);return Math.round(100*e)}handleChange(e){"fan"===this.fan.type&&(e=Math.ceil(2.55*e),this.sendGcode(`M106 S${e}`,Ce.hw.onSetFanSpeed)),"fan_generic"===this.fan.type&&(e/=100,this.sendGcode(`SET_FAN_SPEED FAN=${this.fan.name} SPEED=${e}`,Ce.hw.onSetFanSpeed))}get rpm(){return this.fan.rpm?this.fan.rpm.toFixed()+" rpm":void 0}get isMobile(){return this.$vuetify.breakpoint.mobile}};(0,l.gn)([(0,c.fI)({type:Object,required:!0})],cn.prototype,"fan",void 0),cn=(0,l.gn)([(0,c.wA)({})],cn);var dn=cn,pn=dn,un=(0,C.Z)(pn,on,ln,!1,null,null,null),mn=un.exports;S()(un,{VLayout:H.Z});var hn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.pin&&e.pin.pwm?s("app-slider",{attrs:{"input-xs":"",label:e.pin.prettyName,min:0,max:e.pin.scale,step:.01,value:e.pin.value*e.pin.scale/1,"reset-value":e.pin.config.value||0,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile},on:{change:function(t){return e.setValue(e.pin,t)}}}):e._e(),e.pin&&!e.pin.pwm?s("app-switch",{attrs:{disabled:!e.klippyReady,label:e.pin.prettyName,value:e.pin.value>0},on:{input:function(t){return e.setValue(e.pin,t)}}}):e._e()],1)},gn=[];let vn=class extends((0,c.Wr)(d.Z)){setValue(e,t){e.pwm||(t=t?e.scale:0),this.sendGcode(`SET_PIN PIN=${e.name} VALUE=${t}`,Ce.hw.onSetOutputPin)}get isMobile(){return this.$vuetify.breakpoint.mobile}};(0,l.gn)([(0,c.fI)({type:Object,required:!0})],vn.prototype,"pin",void 0),vn=(0,l.gn)([(0,c.wA)({})],vn);var fn=vn,_n=fn,yn=(0,C.Z)(_n,hn,gn,!1,null,null,null),bn=yn.exports,xn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{"no-gutters":"","justify-space-between":""}},[s("v-col",{staticClass:"text-body-1 py-0",attrs:{"align-self":"center",cols:"5"}},[e._v(" "+e._s(e.led.prettyName)+" ")]),s("v-col",{staticClass:"ml-auto py-0 text-right"},[s("app-color-picker",{attrs:{primary:e.primaryColor,white:e.whiteColor,title:e.led.prettyName,dot:""},on:{change:e.handleColorChange}})],1)],1)},$n=[],wn=s(15494);let Cn=class extends((0,c.Wr)(d.Z)){get primaryColor(){const e=this.convertTo(this.led.color_data[0]),t=new wn.pD(e);return t.hexString}get whiteColor(){const e=this.convertTo(this.led.color_data[0]);if(!e.w)return;const t=new wn.pD({r:e.w,g:e.w,b:e.w});return t.hexString}get isMobile(){return this.$vuetify.breakpoint.mobile}handleColorChange(e){const t=this.led.color_data[0],s=this.convertFrom(e.color.rgb);"primary"===e.channel?this.whiteColor&&(s.w=t.W):(this.whiteColor&&(s.w=s.r),s.r=t.R,s.g=t.G,s.b=t.B);const r={r:"RED",g:"GREEN",b:"BLUE",w:"WHITE"};let a=`SET_LED LED=${this.led.name}`;Object.keys(s).forEach((e=>{a+=` ${r[e]}=${s[e]}`})),this.sendGcode(a)}convertTo(e){const t={};return Object.keys(e).forEach((s=>{t[s.toLowerCase()]=Math.round(255*e[s])})),t}convertFrom(e){const t={};return Object.keys(e).forEach((s=>{t[s.toLowerCase()]=Number.parseFloat((e[s]/255).toPrecision(2))})),t}};(0,l.gn)([(0,c.fI)({type:Object,required:!0})],Cn.prototype,"led",void 0),Cn=(0,l.gn)([(0,c.wA)({})],Cn);var kn=Cn,Sn=kn,Pn=(0,C.Z)(Sn,xn,$n,!1,null,null,null),En=Pn.exports;S()(Pn,{VCol:K.Z,VRow:Q.Z});let Zn=class extends c.w3{get fanTypes(){return["temperature_fan","controller_fan","heater_fan","fan_generic","fan"]}};(0,l.gn)([(0,c.fI)({type:Object,required:!0})],Zn.prototype,"item",void 0),Zn=(0,l.gn)([(0,c.wA)({components:{OutputFan:mn,OutputPin:bn,OutputLed:En}})],Zn);var Rn=Zn,Tn=Rn,Ln=(0,C.Z)(Tn,an,nn,!1,null,null,null),Dn=Ln.exports;let An=class extends((0,c.Wr)(d.Z)){get all(){const e=[...this.$store.getters["printer/getAllFans"],...this.$store.getters["printer/getPins"],...this.$store.getters["printer/getAllLeds"]];let t=[],s=[];if(e.length>1){const r=Math.ceil(e.length/2);t=e.splice(0,r),s=e}else t=e;return{col1:t,col2:s}}};An=(0,l.gn)([(0,c.wA)({components:{OutputItem:Dn}})],An);var In=An,Vn=In,Mn=(0,C.Z)(Vn,sn,rn,!1,null,null,null),Fn=Mn.exports;S()(Mn,{VCardText:Y.ZB,VCol:K.Z,VDivider:vs.Z,VRow:Q.Z});let On=class extends((0,c.Wr)(d.Z)){get inLayout(){return this.$store.state.config.layoutMode}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],On.prototype,"enabled",void 0),On=(0,l.gn)([(0,c.wA)({components:{Outputs:Fn}})],On);var Bn=On,Nn=Bn,Un=(0,C.Z)(Nn,en,tn,!1,null,null,null),Hn=Un.exports,jn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.limits"),icon:"$limits",draggable:!0,"layout-path":"dashboard.printer-limits-card"}},[s("printer-limits")],1)},Wn=[],zn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card-text",{staticClass:"mb-0"},[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.velocity"),value:e.velocity.current,"reset-value":e.velocity.max,min:1,max:e.velocity.max,disabled:!e.klippyReady,overridable:!0,locked:!e.klippyReady||e.isMobile,suffix:"mm/s"},on:{change:function(t){return e.setVelocity(t)}}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.sqv"),value:e.scv.current,"reset-value":e.scv.max,min:0,max:e.scv.max,step:.1,disabled:!e.klippyReady,overridable:!0,locked:!e.klippyReady||e.isMobile,suffix:"mm/s"},on:{change:function(t){return e.setSCV(t)}}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.acceleration"),value:e.accel.current,"reset-value":e.accel.max,min:1,max:e.accel.max,disabled:!e.klippyReady,overridable:!0,locked:!e.klippyReady||e.isMobile,suffix:"mm/s^2"},on:{change:function(t){return e.setAcceleration(t)}}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.accel_to_decel"),value:e.decel.current,"reset-value":e.decel.max,min:1,max:e.decel.max,disabled:!e.klippyReady,overridable:!0,locked:!e.klippyReady||e.isMobile,suffix:"mm/s^2"},on:{change:function(t){return e.setDeceleration(t)}}})],1)],1)],1)],1)},qn=[];let Gn=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.waits=Ce.hw}get velocity(){const e=this.$store.getters["printer/getPrinterSettings"]("printer.max_velocity");return{current:this.$store.state.printer.printer.toolhead.max_velocity,max:e}}get accel(){const e=this.$store.getters["printer/getPrinterSettings"]("printer.max_accel");return{current:this.$store.state.printer.printer.toolhead.max_accel,max:e}}get decel(){const e=this.$store.getters["printer/getPrinterSettings"]("printer.max_accel_to_decel")||this.accel.max/2;return{current:this.$store.state.printer.printer.toolhead.max_accel_to_decel,max:e}}get scv(){const e=this.$store.getters["printer/getPrinterSettings"]("printer.square_corner_velocity")||5;return{current:this.$store.state.printer.printer.toolhead.square_corner_velocity,max:e}}get isMobile(){return this.$vuetify.breakpoint.mobile}setVelocity(e){this.sendGcode(`SET_VELOCITY_LIMIT VELOCITY=${e}`,Ce.hw.onSetVelocity)}setAcceleration(e){this.sendGcode(`SET_VELOCITY_LIMIT ACCEL=${e}`,Ce.hw.onSetAcceleration)}setDeceleration(e){this.sendGcode(`SET_VELOCITY_LIMIT ACCEL_TO_DECEL=${e}`,Ce.hw.onSetDeceleration)}setSCV(e){this.sendGcode(`SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=${e}`,Ce.hw.onSetSCV)}};Gn=(0,l.gn)([(0,c.wA)({})],Gn);var Yn=Gn,Kn=Yn,Xn=(0,C.Z)(Kn,zn,qn,!1,null,null,null),Jn=Xn.exports;S()(Xn,{VCardText:Y.ZB,VCol:K.Z,VRow:Q.Z});let Qn=class extends((0,c.Wr)(d.Z)){get inLayout(){return this.$store.state.config.layoutMode}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],Qn.prototype,"enabled",void 0),Qn=(0,l.gn)([(0,c.wA)({components:{PrinterLimits:Jn}})],Qn);var eo=Qn,to=eo,so=(0,C.Z)(to,jn,Wn,!1,null,null,null),ro=so.exports,ao=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.retract"),icon:"$retract",draggable:!0,"layout-path":"dashboard.retract-card"}},[s("retract")],1)},io=[],no=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card-text",[s("v-row",{staticClass:"my-0 mb-4"},[s("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.retract_length"),suffix:"mm",value:e.retract_length,"reset-value":e.defaults.retract_length,min:0,max:e.retract_length_max,step:.01,overridable:!0,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile,loading:e.hasWait(e.$waits.onSetRetractLength)},on:{change:e.setRetractLength}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.unretract_extra_length"),suffix:"mm",value:e.unretract_extra_length,"reset-value":e.defaults.unretract_extra_length,min:0,max:e.unretract_extra_length_max,step:.01,overridable:!0,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile,loading:e.hasWait(e.$waits.onSetRetractLength)},on:{change:e.setUnRetractExtraLength}})],1)],1),s("v-row",{staticClass:"my-0 mb-4"},[s("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.retract_speed"),suffix:"mm/s",value:e.retract_speed,"reset-value":e.defaults.retract_speed,min:0,step:1,max:e.retract_speed_max,overridable:!0,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile,loading:e.hasWait(e.$waits.onSetRetractSpeed)},on:{change:e.setRetractSpeed}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[s("app-slider",{attrs:{label:e.$t("app.general.label.unretract_speed"),suffix:"mm/s",value:e.unretract_speed,"reset-value":e.defaults.unretract_speed,min:0,step:1,max:e.unretract_speed_max,overridable:!0,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile,loading:e.hasWait(e.$waits.onSetUnretractSpeed)},on:{change:e.setUnretractSpeed}})],1)],1)],1)},oo=[];let lo=class extends((0,c.Wr)(d.Z)){get retract_length(){return this.$store.state.printer.printer.firmware_retraction.retract_length}get retract_length_max(){return this.defaults.retract_length<=0?15:Math.round(2*this.defaults.retract_length*100)/100}get retract_speed(){return this.$store.state.printer.printer.firmware_retraction.retract_speed}get retract_speed_max(){return this.defaults.retract_speed<=0?100:Math.round(2*this.defaults.retract_speed)}get unretract_speed(){return this.$store.state.printer.printer.firmware_retraction.unretract_speed}get unretract_speed_max(){return this.defaults.unretract_speed<=0?100:Math.round(2*this.defaults.unretract_speed)}get unretract_extra_length(){return this.$store.state.printer.printer.firmware_retraction.unretract_extra_length}get unretract_extra_length_max(){return this.defaults.unretract_extra_length<=0?15:Math.round(2*this.defaults.unretract_extra_length*100)/100}get defaults(){return this.$store.getters["printer/getPrinterSettings"]("firmware_retraction")||{}}get isMobile(){return this.$vuetify.breakpoint.mobile}setRetractLength(e){this.sendGcode(`SET_RETRACTION RETRACT_LENGTH=${e}`,Ce.hw.onSetRetractLength)}setRetractSpeed(e){this.sendGcode(`SET_RETRACTION RETRACT_SPEED=${e}`,Ce.hw.onSetRetractSpeed)}setUnretractSpeed(e){this.sendGcode(`SET_RETRACTION UNRETRACT_SPEED=${e}`,Ce.hw.onSetUnretractSpeed)}setUnRetractExtraLength(e){this.sendGcode(`SET_RETRACTION UNRETRACT_EXTRA_LENGTH=${e}`,Ce.hw.onSetUnretractExtraLength)}};lo=(0,l.gn)([(0,c.wA)({})],lo);var co=lo,po=co,uo=(0,C.Z)(po,no,oo,!1,null,null,null),mo=uo.exports;S()(uo,{VCardText:Y.ZB,VCol:K.Z,VRow:Q.Z});let ho=class extends((0,c.Wr)(d.Z)){get inLayout(){return this.$store.state.config.layoutMode}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],ho.prototype,"enabled",void 0),ho=(0,l.gn)([(0,c.wA)({components:{Retract:mo}})],ho);var go=ho,vo=go,fo=(0,C.Z)(vo,ao,io,!1,null,null,null),_o=fo.exports,yo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$tc("app.general.title.gcode_preview"),icon:"$cubeScan","layout-path":"dashboard.gcode-preview-card",draggable:!0},scopedSlots:e._u([{key:"menu",fn:function(){return[s("app-btn-collapse-group",[s("app-btn",{attrs:{disabled:!e.printerFile||e.printerFileLoaded,color:"primary",small:""},on:{click:e.loadCurrent}},[e._v(" "+e._s(e.$t("app.gcode.btn.load_current_file"))+" ")]),s("app-btn-collapse-group",{attrs:{collapsed:!0,"menu-icon":"$cog"}},[s("GcodePreviewControls",{attrs:{disabled:!e.fileLoaded}})],1)],1)]},proxy:!0}])},[e.file?s("v-card-text",[e._v(" "+e._s(e.file.name)+" ")]):e._e(),e.file?s("v-divider"):e._e(),s("v-card-text",[e.showParserProgressDialog?s("GcodePreviewParserProgressDialog",{attrs:{value:e.showParserProgressDialog,progress:e.parserProgress,file:e.file},on:{cancel:e.abortParser}}):e._e(),s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-row",[s("v-col",[s("app-slider",{attrs:{label:e.$t("app.gcode.label.layer"),value:e.currentLayer+1,min:e.fileLoaded?1:0,max:e.layerCount,disabled:!e.fileLoaded,locked:e.isMobile,"input-md":""},on:{input:function(t){return e.setCurrentLayer(t-1)}}})],1)],1),s("v-row",[s("v-col",[s("app-slider",{attrs:{label:e.$t("app.general.label.progress"),value:e.moveProgress-e.currentLayerMoveRange.min,min:0,max:e.currentLayerMoveRange.max-e.currentLayerMoveRange.min,disabled:!e.fileLoaded,"value-suffix":"moves",locked:e.isMobile,"input-md":""},on:{input:function(t){return e.setMoveProgress(t+e.currentLayerMoveRange.min)}}})],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-row",[s("v-col",[s("v-card",{staticClass:"px-2 py-1 text-center stat-square justify-center",attrs:{outlined:""}},[s("div",{},[e._v(" "+e._s(e.$t("app.gcode.label.layers"))+" ")]),s("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.layerCount)+" ")]),s("div",{},[e._v(" "+e._s(e.$t("app.gcode.label.current_layer_height"))+" ")]),s("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.currentLayerHeight)+" ")])])],1)],1),s("v-row",[s("v-col",[s("app-btn",{attrs:{disabled:!e.fileLoaded,color:"secondary",block:""},on:{click:e.resetFile}},[e._v(" "+e._s(e.$t("app.general.btn.reset_file"))+" ")])],1)],1)],1)],1),s("v-row",[s("v-col",[s("gcode-preview",{attrs:{width:"100%",layer:e.currentLayer,progress:e.moveProgress,disabled:!e.fileLoaded}})],1)],1)],1)],1)},bo=[],xo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{container:!0,dark:e.themeIsDark},on:{focus:function(t){e.focused=!0},blur:function(t){e.focused=!1}}},[s("svg",{ref:"svg",attrs:{viewBox:e.svgViewBox,height:e.height,width:e.width,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("defs",[s("pattern",{attrs:{id:"backgroundPattern",patternUnits:"userSpaceOnUse",width:"10",height:"10"}},[s("rect",{attrs:{width:"10",height:"10","stroke-width":".1",stroke:e.themeIsDark?"black":"white",fill:e.themeIsDark?"#555":"lightgrey"}})]),s("svg",{attrs:{id:"retraction",width:e.retractionIconSize,height:e.retractionIconSize,viewBox:"0 0 10 10"}},[e.flipY?s("path",{attrs:{d:"M 0,0 L 5,10 L 10,0 Z",fill:"red","fill-opacity":"0.9","shape-rendering":e.shapeRendering}}):s("path",{attrs:{d:"M 10,10 L 5,0 L 0,10 Z",fill:"red","fill-opacity":"0.9","shape-rendering":e.shapeRendering}})]),s("svg",{attrs:{id:"extrusionStart",width:e.retractionIconSize,height:e.retractionIconSize,viewBox:"0 0 10 10"}},[e.flipY?s("path",{attrs:{d:"M 10,10 L 5,0 L 0,10 Z",fill:"green","fill-opacity":"0.9","shape-rendering":e.shapeRendering}}):s("path",{attrs:{d:"M 0,0 L 5,10 L 10,0 Z",fill:"green","fill-opacity":"0.9","shape-rendering":e.shapeRendering}})])]),s("g",{attrs:{transform:e.flipTransform}},[s("clipPath",{attrs:{id:"clipCircle"}},[s("circle",{attrs:{r:e.bedSize.x.max,cx:"0",cy:"0"}})]),e.drawBackground?s("g",{attrs:{id:"background"}},[e.isDelta?s("rect",{attrs:{height:e.bedSize.y.max-e.bedSize.y.min,width:e.bedSize.x.max-e.bedSize.x.min,fill:"url(#backgroundPattern)","clip-path":"url(#clipCircle)",x:e.bedSize.x.min,y:e.bedSize.y.min}}):s("rect",{attrs:{height:e.bedSize.y.max-e.bedSize.y.min,width:e.bedSize.x.max-e.bedSize.x.min,fill:"url(#backgroundPattern)",x:e.bedSize.x.min,y:e.bedSize.y.min}})]):e._e(),e.getViewerOption("showPreviousLayer")?s("g",{staticClass:"layer",attrs:{id:"previousLayer"}},[s("path",{attrs:{stroke:"lightgrey","stroke-width":e.extrusionLineWidth,"stroke-opacity":"0.6",d:e.svgPathPrevious.extrusions,"shape-rendering":e.shapeRendering}})]):e._e(),e.getViewerOption("showCurrentLayer")?s("g",{staticClass:"layer",attrs:{id:"activeLayer"}},[s("path",{attrs:{stroke:"lightgrey","stroke-width":e.extrusionLineWidth,"stroke-opacity":"0.6",d:e.svgPathActive.extrusions,"shape-rendering":e.shapeRendering}})]):e._e(),s("g",{staticClass:"layer",attrs:{id:"currentLayer"}},[e.getViewerOption("showExtrusions")?s("path",{attrs:{d:e.svgPathCurrent.extrusions,stroke:e.themeIsDark?"white":"black","stroke-width":e.extrusionLineWidth,"shape-rendering":e.shapeRendering}}):e._e(),e.getViewerOption("showMoves")?s("path",{attrs:{d:e.svgPathCurrent.moves,stroke:"gray","stroke-width":e.moveLineWidth,"shape-rendering":e.shapeRendering}}):e._e(),s("circle",{attrs:{id:"toolhead",fill:"green",r:".6",cx:e.svgPathCurrent.toolhead.x,cy:e.svgPathCurrent.toolhead.y}}),e.getViewerOption("showRetractions")&&e.svgPathCurrent.retractions.length>0?s("g",{attrs:{id:"retractions"}},e._l(e.svgPathCurrent.retractions,(function(t,r){var a=t.x,i=t.y;return s("use",{key:"retraction-"+(r+1),attrs:{"xlink:href":"#retraction",x:a-e.retractionIconSize/2,y:e.flipY?i:i-e.retractionIconSize}})})),0):e._e(),e.getViewerOption("showRetractions")&&e.svgPathCurrent.retractions.length>0?s("g",{attrs:{id:"extrusionStarts"}},e._l(e.svgPathCurrent.extrusionStarts,(function(t,r){var a=t.x,i=t.y;return s("use",{key:"extrusion-start-"+(r+1),attrs:{"xlink:href":"#extrusionStart",x:a-e.retractionIconSize/2,y:e.flipY?i:i-e.retractionIconSize}})})),0):e._e()]),e.getViewerOption("showNextLayer")?s("g",{staticClass:"layer",attrs:{id:"nextLayer"}},[s("path",{attrs:{stroke:"lightgrey","stroke-opacity":"0.6",d:e.svgPathNext.extrusions,"stroke-width":e.extrusionLineWidth}})]):e._e()])])])},$o=[],wo=s(34874),Co=s.n(wo);let ko=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.focused=!1,this.panning=!1}get isDelta(){const e=this.$store.getters["printer/getPrinterSettings"]("printer.kinematics");return"delta"===e||"rotary_delta"===e}get printerRadius(){var e;return null!==(e=this.$store.getters["printer/getPrinterSettings"]("printer.print_radius"))&&void 0!==e?e:100}get themeIsDark(){return this.$store.state.config.uiSettings.theme.isDark}get filePosition(){return this.$store.state.printer.printer.virtual_sdcard.file_position}get isMobile(){return this.$vuetify.breakpoint.mobile}get extrusionLineWidth(){return this.getUiSetting("extrusionLineWidth")}get moveLineWidth(){return this.getUiSetting("moveLineWidth")}get retractionIconSize(){return this.getUiSetting("retractionIconSize")}get drawBackground(){return this.getUiSetting("drawBackground")}get showAnimations(){return this.getUiSetting("showAnimations")}get shapeRendering(){return this.panning?"optimizeSpeed":"geometricPrecision"}get flipX(){return this.$store.state.config.uiSettings.gcodePreview.flip.horizontal}get flipY(){return this.$store.state.config.uiSettings.gcodePreview.flip.vertical}get flipTransform(){const{x:e,y:t}=this.viewBox,s=[this.flipX?-1:1,this.flipY?-1:1];if(this.isDelta)return`scale(${s.join()}) translate(0,0)`;const r=[this.flipX?-(e.max-e.min):0,this.flipY?-(t.max-t.min):0];return`scale(${s.join()}) translate(${r.join()})`}get bedSize(){var e,t,s,r;const{stepper_x:a,stepper_y:i}=this.$store.getters["printer/getPrinterSettings"]();if(this.isDelta){const e=this.printerRadius;return{x:{min:-e,max:e},y:{min:-e,max:e}}}return{x:{min:null!==(e=null===a||void 0===a?void 0:a.position_min)&&void 0!==e?e:0,max:null!==(t=null===a||void 0===a?void 0:a.position_max)&&void 0!==t?t:100},y:{min:null!==(s=null===i||void 0===i?void 0:i.position_min)&&void 0!==s?s:0,max:null!==(r=null===i||void 0===i?void 0:i.position_max)&&void 0!==r?r:100}}}get viewBox(){const e=this.$store.getters["gcodePreview/getBounds"],{stepper_x:t,stepper_y:s}=this.$store.getters["printer/getPrinterSettings"]();if(this.isDelta){const e=this.printerRadius;return{x:{min:-e,max:2*e},y:{min:-e,max:2*e}}}return void 0===t||void 0===s?{x:{min:e.x.min,max:e.x.max},y:{min:e.y.min,max:e.y.max}}:{x:{min:Math.min(t.position_min,e.x.min),max:Math.max(t.position_max,e.x.max)},y:{min:Math.min(s.position_min,e.y.min),max:Math.max(s.position_max,e.y.max)}}}get svgViewBox(){const{x:e,y:t}=this.viewBox;return`${e.min} ${t.min} ${e.max} ${t.max}`}get defaultLayerPaths(){return{extrusions:"",moves:"",retractions:[],extrusionStarts:[],toolhead:{x:0,y:0}}}get svgPathCurrent(){var e,t;if(this.disabled)return this.defaultLayerPaths;const s=this.$store.getters["gcodePreview/getLayers"][this.layer];if(this.getViewerOption("followProgress")){const t=this.$store.getters["gcodePreview/getMoveIndexByFilePosition"](this.filePosition);return this.$store.getters["gcodePreview/getPaths"](null!==(e=null===s||void 0===s?void 0:s.move)&&void 0!==e?e:0,t)}return this.$store.getters["gcodePreview/getPaths"](null!==(t=null===s||void 0===s?void 0:s.move)&&void 0!==t?t:0,this.progress)}get svgPathActive(){return this.disabled?this.defaultLayerPaths:this.$store.getters["gcodePreview/getLayerPaths"](this.layer)}get svgPathPrevious(){return this.disabled||this.layer<=0?this.defaultLayerPaths:this.$store.getters["gcodePreview/getLayerPaths"](this.layer-1)}get svgPathNext(){const e=this.$store.getters["gcodePreview/getLayers"];return this.disabled||this.layer>=e.length?this.defaultLayerPaths:this.$store.getters["gcodePreview/getLayerPaths"](this.layer+1)}onIsMobileChanged(){this.panzoom&&(this.isMobile?this.panzoom.pause():this.panzoom.resume())}onFocusedChanged(){this.isMobile&&this.panzoom&&(this.focused?this.panzoom.resume():this.panzoom.pause())}mounted(){this.panzoom=Co()(this.$refs.svg,{maxZoom:20,minZoom:.95,bounds:!0,boundsPadding:.6,smoothScroll:this.showAnimations,beforeWheel:()=>!this.focused}),this.panzoom.on("panstart",(()=>{this.panning=!0})),this.panzoom.on("panend",(()=>{this.panning=!1}))}beforeDestroy(){var e;null===(e=this.panzoom)||void 0===e||e.dispose()}reset(){var e;null===(e=this.panzoom)||void 0===e||e.zoomTo(0,0,1)}getViewerOption(e){return this.$store.getters["gcodePreview/getViewerOption"](e)}getUiSetting(e){return this.$store.state.config.uiSettings.gcodePreview[e]}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],ko.prototype,"disabled",void 0),(0,l.gn)([(0,c.fI)({type:String})],ko.prototype,"width",void 0),(0,l.gn)([(0,c.fI)({type:String})],ko.prototype,"height",void 0),(0,l.gn)([(0,c.fI)({type:Number,default:1/0})],ko.prototype,"progress",void 0),(0,l.gn)([(0,c.fI)({type:Number,default:0})],ko.prototype,"layer",void 0),(0,l.gn)([(0,c.RL)("isMobile")],ko.prototype,"onIsMobileChanged",null),(0,l.gn)([(0,c.RL)("focused")],ko.prototype,"onFocusedChanged",null),ko=(0,l.gn)([(0,c.wA)({})],ko);var So=ko,Po=So,Eo=(0,C.Z)(Po,xo,$o,!1,null,"0b80d2d7",null),Zo=Eo.exports,Ro=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"px-2 mt-n2 mb-2"},[s("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled||!e.canFollowProgress,name:"followProgress",label:e.$t("app.gcode.label.follow_progress")}}),s("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showCurrentLayer",label:e.$t("app.gcode.label.show_current_layer")}}),s("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showNextLayer",label:e.$t("app.gcode.label.show_next_layer")}}),s("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showPreviousLayer",label:e.$t("app.gcode.label.show_previous_layer")}}),s("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showMoves",label:e.$t("app.gcode.label.show_moves")}}),s("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showExtrusions",label:e.$t("app.gcode.label.show_extrusions")}}),s("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showRetractions",label:e.$t("app.gcode.label.show_retractions")}})],1)},To=[],Lo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-checkbox",{attrs:{disabled:e.disabled,label:e.label,"hide-details":""},model:{value:e.property,callback:function(t){e.property=t},expression:"property"}})},Do=[];let Ao=class extends((0,c.Wr)(d.Z)){get property(){return this.$store.getters["gcodePreview/getViewerOption"](this.name)}set property(e){this.$store.commit("gcodePreview/setViewerState",{[this.name]:e})}};(0,l.gn)([(0,c.fI)({type:String,required:!0})],Ao.prototype,"name",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],Ao.prototype,"label",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Ao.prototype,"disabled",void 0),Ao=(0,l.gn)([(0,c.wA)({})],Ao);var Io=Ao,Vo=Io,Mo=(0,C.Z)(Vo,Lo,Do,!1,null,null,null),Fo=Mo.exports;S()(Mo,{VCheckbox:ze.Z});let Oo=class extends((0,c.Wr)(d.Z,b.Z)){get canFollowProgress(){const e=this.$store.getters["gcodePreview/getFile"],t=this.$store.state.printer.printer.current_file;return e&&t&&e.path+"/"+e.filename===t.path+"/"+t.filename}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Oo.prototype,"disabled",void 0),Oo=(0,l.gn)([(0,c.wA)({components:{GcodePreviewControlCheckbox:Fo}})],Oo);var Bo=Oo,No=Bo,Uo=(0,C.Z)(No,Ro,To,!1,null,null,null),Ho=Uo.exports,jo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":"500",persistent:""}},[e.file?s("v-card",[s("v-card-title",{staticClass:"card-heading py-2 px-5"},[s("v-icon",{attrs:{left:""}},[e._v(" $cubeScan ")]),s("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$t("app.gcode.label.parsing_file"))+" ")])],1),s("v-card-text",{staticClass:"py-3 px-5"},[s("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.file.filename)+" ")]),s("v-progress-linear",{staticClass:"mb-2",attrs:{value:e.percent,color:"primary"}}),s("table",[s("tr",[s("td",{staticClass:"pr-2"},[e._v(" "+e._s(e.$t("app.gcode.label.parsed"))+": ")]),s("td",[e._v(" "+e._s(e.percent)+"% ("+e._s(e.$filters.getReadableFileSizeString(e.progress))+" / "+e._s(e.$filters.getReadableFileSizeString(e.file.size))+") ")])])])],1),s("v-divider"),s("v-card-actions",{staticClass:"py-2 px-5"},[s("v-spacer"),s("app-btn",{attrs:{color:"error",text:""},on:{click:function(t){e.$emit("cancel"),e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")])],1)],1):e._e()],1)},Wo=[];let zo=class extends((0,c.Wr)(d.Z)){get percent(){return Math.floor(this.progress/this.file.size*100)}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],zo.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Number})],zo.prototype,"progress",void 0),(0,l.gn)([(0,c.fI)({type:Object})],zo.prototype,"file",void 0),zo=(0,l.gn)([(0,c.wA)({})],zo);var qo=zo,Go=qo,Yo=(0,C.Z)(Go,jo,Wo,!1,null,null,null),Ko=Yo.exports;S()(Yo,{VCard:Vt.Z,VCardActions:Y.h7,VCardText:Y.ZB,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VIcon:P.Z,VProgressLinear:J.Z,VSpacer:et.Z});var Xo=s(60447);let Jo=class extends((0,c.Wr)(d.Z,b.Z)){constructor(){super(...arguments),this.currentLayer=0,this.moveProgress=0}get visibleLayer(){return this.currentLayer+1}onLayerCountChanged(){this.currentLayer=0}onFollowProgressChanged(){this.followProgress&&(this.currentLayer=this.fileProgressLayerNr,this.syncMoveProgress())}onCurrentLayerChanged(){this.followProgress&&this.currentLayer!==this.fileProgressLayerNr&&(this.followProgress=!1),this.followProgress||(this.moveProgress=this.currentLayerMoveRange.max)}onFilePositionChanged(){if(this.followProgress){this.syncMoveProgress();const e=this.$store.getters["gcodePreview/getMoves"],{min:t,max:s}=this.currentLayerMoveRange;(this.filePosition<e[t].filePosition||this.filePosition>e[s].filePosition)&&(this.currentLayer=this.fileProgressLayerNr)}}onMoveProgressChanged(){if(this.followProgress){const e=this.$store.getters["gcodePreview/getMoveIndexByFilePosition"](this.filePosition);e!==this.moveProgress&&this.syncMoveProgress()}}get file(){return this.$store.getters["gcodePreview/getFile"]}get fileLoaded(){return this.$store.getters["gcodePreview/getMoves"].length>0}get isMobile(){return this.$vuetify.breakpoint.mobile}get parserProgress(){return this.$store.getters["gcodePreview/getParserProgress"]}get showParserProgressDialog(){return void 0!==this.file&&this.parserProgress!==this.file.size}get filePosition(){return this.$store.state.printer.printer.virtual_sdcard.file_position}get fileProgressLayerNr(){return this.$store.getters["gcodePreview/getLayerNrByFilePosition"](this.filePosition)}get layerCount(){return this.$store.getters["gcodePreview/getLayers"].length}get currentLayerHeight(){var e,t;return null!==(t=null===(e=this.$store.getters["gcodePreview/getLayers"][this.currentLayer-1])||void 0===e?void 0:e.z)&&void 0!==t?t:0}get followProgress(){return this.$store.getters["gcodePreview/getViewerOption"]("followProgress")}set followProgress(e){this.$store.commit("gcodePreview/setViewerState",{followProgress:e})}get currentLayerMoveRange(){var e,t;const s=this.$store.getters["gcodePreview/getMoves"];if(0===s.length)return{min:0,max:0};const r=this.$store.getters["gcodePreview/getLayers"];return{min:r[this.currentLayer].move,max:null!==(t=null===(e=r[this.currentLayer+1])||void 0===e?void 0:e.move)&&void 0!==t?t:s.length-1}}setCurrentLayer(e){e>0&&(this.currentLayer=e)}setMoveProgress(e){e>=0&&(this.moveProgress=e)}syncMoveProgress(){this.moveProgress=this.$store.getters["gcodePreview/getMoveIndexByFilePosition"](this.filePosition)}abortParser(){this.$store.dispatch("gcodePreview/terminateParserWorker")}resetFile(){this.$store.dispatch("gcodePreview/reset")}async loadCurrent(){const e=this.$store.state.printer.printer.current_file;this.getGcode(e).then((e=>null===e||void 0===e?void 0:e.data)).then((t=>{this.$store.dispatch("gcodePreview/loadGcode",{file:e,gcode:t})})).catch((e=>e)).finally((()=>{this.$store.dispatch("files/removeFileDownload")}))}get printerFile(){const e=this.$store.state.printer.printer.current_file;if(e.filename)return e}get printerFileLoaded(){const e=this.$store.getters["gcodePreview/getFile"],t=this.printerFile;return!(!e||!t||e.path+"/"+e.filename!==t.path+"/"+t.filename)||(this.$store.commit("gcodePreview/setViewerState",{followProgress:!1}),!1)}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],Jo.prototype,"enabled",void 0),(0,l.gn)([(0,c.RL)("layerCount")],Jo.prototype,"onLayerCountChanged",null),(0,l.gn)([(0,c.RL)("followProgress")],Jo.prototype,"onFollowProgressChanged",null),(0,l.gn)([(0,c.RL)("currentLayer")],Jo.prototype,"onCurrentLayerChanged",null),(0,l.gn)([(0,c.RL)("filePosition")],Jo.prototype,"onFilePositionChanged",null),(0,l.gn)([(0,c.RL)("moveProgress")],Jo.prototype,"onMoveProgressChanged",null),Jo=(0,l.gn)([(0,c.wA)({components:{AppBtnCollapseGroup:Xo["default"],GcodePreviewParserProgressDialog:Ko,GcodePreview:Zo,GcodePreviewControls:Ho}})],Jo);var Qo=Jo,el=Qo,tl=(0,C.Z)(el,yo,bo,!1,null,null,null),sl=tl.exports;S()(tl,{VCard:Vt.Z,VCardText:Y.ZB,VCol:K.Z,VDivider:vs.Z,VRow:Q.Z});let rl=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.drag=!1,this.container1=[],this.container2=[]}mounted(){this.container1=this.layout.container1,this.container2=this.layout.container2}get hasCameras(){return this.$store.getters["cameras/getEnabledCameras"].length}get frimwareRetractionEnabled(){return"firmware_retraction"in this.$store.getters["printer/getPrinterSettings"]()}get macros(){return this.$store.getters["macros/getVisibleMacros"]}get uncategorizedMacros(){const e=this.$store.getters["macros/getMacrosByCategory"]();return e.filter((e=>e.visible))}get inLayout(){return this.$store.state.config.layoutMode}get layout(){return this.$store.getters["layout/getLayout"]("dashboard")}onLayoutChange(){this.container1=this.layout.container1,this.container2=this.layout.container2}get dragOptions(){return{animation:200,handle:".handle",group:"dashboard",disabled:!this.inLayout,ghostClass:"ghost"}}handleStopDrag(){this.drag=!1,this.$store.dispatch("layout/onLayoutChange",{name:"dashboard",value:{container1:this.container1,container2:this.container2}})}filtered(e){return!this.inLayout&&("camera-card"===e.id&&!this.hasCameras||("macros-card"===e.id&&this.macros.length<=0&&this.uncategorizedMacros.length<=0||("printer-status-card"===e.id&&!this.klippyReady||("retract-card"===e.id&&!this.frimwareRetractionEnabled||!e.enabled))))}};(0,l.gn)([(0,c.RL)("layout")],rl.prototype,"onLayoutChange",null),rl=(0,l.gn)([(0,c.wA)({components:{draggable:u(),PrinterStatusCard:ye,JobsCard:or,ToolheadCard:ba,MacrosCard:Wi,TemperatureCard:ri,CameraCard:Si,PrinterLimitsCard:ro,RetractCard:_o,ConsoleCard:Qi,OutputsCard:Hn,GcodePreviewCard:sl}})],rl);var al=rl,il=al,nl=(0,C.Z)(il,n,o,!1,null,"d6ae9812",null),ol=nl.exports;S()(nl,{VCol:K.Z,VRow:Q.Z});var ll=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[s("v-col",{attrs:{cols:"12"}},[s("console-card",{attrs:{"full-screen":""}})],1)],1)},cl=[];let dl=class extends((0,c.Wr)(d.Z)){};dl=(0,l.gn)([(0,c.wA)({components:{ConsoleCard:Qi}})],dl);var pl=dl,ul=pl,ml=(0,C.Z)(ul,ll,cl,!1,null,null,null),hl=ml.exports;S()(ml,{VCol:K.Z,VRow:Q.Z});var gl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[s("v-col",{attrs:{cols:"12"}},[s("collapsable-card",{attrs:{title:e.$t("app.general.title.jobs"),"card-key":"JobsPage",icon:"$files",draggable:!1}},[s("file-system",{attrs:{roots:"gcodes",name:"jobs","bulk-actions":"","max-height":816}})],1)],1)],1)},vl=[];let fl=class extends((0,c.Wr)(d.Z)){};fl=(0,l.gn)([(0,c.wA)({components:{FileSystem:sr}})],fl);var _l=fl,yl=_l,bl=(0,C.Z)(yl,gl,vl,!1,null,null,null),xl=bl.exports;S()(bl,{VCol:K.Z,VRow:Q.Z});var $l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[e.supportsBedMesh&&e.klippyReady?s("v-col",{attrs:{cols:"12",md:"8"}},[s("bed-mesh")],1):e._e(),s("v-col",{attrs:{cols:"12",md:"4"}},[e.supportsBedMesh&&e.klippyReady?s("bed-mesh-controls",{staticClass:"mb-2 mb-sm-4"}):e._e(),s("end-stops-card",{staticClass:"mb-2 mb-sm-4"}),e.supportsRunoutSensors?s("runout-sensors-card"):e._e()],1)],1)},wl=[],Cl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.bedmesh"),lazy:!1,icon:"$bedMesh"}},[s("v-card-text",[e.mesh&&e.mesh[e.matrix]&&e.mesh[e.matrix].coordinates&&e.mesh[e.matrix].coordinates.length>0?s("e-charts-bed-mesh",{ref:"chart",attrs:{options:e.options,data:e.series,height:e.isMobile?"225px":"525px"}}):s("span",[e._v(e._s(e.$t("app.bedmesh.msg.not_loaded")))])],1)],1)},kl=[],Sl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chart",style:{height:e.height}},[s("v-chart",{ref:"chart",attrs:{option:e.opts,"update-options":{notMerge:!1},"init-options":{renderer:"canvas"}}})],1)},Pl=[],El=s(72744);let Zl=class extends c.w3{get flatSurface(){return this.$store.state.mesh.flatSurface}onFlatSurfaceChange(e){if(this.chart){let t="legendUnSelect";e&&(t="legendSelect"),this.chart.dispatchAction({type:t,name:"mesh_matrix_flat"}),this.chart.dispatchAction({type:t,name:"probed_matrix_flat"})}}beforeDestroy(){"undefined"!==typeof window&&this.chart&&this.chart.dispose()}get opts(){const e=this.$store.state.config.uiSettings.theme.isDark,t=this.isMobile?14:16;let s="rgba(10,10,10,0.90)";const r=.1;let a="rgba(255,255,255,0.25)",i="#ffffff";const n={itemWidth:this.isMobile?15:25,itemHeight:this.isMobile?140:280};e||(s="rgba(255,255,255,0.90)",a="rgba(0,0,0,0.45)",i="#000000");const o={nameTextStyle:{color:a},axisPointer:{lineStyle:{color:i,opacity:.65},label:{margin:16,color:a,fontSize:t}},axisTick:{lineStyle:{color:i,opacity:r}},axisLine:{lineStyle:{color:i,opacity:r,width:2}},axisLabel:{textStyle:{color:a,fontSize:t}},splitLine:{lineStyle:{color:i,opacity:r}}},l={legend:{show:!1},darkMode:e,tooltip:{backgroundColor:s,borderColor:s,textStyle:{color:a,fontSize:18},formatter:this.tooltipFormatter},visualMap:{type:"continuous",textStyle:{color:a,fontSize:t},realtime:!0,calculable:!0,show:!0,top:0,right:"auto",bottom:"auto",left:0,dimension:2,precision:4,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},...n},xAxis3D:{type:"value",...o},yAxis3D:{type:"value",...o},zAxis3D:{type:"value",min:-.5,max:.5,...o},grid3D:{viewControl:{rotateSensitivity:1.8,zoomSensitivity:2,rotateMouseButton:"left",panMouseButton:"right"}},series:[...this.data]};return(0,El.Z)(l,this.options),l}get isMobile(){return this.$vuetify.breakpoint.mobile}tooltipFormatter(e){let t="";return e.value&&Array.isArray(e.value)&&(t+=`\n        <div>\n          <span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:${e.color};"></span>\n          <span style="font-size:16px;color:#666;font-weight:400;margin-left:2px">\n            ${e.seriesName}\n          </span>\n          <div style="clear: both"></div>\n          <span style="font-size:16px;color:#666;font-weight:400;margin-left:2px">\n            x: ${e.value[0].toFixed(4)}\n          </span>\n          <div style="clear: both"></div>\n          <span style="font-size:16px;color:#666;font-weight:400;margin-left:2px">\n            y: ${e.value[1].toFixed(4)}\n          </span>\n          <div style="clear: both"></div>\n          <span style="font-size:16px;color:#666;font-weight:400;margin-left:2px">\n            z: ${e.value[2].toFixed(4)}\n          </span>\n          <div style="clear: both"></div>\n        </div>\n        `),t}};(0,l.gn)([(0,c.fI)({type:Array,required:!0,default:{}})],Zl.prototype,"data",void 0),(0,l.gn)([(0,c.fI)({type:Object,default:{}})],Zl.prototype,"options",void 0),(0,l.gn)([(0,c.fI)({type:String,default:"100%"})],Zl.prototype,"height",void 0),(0,l.gn)([(0,c.Rl)("chart")],Zl.prototype,"chart",void 0),(0,l.gn)([(0,c.RL)("flatSurface")],Zl.prototype,"onFlatSurfaceChange",null),Zl=(0,l.gn)([(0,c.wA)({})],Zl);var Rl=Zl,Tl=Rl,Ll=(0,C.Z)(Tl,Sl,Pl,!1,null,"40495ab7",null),Dl=Ll.exports;let Al=class extends((0,c.Wr)(d.Z,pr)){get options(){const e=this.scale/2,t=this.boxScale/2;let s=-Math.abs(e-this.mesh[this.matrix].min),r=e+this.mesh[this.matrix].max;0===this.scale&&(s=this.mesh[this.matrix].min,r=this.mesh[this.matrix].max);const a=-Math.abs(this.mesh[this.matrix].mid-t),i=this.mesh[this.matrix].mid+t,n=this.series.reduce(((e,t)=>Object.assign(e,{[t.name]:!t.name.endsWith("_flat")||this.flatSurface&&t.name.startsWith(this.matrix)})),Object.assign({})),o={legend:{show:!1,selected:n},visualMap:{min:s,max:r,dimension:2,seriesIndex:0},zAxis3D:{min:a,max:i}};return o}get series(){const e=this.matrix,t=this.wireframe,s=[{type:"surface",name:e,shading:"color",wireframe:{show:t},data:this.mesh[e].coordinates},this.createFlatSeries("probed_matrix_flat"),this.createFlatSeries("mesh_matrix_flat")];return s}createFlatSeries(e){const t=this.wireframe;return{type:"surface",name:e,itemStyle:{color:[.5,.5,.5,.25]},wireframe:{show:t,lineStyle:{opacity:.25,width:1,color:"#ffffff"}},data:this.mesh[e].coordinates}}get matrix(){return this.$store.state.mesh.matrix}get scale(){return this.$store.state.mesh.scale}get boxScale(){return this.$store.state.mesh.boxScale}get wireframe(){return this.$store.state.mesh.wireframe}get flatSurface(){return this.$store.state.mesh.flatSurface}get mesh(){return this.$store.getters["mesh/getCurrentMeshData"]}get isMobile(){return this.$vuetify.breakpoint.mobile}};Al=(0,l.gn)([(0,c.wA)({components:{EChartsBedMesh:Dl}})],Al);var Il=Al,Vl=Il,Ml=(0,C.Z)(Vl,Cl,kl,!1,null,null,null),Fl=Ml.exports;S()(Ml,{VCardText:Y.ZB});var Ol=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.bedmesh_controls"),lazy:!1,icon:"$bedMesh"}},[e.meshes.length>0?s("v-simple-table",{staticClass:"no-hover"},[s("thead",[s("tr",[s("th",[e._v(e._s(e.$t("app.general.label.name")))]),s("th",[e._v(" ")]),s("th",[e._v(e._s(e.$t("app.general.label.variance")))]),s("th",[e._v(" ")])])]),s("tbody",e._l(e.meshes,(function(t){return s("tr",{key:t.profile_name},[s("td",{},[e._v(" "+e._s(t.profile_name)+" ")]),s("td",[t.active?s("v-chip",{attrs:{small:"",block:""}},[e._v(" active ")]):e._e()],1),s("td",{staticClass:"focus--text"},[t.active&&e.mesh.variance?s("span",[e._v(" "+e._s(e.mesh.variance.toFixed(4))+" ")]):e._e()]),s("td",{staticClass:"text-right",attrs:{nowrap:""}},[t.active||e.printerPrinting||e.printerBusy?e._e():s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var a=r.on,i=r.attrs;return[t.active||e.printerPrinting||e.printerBusy?e._e():s("app-btn",e._g(e._b({attrs:{"x-small":"",color:"",fab:"",text:""},on:{click:function(s){return e.loadProfile(t.profile_name)}}},"app-btn",i,!1),a),[s("v-icon",[e._v("$open")])],1)]}}],null,!0)},[s("span",[e._v(e._s(e.$t("app.bedmesh.tooltip.load")))])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var a=r.on,i=r.attrs;return[s("app-btn",e._g(e._b({staticClass:"ml-2",attrs:{disabled:e.printerPrinting||e.printerBusy,color:"",fab:"",text:"","x-small":""},on:{click:function(s){return e.removeProfile(t.profile_name)}}},"app-btn",i,!1),a),[s("v-icon",{attrs:{color:""}},[e._v(" $close ")])],1)]}}],null,!0)},[s("span",[e._v(e._s(e.$t("app.bedmesh.tooltip.delete")))])])],1)])})),0)]):e._e(),s("v-divider"),s("v-card-text",[0===e.meshes.length?s("div",{staticClass:"mb-4"},[e._v(" "+e._s(e.$t("app.bedmesh.msg.not_found"))+" ")]):e._e(),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("app-btn",{staticClass:"mb-2",attrs:{disabled:!e.meshLoaded||e.printerPrinting||e.printerBusy,small:"",block:""},on:{click:function(t){return e.clearMesh()}}},[e._v(" "+e._s(e.$t("app.general.btn.clear_profile"))+" ")]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("app-btn",e._g(e._b({staticClass:"mb-2",attrs:{small:"",block:"",loading:e.hasWait(e.waits.onMeshCalibrate),disabled:e.printerPrinting||e.printerBusy},on:{click:function(t){return e.calibrate()}}},"app-btn",a,!1),r),[e._v(" "+e._s(e.$t("app.general.btn.calibrate"))+" ")])]}}])},[s("span",[e._v(e._s(e.$t("app.bedmesh.tooltip.calibrate")))])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("app-btn",e._g(e._b({attrs:{block:"",small:"",color:"primary",disabled:!e.meshLoaded||e.printerPrinting||e.printerBusy},on:{click:function(t){return e.handleOpenSaveDialog()}}},"app-btn",a,!1),r),[e._v(" "+e._s(e.$t("app.general.btn.save_as"))+" ")])]}}])},[s("span",[e._v(e._s(e.$t("app.bedmesh.tooltip.save")))])])],1),s("v-col",{attrs:{cols:"6"}},[s("app-btn",{staticClass:"mb-2",attrs:{block:"",small:"",loading:e.hasWait(e.waits.onHomeAll),disabled:e.printerPrinting||e.printerBusy,color:e.allHomed?void 0:"primary"},on:{click:function(t){return e.sendGcode("G28",e.waits.onHomeAll)}}},[s("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v(" $home ")]),e._v(" "+e._s(e.$t("app.general.btn.all"))+" ")],1),!e.printerPrinting&&e.printerSupportsQgl?s("app-btn",{staticClass:"mb-2",attrs:{elevation:2,loading:e.hasWait(e.waits.onQGL),disabled:e.printerPrinting||e.printerBusy,block:"",small:""},on:{click:function(t){return e.sendGcode("QUAD_GANTRY_LEVEL",e.waits.onQGL)}}},[e._v(" "+e._s(e.$t("app.general.btn.quad_gantry_level"))+" ")]):e._e()],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-radio-group",{staticClass:"mt-0 mb-2",attrs:{disabled:!e.meshLoaded,column:"","hide-details":""},model:{value:e.matrix,callback:function(t){e.matrix=t},expression:"matrix"}},[s("v-radio",{attrs:{label:e.$t("app.bedmesh.label.probed_matrix"),color:"primary",value:"probed_matrix"}}),s("v-radio",{attrs:{label:e.$t("app.bedmesh.label.mesh_matrix"),color:"primary",value:"mesh_matrix"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-checkbox",{staticClass:"mt-0",attrs:{disabled:!e.meshLoaded,label:e.$t("app.bedmesh.label.wireframe"),"hide-details":""},model:{value:e.wireframe,callback:function(t){e.wireframe=t},expression:"wireframe"}}),s("v-checkbox",{staticClass:"mt-1",attrs:{disabled:!e.meshLoaded,label:e.$t("app.bedmesh.label.flat_surface"),"hide-details":""},model:{value:e.flatSurface,callback:function(t){e.flatSurface=t},expression:"flatSurface"}})],1)],1),s("v-row",[s("v-col",[s("v-slider",{attrs:{label:e.$t("app.bedmesh.label.scale"),disabled:!e.meshLoaded,"tick-labels":e.mapScaleLabels,min:0,max:.2,step:"0.1",ticks:"always","tick-size":"4"},model:{value:e.mapScale,callback:function(t){e.mapScale=t},expression:"mapScale"}}),s("v-slider",{attrs:{label:e.$t("app.bedmesh.label.box_scale"),disabled:!e.meshLoaded,"tick-labels":e.boxScaleLabels,min:1,max:2,step:"0.5",ticks:"always","tick-size":"4"},model:{value:e.boxScale,callback:function(t){e.boxScale=t},expression:"boxScale"}})],1)],1)],1),e.saveDialogState.open?s("save-mesh-dialog",{attrs:{"existing-name":e.saveDialogState.existingName},on:{save:e.handleMeshSave},model:{value:e.saveDialogState.open,callback:function(t){e.$set(e.saveDialogState,"open",t)},expression:"saveDialogState.open"}}):e._e()],1)},Bl=[],Nl=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{title:e.$t("app.general.label.save_as"),value:e.value,"max-width":450},on:{input:function(t){return e.$emit("input",t)}}},[s("v-form",{ref:"saveMeshForm",on:{submit:function(t){return t.preventDefault(),e.handleSubmit()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.general.label.save_as")))])]),s("v-card-text",{staticClass:"mt-4"},[s("v-text-field",{staticClass:"mb-4",attrs:{autofocus:"",filled:"",required:"",rules:e.rules,"hide-details":"auto",label:e.$t("app.bedmesh.label.profile_name")},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("v-checkbox",{staticClass:"mb-4",attrs:{label:e.$t("app.bedmesh.label.remove_profile",{name:e.existingName}),"hide-details":"auto",disabled:e.name===e.existingName},model:{value:e.removeDefault,callback:function(t){e.removeDefault=t},expression:"removeDefault"}}),s("p",[e._v(" "+e._s(e.$t("app.bedmesh.msg.hint",{name:e.existingName}))+" ")])],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),s("app-btn",{attrs:{color:"primary",elevation:2,type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.save"))+" ")])],1)],1)],1)],1)},Ul=[];let Hl=class extends((0,c.Wr)(d.Z,pr)){constructor(){super(...arguments),this.valid=!0,this.name="default",this.removeDefault=!1,this.rules=[e=>!!e||this.$t("app.general.simple_form.error.required")]}mounted(){this.name="default",this.removeDefault=!1}handleSubmit(){this.valid&&(this.$emit("save",{name:this.name,removeDefault:this.removeDefault}),this.$emit("input",!1))}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Hl.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:String})],Hl.prototype,"existingName",void 0),Hl=(0,l.gn)([(0,c.wA)({})],Hl);var jl=Hl,Wl=jl,zl=(0,C.Z)(Wl,Nl,Ul,!1,null,null,null),ql=zl.exports;S()(zl,{VCard:Vt.Z,VCardActions:Y.h7,VCardText:Y.ZB,VCardTitle:Y.EB,VCheckbox:ze.Z,VDialog:ls.Z,VDivider:vs.Z,VForm:fs.Z,VSpacer:et.Z,VTextField:tt.Z});let Gl=class extends((0,c.Wr)(d.Z,pr)){constructor(){super(...arguments),this.waits=Ce.hw,this.mapScaleLabels=["min","0.1","0.2"],this.boxScaleLabels=["1.0","1.5","2.0"],this.saveDialogState={open:!1,existingName:"default"}}get matrix(){return this.$store.state.mesh.matrix}set matrix(e){this.$store.dispatch("mesh/onMatrix",e)}get mapScale(){return this.$store.state.mesh.scale}set mapScale(e){this.$store.dispatch("mesh/onScale",e)}get boxScale(){return this.$store.state.mesh.boxScale}set boxScale(e){this.$store.dispatch("mesh/onBoxScale",e)}get wireframe(){return this.$store.state.mesh.wireframe}set wireframe(e){this.$store.dispatch("mesh/onWireframe",e)}get flatSurface(){return this.$store.state.mesh.flatSurface}set flatSurface(e){this.$store.dispatch("mesh/onFlatSurface",e)}get meshes(){return this.$store.getters["mesh/getBedMeshes"]}get mesh(){return this.$store.getters["mesh/getCurrentMeshData"][this.matrix]}get currentMesh(){return this.$store.state.printer.printer.bed_mesh}get meshLoaded(){return"profile_name"in this.currentMesh&&this.currentMesh.profile_name.length>0}get hasDefault(){return this.meshes.findIndex((e=>"default"===e.profile_name))>-1}get printerSupportsQgl(){const e=this.$store.getters["printer/getPrinterSettings"]();return"quad_gantry_level"in e}calibrate(){this.sendGcode("BED_MESH_CALIBRATE",Ce.hw.onMeshCalibrate)}clearMesh(){this.sendGcode("BED_MESH_CLEAR")}loadProfile(e){this.sendGcode(`BED_MESH_PROFILE LOAD="${e}"`)}removeProfile(e){this.sendGcode(`BED_MESH_PROFILE REMOVE="${e}"`),this.sendGcode("SAVE_CONFIG")}handleMeshSave(e){e.name!==this.currentMesh.profile_name&&this.sendGcode(`BED_MESH_PROFILE SAVE="${e.name}"`),e.removeDefault&&this.sendGcode(`BED_MESH_PROFILE REMOVE="${this.currentMesh.profile_name}"`),this.sendGcode("SAVE_CONFIG")}handleOpenSaveDialog(){this.saveDialogState={open:!0,existingName:this.currentMesh.profile_name}}};Gl=(0,l.gn)([(0,c.wA)({components:{SaveMeshDialog:ql}})],Gl);var Yl=Gl,Kl=Yl,Xl=s(68978),Jl=s(74739),Ql=s(97611),ec=(0,C.Z)(Kl,Ol,Bl,!1,null,"6311c86d",null),tc=ec.exports;S()(ec,{VCardText:Y.ZB,VCheckbox:ze.Z,VChip:Ai.Z,VCol:K.Z,VDivider:vs.Z,VIcon:P.Z,VRadio:Xl.Z,VRadioGroup:Jl.Z,VRow:Q.Z,VSimpleTable:Ka.Z,VSlider:Ql.Z,VTooltip:E.Z});var sc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.endstops"),"sub-title":e.$t("app.endstop.msg.subtitle"),icon:"$expandHorizontal"},scopedSlots:e._u([{key:"collapse-button",fn:function(){return[s("app-btn",{attrs:{color:"",fab:"","x-small":"",text:""},on:{click:e.queryEndstops}},[s("v-icon",[e._v("$refresh")])],1)]},proxy:!0}])},[e.hasEndStops?s("v-card-text",e._l(e.endStops,(function(t,r){return s("v-layout",{key:r,staticClass:"py-1",attrs:{"align-center":"","justify-start":""}},[s("span",{staticClass:"focus--text mr-5"},[e._v(e._s(r))]),s("v-chip",{staticClass:"ml-2",attrs:{color:"open"===t?"secondary":"warning",small:"",label:""}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" "+e._s("open"===t?"$blankCircle":"$markedCircle")+" ")]),e._v(" "+e._s(e.$t("app.endstop.label."+t.toLowerCase()))+" ")],1)],1)})),1):e._e()],1)},rc=[];let ac=class extends((0,c.Wr)(d.Z)){get endStops(){return this.$store.getters["printer/getEndstops"]}get hasEndStops(){return Object.keys(this.endStops).length>0}queryEndstops(){g.r.printerQueryEndstops()}destroyed(){this.$store.commit("printer/setClearEndStops")}};ac=(0,l.gn)([(0,c.wA)({components:{}})],ac);var ic=ac,nc=ic,oc=(0,C.Z)(nc,sc,rc,!1,null,null,null),lc=oc.exports;S()(oc,{VCardText:Y.ZB,VChip:Ai.Z,VIcon:P.Z,VLayout:H.Z});var cc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.runout_sensors"),icon:"$printer3dNozzleAlert"}},[s("v-card-text",e._l(e.sensors,(function(t){return s("v-layout",{key:t.name,staticClass:"py-1",attrs:{"align-center":"","justify-start":""}},[s("span",{staticClass:"text-subtitle-1"},[e._v(e._s(t.name))]),s("v-icon",{staticClass:"ml-3",attrs:{color:t.filament_detected?"success":"warning",left:""}},[e._v(" "+e._s(t.filament_detected?"$checkedCircle":"$alertCircle")+" ")]),s("v-switch",{staticClass:"ml-2",attrs:{color:"success","input-value":t.enabled},on:{change:function(s){return e.changeSensor(t,s)}}})],1)})),1)],1)},dc=[];let pc=class extends((0,c.Wr)(d.Z)){get sensors(){return this.$store.getters["printer/getRunoutSensors"]}changeSensor(e,t){const s=t?1:0;this.sendGcode(`SET_FILAMENT_SENSOR SENSOR=${e.name} ENABLE=${s}`)}};pc=(0,l.gn)([(0,c.wA)({})],pc);var uc=pc,mc=uc,hc=s(61328),gc=(0,C.Z)(mc,cc,dc,!1,null,null,null),vc=gc.exports;S()(gc,{VCardText:Y.ZB,VIcon:P.Z,VLayout:H.Z,VSwitch:hc.Z});let fc=class extends((0,c.Wr)(d.Z)){get supportsBedMesh(){return this.$store.getters["mesh/getSupportsBedMesh"]}get supportsRunoutSensors(){return this.$store.getters["printer/getRunoutSensors"].length}get supportsEndstops(){const e=this.$store.getters["printer/getEndstops"];return Object.keys(e).length>0}};fc=(0,l.gn)([(0,c.wA)({components:{BedMesh:Fl,BedMeshControls:tc,EndStopsCard:lc,RunoutSensorsCard:vc}})],fc);var _c=fc,yc=_c,bc=(0,C.Z)(yc,$l,wl,!1,null,null,null),xc=bc.exports;S()(bc,{VCol:K.Z,VRow:Q.Z});var $c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[s("v-col",{attrs:{cols:"12"}},[s("printer-stats-card",{staticClass:"mb-2 mb-sm-4"}),s("printer-history-card")],1)],1)},wc=[],Cc=s(10845),kc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.stats"),icon:"$chart"},scopedSlots:e._u([{key:"menu",fn:function(){return[s("app-btn-collapse-group",[s("app-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:e.handleResetStats}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $delete ")]),s("span",[e._v(e._s(e.$t("app.general.btn.reset_stats")))])],1)],1)]},proxy:!0}])},[s("v-card-text",[e.supportsHistoryComponent?s("v-row",[s("v-col",{attrs:{cols:"3"}},[s("v-card",{staticClass:"px-2 py-1 text-center stat-square",attrs:{outlined:""}},[s("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_jobs"))+" ")]),s("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.rollup.total_jobs)+" ")]),s("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.longest_job"))+" ")]),s("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.formatCounterTime(e.rollup.longest_job))+" ")])])],1),s("v-col",{attrs:{cols:"3"}},[s("v-card",{staticClass:"px-2 py-1 text-center stat-square",attrs:{outlined:""}},[s("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_time"))+" ")]),s("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.formatCounterTime(e.rollup.total_time))+" ")]),s("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_time_avg"))+" ")]),s("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.formatCounterTime(e.rollup.total_avg))+" ")])])],1),s("v-col",{attrs:{cols:"3"}},[s("v-card",{staticClass:"px-2 py-1 text-center stat-square",attrs:{outlined:""}},[s("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_print_time"))+" ")]),s("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.formatCounterTime(e.rollup.total_print_time))+" ")]),s("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_print_time_avg"))+" ")]),s("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.formatCounterTime(e.rollup.print_avg))+" ")])])],1),s("v-col",{attrs:{cols:"3"}},[s("v-card",{staticClass:"px-2 py-1 text-center stat-square",attrs:{outlined:""}},[s("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_filament"))+" ")]),s("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.getReadableLengthString(e.rollup.total_filament_used))+" ")]),s("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_filament_avg"))+" ")]),s("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.getReadableLengthString(e.rollup.filament_avg))+" ")])])],1)],1):e._e()],1)],1)},Sc=[],Pc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"file-system"},[s("v-toolbar",{attrs:{dense:""}},[s("v-spacer"),s("div",{staticClass:"mr-1",staticStyle:{"max-width":"160px"}},[s("v-text-field",{attrs:{outlined:"",dense:"","single-line":"","hide-details":"","append-icon":"$magnify"},on:{keyup:function(t){return e.$emit("update:search",e.search)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e.headers?s("app-column-picker",{attrs:{"key-name":"history",headers:e.headers}}):e._e()],1),s("v-data-table",{attrs:{items:e.history,headers:e.visibleHeaders,"items-per-page":15,"item-class":e.getRowClasses,"single-expand":!0,search:e.search,expanded:e.expanded,"mobile-breakpoint":"0","item-key":"job_id","sort-by":"start_time","sort-desc":""},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var r=t.headers,a=t.item;return[s("td",{staticClass:"pa-4",attrs:{colspan:r.length}},[s("div",{staticClass:"chip-group"},[e._l(Object.keys(a.metadata),(function(t,r){return["thumbnails"!==t?s("v-chip",{key:r,attrs:{small:""}},[e._v(" "+e._s(t)+": "+e._s(a.metadata[t])+" ")]):e._e()]}))],2)])]}},{key:"item.data-table-icons",fn:function(t){var r=t.item;return[r.exists?e._e():s("v-icon",{staticClass:"mr-2",attrs:{color:"secondary"}},[e._v(" $fileCancel ")]),r.exists&&!r.metadata.thumbnails?s("v-icon",{staticClass:"mr-2"},[e._v(" $fileDocument ")]):e._e(),r.exists&&r.metadata.thumbnails&&r.metadata.thumbnails.length?s("img",{staticClass:"mr-2 file-icon-thumb",attrs:{src:e.getThumbUrl(r.metadata.thumbnails,e.getFilePaths(r.filename).path,!1,r.metadata.modified),width:24}}):e._e()]}},{key:"item.filename",fn:function(t){var r=t.item;return[s("span",{},[e._v(" "+e._s(e.getFilePaths(r.filename).filename)+" ")])]}},{key:"item.status",fn:function(e){var t=e.item;return[s("job-history-item-status",{attrs:{job:t}})]}},{key:"item.start_time",fn:function(t){var r=t.item;return[s("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.formatDateTime(r.start_time,e.$store.state.config.uiSettings.general.dateformat+" YYYY - "+e.$store.state.config.uiSettings.general.timeformat))+" ")])]}},{key:"item.end_time",fn:function(t){var r=t.item;return["in_progress"!==r.status?s("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.formatDateTime(r.end_time,e.$store.state.config.uiSettings.general.dateformat+" YYYY - "+e.$store.state.config.uiSettings.general.timeformat))+" ")]):s("span",[e._v("--")])]}},{key:"item.print_duration",fn:function(t){var r=t.item;return[s("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.formatCounterTime(r.print_duration))+" ")])]}},{key:"item.total_duration",fn:function(t){var r=t.item;return[s("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.formatCounterTime(r.total_duration))+" ")])]}},{key:"item.filament_used",fn:function(t){var r=t.item;return[s("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.getReadableLengthString(r.filament_used))+" ")])]}},{key:"item.metadata.size",fn:function(t){var r=t.item;return[s("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.getReadableFileSizeString(r.metadata.size))+" ")])]}},{key:"item.actions",fn:function(t){var r=t.item;return[s("div",{staticClass:"text-no-wrap"},[s("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return e.handleRemoveJob(r)}}},[s("v-icon",{attrs:{small:"",color:""}},[e._v(" $delete ")])],1),s("v-btn",{staticClass:"v-data-table__expand-icon",class:{"v-data-table__expand-icon--active":e.isExpanded(r)},attrs:{color:"",icon:"",small:""},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggleRowExpand(r)}}},[s("v-icon",[e._v("$chevronDown")])],1)],1)]}}],null,!0)})],1)},Ec=[];let Zc=class extends((0,c.Wr)(b.Z)){constructor(){super(...arguments),this.expanded=[],this.search=""}get headers(){const e=[{text:"",value:"data-table-icons",sortable:!1,width:"24px"},{text:this.$tc("app.general.table.header.name"),value:"filename"},{text:this.$tc("app.general.table.header.status"),value:"status",configurable:!0},{text:this.$tc("app.general.table.header.start_time"),value:"start_time",configurable:!0},{text:this.$tc("app.general.table.header.end_time"),value:"end_time",configurable:!0},{text:this.$tc("app.general.table.header.print_duration"),value:"print_duration",configurable:!0},{text:this.$tc("app.general.table.header.total_duration"),value:"total_duration",configurable:!0},{text:this.$tc("app.general.table.header.filament_used"),value:"filament_used",configurable:!0},{text:this.$t("app.general.table.header.size"),value:"metadata.size",width:"1%",configurable:!0},{text:this.$tc("app.general.table.header.actions"),value:"actions",sortable:!1,align:"end"}],t="history";return this.$store.getters["config/getMergedTableHeaders"](e,t)}get visibleHeaders(){return this.headers.filter((e=>e.visible||void 0===e.visible))}get history(){return this.$store.getters["history/getHistory"]}getRowClasses(e){return e.exists?"":"v-data-table__inactive"}getFilePaths(e){return(0,ae.Z)(e,"gcodes")}getFilename(e){return e.split("/").pop()||""}handleRemoveJob(e){g.r.serverHistoryDeleteJob(e.job_id)}isExpanded(e){if(this.expanded.length<=0)return!1;const t=this.expanded[0];return e.job_id===t.job_id}toggleRowExpand(e){this.isExpanded(e)?this.expanded=[]:this.expanded=[e]}};Zc=(0,l.gn)([(0,c.wA)({components:{JobHistoryItemStatus:R}})],Zc);var Rc=Zc,Tc=Rc,Lc=(0,C.Z)(Tc,Pc,Ec,!1,null,null,null),Dc=Lc.exports;S()(Lc,{VBtn:De.Z,VChip:Ai.Z,VDataTable:le.Z,VIcon:P.Z,VSpacer:et.Z,VTextField:tt.Z,VToolbar:st.Z});let Ac=class extends c.w3{get rollup(){return this.$store.getters["history/getRollUp"]}get fileSystemUsedPercent(){const e=this.fileSystemUsage.total,t=this.fileSystemUsage.used;return Math.floor(t/e*100).toFixed()}get fileSystemUsage(){return this.$store.getters["files/getUsage"]}get appInfo(){return{fluidd:this.$store.state.version.fluidd,moonraker:this.$store.state.version.components.moonraker||{},klipper:this.$store.state.version.components.klipper||{}}}get supportsHistoryComponent(){return this.$store.getters["server/componentSupport"]("history")}handleResetStats(){this.$confirm(this.$tc("app.history.msg.confirm_stats"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{e&&g.r.serverHistoryResetTotals()}))}};Ac=(0,l.gn)([(0,c.wA)({components:{JobHistory:Dc}})],Ac);var Ic=Ac,Vc=Ic,Mc=(0,C.Z)(Vc,kc,Sc,!1,null,"3c033fe6",null),Fc=Mc.exports;S()(Mc,{VCard:Vt.Z,VCardText:Y.ZB,VCol:K.Z,VIcon:P.Z,VRow:Q.Z});var Oc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.history"),icon:"$history"},scopedSlots:e._u([{key:"menu",fn:function(){return[s("app-btn-collapse-group",[s("app-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:e.handleLoadAll}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $download ")]),s("span",[e._v(e._s(e.$t("app.general.btn.load_all")))])],1),s("app-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:e.handleRemoveAll}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $delete ")]),s("span",[e._v(e._s(e.$t("app.general.btn.remove_all")))])],1)],1)]},proxy:!0}])},[s("job-history")],1)},Bc=[];let Nc=class extends c.w3{handleRemoveAll(){this.$confirm(this.$tc("app.history.msg.confirm_jobs"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{e&&g.r.serverHistoryDeleteJob("all")}))}handleLoadAll(){g.r.serverHistoryList({limit:0})}};Nc=(0,l.gn)([(0,c.wA)({components:{JobHistory:Dc}})],Nc);var Uc=Nc,Hc=Uc,jc=(0,C.Z)(Hc,Oc,Bc,!1,null,null,null),Wc=jc.exports;S()(jc,{VIcon:P.Z});let zc=class extends((0,c.Wr)(d.Z)){get breakpoint(){return this.$vuetify.breakpoint.mdAndDown?12:6}get supportsHistory(){return this.$store.getters["server/componentSupport"]("history")}};zc=(0,l.gn)([(0,c.wA)({components:{FileSystem:sr,SystemControl:Cc["default"],PrinterStatsCard:Fc,PrinterHistoryCard:Wc}})],zc);var qc=zc,Gc=qc,Yc=(0,C.Z)(Gc,$c,wc,!1,null,null,null),Kc=Yc.exports;S()(Yc,{VCol:K.Z,VRow:Q.Z});var Xc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[s("v-col",{attrs:{cols:"12",md:"8"}},[s("collapsable-card",{attrs:{title:e.$t("app.general.title.timelapse"),icon:"$video",draggable:!1}},[s("file-system",{attrs:{roots:"timelapse",name:"timelapse","bulk-actions":"","max-height":816,"timelapse-browser":!0}})],1)],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("timelapse-status-card",{on:{openRenderDialog:e.openRenderDialog}}),s("timelapse-settings-card",{on:{openRenderDialog:e.openRenderDialog}})],1),e.renderDialogOpen?s("timelapse-render-settings-dialog",{attrs:{renderable:e.renderDialogRenderable},model:{value:e.renderDialogOpen,callback:function(t){e.renderDialogOpen=t},expression:"renderDialogOpen"}}):e._e()],1)},Jc=[],Qc=s(3444),ed=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{staticClass:"mb-2 sb-sm-4",attrs:{title:e.$t("app.timelapse.title.timelapse_status"),icon:"$info",draggable:!1}},[s("v-card-text",[s("v-row",[e.frameCount?s("div",{staticStyle:{position:"relative"}},[s("img",{staticClass:"mx-auto thumbnail",style:{filter:e.isRendering?"saturate("+e.renderStatus.progress+"%)":"none"},attrs:{src:e.previewUrl}}),e.isRendering?s("v-progress-circular",{staticClass:"render-progress",attrs:{color:"primary",size:"64",value:e.renderStatus.progress}}):e._e()],1):s("camera-item",{attrs:{camera:e.camera}})],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-layout",{attrs:{"justify-center":""}},[s("app-slider",{attrs:{"full-width":"",label:e.$tc("app.timelapse.label.frame"),min:1,max:e.frameCount,suffix:"/ "+e.frameCount,"reset-value":e.frameCount,disabled:!e.frameCount||e.isRendering},model:{value:e.selectedFrame,callback:function(t){e.selectedFrame=t},expression:"selectedFrame"}})],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("app-btn",{attrs:{color:"primary",text:"",disabled:!e.frameCount||e.savingFrames},on:{click:function(t){return e.saveFrames()}}},[e._v(" "+e._s(e.$t("app.timelapse.btn.save_frames"))+" ")]),s("app-btn",{attrs:{color:"primary",disabled:!e.frameCount||e.isRendering},on:{click:function(t){return e.$emit("openRenderDialog",!0)}}},[e._v(" "+e._s(e.$t("app.timelapse.btn.render"))+" ")])],1)],1)},td=[],sd=s(28343),rd=s(19451),ad=s(89710);let id=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.selectedFrameNumber=0}saveFrames(){g.r.machineTimelapseSaveFrames(this.waits.onTimelapseSaveFrame)}get savingFrames(){return this.hasWait(this.waits.onTimelapseSaveFrame)}get selectedFrame(){return this.selectedFrameNumber||this.frameCount||0}set selectedFrame(e){this.selectedFrameNumber=e===this.frameCount?0:e}get previewUrl(){var e,t,s;const r=new URL(null!==(e=this.apiUrl)&&void 0!==e?e:document.location.origin);if(this.lastFrame&&(null===(t=this.lastFrame)||void 0===t?void 0:t.file)){{let e=null===(s=this.lastFrame)||void 0===s?void 0:s.file;if(this.selectedFrame){const[t]=null===e||void 0===e?void 0:e.split(".").slice(-1);e=`frame${this.selectedFrame.toString().padStart(6,"0")}.${t}`}r.pathname=`/server/files/timelapse_frames/${e}`}return r.toString()}}get isRendering(){return this.renderStatus&&"success"!==this.renderStatus.status}get frameCount(){var e;return null===(e=this.lastFrame)||void 0===e?void 0:e.uniqueCount}get camera(){var e;return null!==(e=this.$store.getters["cameras/getCameraById"](this.settings.camera))&&void 0!==e?e:{url:"/webcam/?action=snapshot",type:"mjpgadaptive"}}get settings(){return this.$store.getters["timelapse/getSettings"]}get lastFrame(){return this.$store.getters["timelapse/getLastFrame"]}get renderStatus(){return this.$store.getters["timelapse/getRenderStatus"]}get apiUrl(){return this.$store.state.config.apiUrl}};id=(0,l.gn)([(0,c.wA)({components:{CameraItem:hi,AppBtn:ad["default"],AppSetting:rd["default"],AppSlider:sd["default"],CollapsableCard:Qc["default"],FileSystem:sr}})],id);var nd=id,od=nd,ld=(0,C.Z)(od,ed,td,!1,null,"2e99f41a",null),cd=ld.exports;S()(ld,{VCardActions:Y.h7,VCardText:Y.ZB,VCol:K.Z,VDivider:vs.Z,VLayout:H.Z,VProgressCircular:X.Z,VRow:Q.Z,VSpacer:et.Z});var dd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.timelapse.title.timelapse_settings"),icon:"$cog",draggable:!1}},[s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.enable"),"sub-title":e.subtitleIfBlocked(e.enabledBlocked),"r-cols":2}},[s("v-switch",{attrs:{"hide-details":"",disabled:e.enabledBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.auto_render"),"sub-title":e.subtitleIfBlocked(e.autoRenderBlocked),"r-cols":2}},[s("v-switch",{attrs:{"hide-details":"",disabled:e.autoRenderBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.autoRender,callback:function(t){e.autoRender=t},expression:"autoRender"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$tc("app.timelapse.title.render_settings")}},[s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:function(t){return e.$emit("openRenderDialog",!1)}}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $pencil ")]),e._v(" "+e._s(e.$t("app.general.btn.edit"))+" ")],1)],1)],1)},pd=[];let ud=class extends((0,c.Wr)(d.Z)){get enabledBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("enabled")}get enabled(){var e;return null===(e=this.settings)||void 0===e?void 0:e.enabled}set enabled(e){g.r.machineTimelapseSetSettings({enabled:e})}get autoRenderBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("autorender")}get autoRender(){var e;return null===(e=this.settings)||void 0===e?void 0:e.autorender}set autoRender(e){g.r.machineTimelapseSetSettings({autorender:e})}get frameCount(){var e;return null===(e=this.$store.getters["timelapse/getLastFrame"])||void 0===e?void 0:e.count}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.timelapse.tooltip.managed_by_moonraker"):""}};ud=(0,l.gn)([(0,c.wA)({components:{AppSetting:rd["default"]}})],ud);var md=ud,hd=md,gd=(0,C.Z)(hd,dd,pd,!1,null,null,null),vd=gd.exports;S()(gd,{VDivider:vs.Z,VIcon:P.Z,VSwitch:hc.Z});var fd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":640},on:{input:function(t){return e.$emit("input",t)}}},[e.value?s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.timelapse.title.render_settings")))]),s("v-spacer"),s("app-btn",{attrs:{color:"",icon:""},on:{click:function(t){return e.$emit("input",!1)}}},[s("v-icon",[e._v("$close")])],1)],1),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.variable_fps"),"sub-title":e.subtitleIfBlocked(e.variableFpsBlocked)}},[s("v-switch",{attrs:{"hide-details":"",disabled:e.variableFpsBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.variableFps,callback:function(t){e.variableFps=t},expression:"variableFps"}})],1),s("v-divider"),e.variableFps?s("div",[s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.targetlength"),"sub-title":e.subtitleIfBlocked(e.targetLengthBlocked)}},[s("v-text-field",{ref:"targetLengthElement",attrs:{value:e.targetLength,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.targetLengthBlocked,"hide-details":!e.targetLengthElement||e.targetLengthElement.valid,filled:"",dense:"","single-line":"",suffix:"s"},on:{change:e.setTargetLength}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.variable_fps_min"),"sub-title":e.subtitleIfBlocked(e.minFpsBlocked)}},[s("v-text-field",{ref:"minFpsElement",attrs:{value:e.minFps,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.minFpsBlocked,"hide-details":!e.minFpsElement||e.minFpsElement.valid,filled:"",dense:"","single-line":"",suffix:"fps"},on:{change:e.setMinFps}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.variable_fps_max"),"sub-title":e.subtitleIfBlocked(e.maxFpsBlocked)}},[s("v-text-field",{ref:"maxFpsElement",attrs:{value:e.maxFps,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.maxFpsBlocked,"hide-details":!e.maxFpsElement||e.maxFpsElement.valid,filled:"",dense:"","single-line":"",suffix:"fps"},on:{change:e.setMaxFps}})],1)],1):s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.output_framerate"),"sub-title":e.subtitleIfBlocked(e.outputFramerateBlocked)}},[s("v-text-field",{ref:"outputFramerateElement",attrs:{value:e.outputFramerate,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.outputFramerateBlocked,"hide-details":!e.outputFramerateElement||e.outputFramerateElement.valid,filled:"",dense:"","single-line":"",suffix:"fps"},on:{change:e.setOutputFramerate}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.saveframes"),"sub-title":e.subtitleIfBlocked(e.saveFramesBlocked)}},[s("v-switch",{attrs:{"hide-details":"",disabled:e.saveFramesBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.saveFrames,callback:function(t){e.saveFrames=t},expression:"saveFrames"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.duplicatelastframe"),"sub-title":e.subtitleIfBlocked(e.duplicateFramesBlocked)}},[s("v-text-field",{ref:"duplicateFramesElement",attrs:{value:e.duplicateFrames,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.duplicateFramesBlocked,"hide-details":!e.duplicateFramesElement||e.duplicateFramesElement.valid,filled:"",dense:"","single-line":"",suffix:e.$tc("app.timelapse.label.frame",e.duplicateFrames)},on:{change:e.setDuplicateFrames}})],1),s("v-divider"),s("app-slider",{staticClass:"px-4 pt-3",staticStyle:{overflow:"hidden"},attrs:{value:e.crf,label:e.$tc("app.timelapse.setting.crf"),min:0,max:51,"reset-value":e.defaultCRF,disabled:e.crfBlocked},on:{change:e.setCRF}}),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.previewimage"),"sub-title":e.subtitleIfBlocked(e.previewImageBlocked)}},[s("v-switch",{attrs:{"hide-details":"",disabled:e.previewImageBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.previewImage,callback:function(t){e.previewImage=t},expression:"previewImage"}})],1),e.renderable?s("v-divider"):e._e(),e.renderable?s("v-card-actions",{staticClass:"pt-4"},[s("v-spacer"),s("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("app-btn",e._g(e._b({attrs:{color:"primary"},on:{click:e.renderTimelapse}},"app-btn",a,!1),r),[s("v-icon",[e._v("$play")]),e._v(" "+e._s(e.$t("app.timelapse.btn.render"))+" ")],1)]}}],null,!1,2581426424)},[s("span",[e._v(e._s(e.$t("app.timelapse.label.length",{length:e.lengthEstimate})))])])],1):e._e()],1):e._e()],1)},_d=[],yd=s(39374);let bd=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>e>=0||this.$t("app.general.simple_form.error.min",{min:0})}}get lengthEstimate(){const e=this.frameCount+this.duplicateLastFrameCount;let t;t=this.settings.variable_fps?Math.min(this.settings.variable_fps_max,Math.max(this.settings.variable_fps_min,e/this.settings.targetlength)):this.settings.output_framerate;const s=(e||0)/t,r=Math.floor(s/60);return`${r?r+"m":""} ${Math.floor(s%60)}s`.trim()}get outputFramerateBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("output_framerate")}get outputFramerate(){var e;return null===(e=this.settings)||void 0===e?void 0:e.output_framerate}setOutputFramerate(e){var t;(null===(t=this.outputFramerateElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({output_framerate:e})}get variableFpsBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("variable_fps")}get variableFps(){var e;return null===(e=this.settings)||void 0===e?void 0:e.variable_fps}set variableFps(e){g.r.machineTimelapseSetSettings({variable_fps:e})}get targetLengthBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("targetlength")}get targetLength(){var e;return null===(e=this.settings)||void 0===e?void 0:e.targetlength}setTargetLength(e){var t;(null===(t=this.targetLengthElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({targetlength:e})}get minFpsBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("variable_fps_min")}get minFps(){var e;return null===(e=this.settings)||void 0===e?void 0:e.variable_fps_min}setMinFps(e){var t;(null===(t=this.minFpsElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({variable_fps_min:e})}get maxFpsBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("variable_fps_max")}get maxFps(){var e;return null===(e=this.settings)||void 0===e?void 0:e.variable_fps_max}setMaxFps(e){var t;(null===(t=this.maxFpsElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({variable_fps_max:e})}get duplicateFramesBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("duplicatelastframe")}get duplicateFrames(){var e;return null===(e=this.settings)||void 0===e?void 0:e.duplicatelastframe}setDuplicateFrames(e){var t;(null===(t=this.duplicateFramesElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({duplicatelastframe:e})}get saveFramesBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("saveframes")}get saveFrames(){var e;return null===(e=this.settings)||void 0===e?void 0:e.saveframes}set saveFrames(e){g.r.machineTimelapseSetSettings({saveframes:e})}get previewImageBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("previewimage")}get previewImage(){var e;return null===(e=this.settings)||void 0===e?void 0:e.previewimage}set previewImage(e){g.r.machineTimelapseSetSettings({previewimage:e})}renderTimelapse(){g.r.machineTimelapseRender(),this.$emit("input",!1)}get frameCount(){var e,t;return null!==(t=null===(e=this.lastFrame)||void 0===e?void 0:e.count)&&void 0!==t?t:0}get duplicateLastFrameCount(){var e,t;return null!==(t=null===(e=this.settings)||void 0===e?void 0:e.duplicatelastframe)&&void 0!==t?t:0}get crfBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("constant_rate_factor")}get crf(){var e;return null===(e=this.settings)||void 0===e?void 0:e.constant_rate_factor}setCRF(e){g.r.machineTimelapseSetSettings({constant_rate_factor:e})}get defaultCRF(){return yd.Ao.constant_rate_factor}get settings(){return this.$store.getters["timelapse/getSettings"]}get lastFrame(){return this.$store.getters["timelapse/getLastFrame"]}subtitleIfBlocked(e){return e?this.$tc("app.timelapse.tooltip.managed_by_moonraker"):""}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],bd.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],bd.prototype,"renderable",void 0),(0,l.gn)([(0,c.Rl)("outputFramerateElement")],bd.prototype,"outputFramerateElement",void 0),(0,l.gn)([(0,c.Rl)("targetLengthElement")],bd.prototype,"targetLengthElement",void 0),(0,l.gn)([(0,c.Rl)("minFpsElement")],bd.prototype,"minFpsElement",void 0),(0,l.gn)([(0,c.Rl)("maxFpsElement")],bd.prototype,"maxFpsElement",void 0),(0,l.gn)([(0,c.Rl)("duplicateFramesElement")],bd.prototype,"duplicateFramesElement",void 0),bd=(0,l.gn)([(0,c.wA)({components:{AppSetting:rd["default"]}})],bd);var xd=bd,$d=xd,wd=(0,C.Z)($d,fd,_d,!1,null,null,null),Cd=wd.exports;S()(wd,{VCard:Vt.Z,VCardActions:Y.h7,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VIcon:P.Z,VSpacer:et.Z,VSwitch:hc.Z,VTextField:tt.Z,VTooltip:E.Z});let kd=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.renderDialogOpen=!1,this.renderDialogRenderable=!1}openRenderDialog(e=!1){this.renderDialogRenderable=e,this.renderDialogOpen=!0}};kd=(0,l.gn)([(0,c.wA)({components:{TimelapseRenderSettingsDialog:Cd,CollapsableCard:Qc["default"],FileSystem:sr,TimelapseStatusCard:cd,TimelapseSettingsCard:vd}})],kd);var Sd=kd,Pd=Sd,Ed=(0,C.Z)(Pd,Xc,Jc,!1,null,null,null),Zd=Ed.exports;S()(Ed,{VCol:K.Z,VRow:Q.Z});var Rd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("collapsable-card",{attrs:{title:e.$t("app.general.title.config_files"),icon:"$codeJson",draggable:!1}},[s("file-system",{attrs:{roots:["config"],"max-height":816,name:"configure"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("collapsable-card",{attrs:{title:e.$t("app.general.title.other_files"),icon:"$files",draggable:!1}},[s("file-system",{attrs:{roots:["logs","docs","config_examples"],"max-height":816,name:"configure"}})],1)],1)],1)},Td=[],Ld=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.general.title.system_overview"),icon:"$desktopTower"}},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",[s("v-simple-table",{attrs:{dense:""}},[s("tbody",[s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.hostname")))]),s("td",[e._v(e._s(e.printerInfo.hostname))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.model")))]),s("td",[e._v(e._s(e.cpuInfo.model))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.cpu_desc")))]),s("td",[e._v(e._s(e.cpuInfo.cpu_desc))])]),e.cpuInfo.total_memory?s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.total_memory")))]),s("td",[e._v(e._s(e.$filters.getReadableFileSizeString(1e3*e.cpuInfo.total_memory)))])]):e._e(),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.hardware_desc")))]),s("td",[e._v(e._s(e.cpuInfo.hardware_desc))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.processor_desc")))]),s("td",[e._v(e._s(e.cpuInfo.bits)+" "+e._s(e.cpuInfo.processor)+" with "+e._s(e.cpuInfo.cpu_count)+" cores")])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.distribution_name")))]),s("td",[e._v(e._s(e.distribution.name))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.distribution_codename")))]),s("td",[e._v(e._s(e.distribution.codename))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.distribution_like")))]),s("td",[e._v(e._s(e.distribution.like))])])])])],1),s("v-col",[s("v-card-text",[s("system-control")],1)],1)],1)],1)},Dd=[];let Ad=class extends c.w3{get cpuInfo(){const e=this.$store.getters["server/getSystemInfo"];return(null===e||void 0===e?void 0:e.cpu_info)||{}}get sdInfo(){const e=this.$store.getters["server/getSystemInfo"];return(null===e||void 0===e?void 0:e.sd_info)||{}}get distribution(){const e=this.$store.getters["server/getSystemInfo"];return(null===e||void 0===e?void 0:e.distribution)||{}}get services(){const e=this.$store.getters["server/getSystemInfo"];return(null===e||void 0===e?void 0:e.available_services)||[]}get printerInfo(){return this.$store.state.printer.printer.info}get fileSystemUsedPercent(){const e=this.fileSystemUsage.total,t=this.fileSystemUsage.used;return Math.floor(t/e*100).toFixed()}get fileSystemUsage(){return this.$store.getters["files/getUsage"]}};Ad=(0,l.gn)([(0,c.wA)({})],Ad);var Id=Ad,Vd=Id,Md=(0,C.Z)(Vd,Ld,Dd,!1,null,null,null),Fd=Md.exports;S()(Md,{VCardText:Y.ZB,VCol:K.Z,VRow:Q.Z,VSimpleTable:Ka.Z});var Od=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.system_info.label.system_utilization"),icon:"$chart"}},[s("v-card-text",[s("v-row",[s("system-load-chart"),s("klipper-load-chart"),s("moonraker-load-chart"),s("system-memory-chart"),e._l(e.mcus,(function(e,t){return[s("mcu-load-chart",{key:t,attrs:{mcu:e.name}})]}))],2)],1)],1)},Bd=[],Nd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.ready?s("v-col",{staticClass:"chart-wrapper",attrs:{cols:"4"}},[s("app-chart",{attrs:{data:e.chartData,options:e.options,height:"120px"}}),s("div",{staticClass:"chart-label-wrapper"},[s("div",{staticClass:"chart-label"},[s("span",[e._v(e._s(e.$t("app.system_info.label.system_load")))]),e.chartData.length?s("span",[e._v(e._s(e.chartData[e.chartData.length-1].load)+" / "+e._s(e.cores))]):e._e()])])],1):e._e()},Ud=[];let Hd=class extends c.w3{constructor(){super(...arguments),this.ready=!1}get chartData(){return this.$store.state.charts.klipper||[]}get cores(){var e,t,s;return(null===(s=null===(t=null===(e=this.$store.state.server)||void 0===e?void 0:e.system_info)||void 0===t?void 0:t.cpu_info)||void 0===s?void 0:s.cpu_count)||1}get options(){const e={...this.$store.getters["charts/getBaseChartOptions"](),series:this.series};return e.yAxis.max=e=>e.max<=this.cores?this.cores:e.max,e}get series(){return this.$store.getters["charts/getBaseSeries"]({name:"load",encode:{x:"date",y:"load"}})}onChartData(e){e&&e.length>0&&(this.ready=!0)}};(0,l.gn)([(0,c.RL)("chartData",{immediate:!0})],Hd.prototype,"onChartData",null),Hd=(0,l.gn)([(0,c.wA)({})],Hd);var jd=Hd,Wd=jd,zd=(0,C.Z)(Wd,Nd,Ud,!1,null,null,null),qd=zd.exports;S()(zd,{VCol:K.Z});var Gd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.ready?s("v-col",{staticClass:"chart-wrapper",attrs:{cols:"4"}},[s("app-chart",{attrs:{data:e.chartData,options:e.options,height:"120px"}}),s("div",{staticClass:"chart-label-wrapper"},[s("div",{staticClass:"chart-label"},[s("span",[e._v(e._s(e.$t("app.system_info.label.system_memory")))]),e.chartData.length?s("span",[e._v(e._s(e.chartData[e.chartData.length-1].memused)+"%")]):e._e()])])],1):e._e()},Yd=[];let Kd=class extends c.w3{constructor(){super(...arguments),this.ready=!1}get chartData(){return this.$store.state.charts.memory||[]}get options(){const e={...this.$store.getters["charts/getBaseChartOptions"]({memused:"%"}),series:this.series};return e}get series(){return this.$store.getters["charts/getBaseSeries"]({name:"memory used",encode:{x:"date",y:"memused"}})}onChartData(e){e&&e.length>0&&(this.ready=!0)}};(0,l.gn)([(0,c.RL)("chartData",{immediate:!0})],Kd.prototype,"onChartData",null),Kd=(0,l.gn)([(0,c.wA)({})],Kd);var Xd=Kd,Jd=Xd,Qd=(0,C.Z)(Jd,Gd,Yd,!1,null,null,null),ep=Qd.exports;S()(Qd,{VCol:K.Z});var tp=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.ready?s("v-col",{staticClass:"chart-wrapper",attrs:{cols:"4"}},[s("app-chart",{attrs:{data:e.chartData,options:e.options,height:"120px"}}),s("div",{staticClass:"chart-label-wrapper"},[s("div",{staticClass:"chart-label"},[s("span",[e._v(e._s(e.$t("app.system_info.label.klipper_load")))]),e.chartData.length?s("span",[e._v(e._s(e.chartData[e.chartData.length-1].cputime_change)+"%")]):e._e()])])],1):e._e()},sp=[];let rp=class extends c.w3{constructor(){super(...arguments),this.ready=!1}get chartData(){return this.$store.state.charts.klipper||[]}get options(){const e={...this.$store.getters["charts/getBaseChartOptions"]({cputime_change:"%"}),series:this.series};return e}get series(){return this.$store.getters["charts/getBaseSeries"]({name:"load",encode:{x:"date",y:"cputime_change"}})}onChartData(e){e&&e.length>0&&(this.ready=!0)}};(0,l.gn)([(0,c.RL)("chartData",{immediate:!0})],rp.prototype,"onChartData",null),rp=(0,l.gn)([(0,c.wA)({})],rp);var ap=rp,ip=ap,np=(0,C.Z)(ip,tp,sp,!1,null,null,null),op=np.exports;S()(np,{VCol:K.Z});var lp=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.ready?s("v-col",{staticClass:"chart-wrapper",attrs:{cols:"4"}},[s("app-chart",{attrs:{data:e.chartData,options:e.options,height:"120px"}}),s("div",{staticClass:"chart-label-wrapper"},[s("div",{staticClass:"chart-label"},[s("span",[e._v(e._s(e.$t("app.system_info.label.moonraker_load")))]),e.chartData.length?s("span",[e._v(e._s(e.chartData[e.chartData.length-1].load)+"%")]):e._e()])])],1):e._e()},cp=[];let dp=class extends c.w3{constructor(){super(...arguments),this.ready=!1}get chartData(){return this.$store.state.charts.moonraker||[]}get options(){const e={...this.$store.getters["charts/getBaseChartOptions"]({load:"%"}),series:this.series};return e}get series(){return this.$store.getters["charts/getBaseSeries"]({name:"load",encode:{x:"date",y:"load"}})}onChartData(e){e&&e.length>0&&(this.ready=!0)}};(0,l.gn)([(0,c.RL)("chartData",{immediate:!0})],dp.prototype,"onChartData",null),dp=(0,l.gn)([(0,c.wA)({})],dp);var pp=dp,up=pp,mp=(0,C.Z)(up,lp,cp,!1,null,null,null),hp=mp.exports;S()(mp,{VCol:K.Z});var gp=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.ready?s("v-col",{staticClass:"chart-wrapper",attrs:{cols:"4"}},[s("app-chart",{attrs:{data:e.chartData||[],options:e.options,height:"120px"}}),s("div",{staticClass:"chart-label-wrapper"},[s("div",{staticClass:"chart-label"},[s("span",[e._v(e._s(e.$t("app.system_info.label.mcu_load",{mcu:e.mcu.toUpperCase()})))]),e.chartData.length?s("span",[e._v(e._s(e.chartData[e.chartData.length-1].load)+"%")]):e._e()]),s("div",{staticClass:"chart-label"},[s("span",[e._v(e._s(e.$t("app.system_info.label.mcu_awake",{mcu:e.mcu.toUpperCase()})))]),e.chartData.length?s("span",[e._v(e._s(e.chartData[e.chartData.length-1].awake)+"s")]):e._e()])])],1):e._e()},vp=[];let fp=class extends c.w3{constructor(){super(...arguments),this.ready=!1}get chartData(){return this.$store.state.charts[this.mcu]||[]}get options(){const e={...this.$store.getters["charts/getBaseChartOptions"]({load:"%",awake:"s",bw:"b"}),series:this.series};return e.yAxis.max=e=>e.max<=10?15:e.max<=20?25:e.max<=30?35:e.max<=40?45:e.max<=50||e.max<=50?55:e.max<=60?65:e.max<=70?75:e.max<=80?85:e.max,e}get series(){const e=this.$store.getters["charts/getBaseSeries"]({name:"load",encode:{x:"date",y:"load"}}),t=this.$store.getters["charts/getBaseSeries"]({name:"awake time",encode:{x:"date",y:"awake"}});return[e,t]}onChartData(e){e&&e.length>0&&(this.ready=!0)}};(0,l.gn)([(0,c.fI)({type:String,required:!0})],fp.prototype,"mcu",void 0),(0,l.gn)([(0,c.RL)("chartData",{immediate:!0})],fp.prototype,"onChartData",null),fp=(0,l.gn)([(0,c.wA)({})],fp);var _p=fp,yp=_p,bp=(0,C.Z)(yp,gp,vp,!1,null,null,null),xp=bp.exports;S()(bp,{VCol:K.Z});let $p=class extends c.w3{get procStats(){return this.$store.getters["server/getProcessStats"]}get systemStats(){return this.$store.getters["printer/getSystemStats"]}get mcus(){return this.$store.getters["printer/getMcus"]}};$p=(0,l.gn)([(0,c.wA)({components:{SystemLoadChart:qd,SystemMemoryChart:ep,KlipperLoadChart:op,MoonrakerLoadChart:hp,McuLoadChart:xp}})],$p);var wp=$p,Cp=wp,kp=(0,C.Z)(Cp,Od,Bd,!1,null,null,null),Sp=kp.exports;S()(kp,{VCardText:Y.ZB,VRow:Q.Z});var Pp=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.file_system.label.diskinfo"),icon:"$harddisk"}},[s("v-card-text",[s("v-layout",{attrs:{"justify-space-between":""}},[s("div",{},[e._v(" "+e._s(e.$t("app.file_system.label.disk_usage"))+" ")])]),s("v-progress-linear",{staticClass:"my-1",attrs:{size:90,height:10,value:e.fileSystemUsedPercent,color:"primary"}}),s("v-layout",{attrs:{"justify-space-between":""}},[s("div",{},[s("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.getReadableFileSizeString(e.fileSystemUsage.used))+" ")]),s("span",{staticClass:"secondary--text"},[e._v(e._s(e.$t("app.general.label.used")))])]),s("div",{},[s("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.getReadableFileSizeString(e.fileSystemUsage.free))+" ")]),s("span",{staticClass:"secondary--text"},[e._v(e._s(e.$t("app.general.label.free")))])])])],1),s("v-simple-table",{attrs:{dense:""}},[s("tbody",[s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.manufacturer")))]),s("td",[e._v(e._s(e.sdInfo.manufacturer))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.manufactured")))]),s("td",[e._v(e._s(e.sdInfo.manufacturer_date))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.product_name")))]),s("td",[e._v(e._s(e.sdInfo.product_name)+" "+e._s(e.sdInfo.product_revision))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.capacity")))]),s("td",[e._v(e._s(e.sdInfo.capacity))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.serial_number")))]),s("td",[e._v(e._s(e.sdInfo.serial_number))])])])])],1)},Ep=[];let Zp=class extends c.w3{get sdInfo(){const e=this.$store.getters["server/getSystemInfo"];return(null===e||void 0===e?void 0:e.sd_info)||{}}get fileSystemUsedPercent(){const e=this.fileSystemUsage.total,t=this.fileSystemUsage.used;return Math.floor(t/e*100).toFixed()}get fileSystemUsage(){return this.$store.getters["files/getUsage"]}};Zp=(0,l.gn)([(0,c.wA)({components:{JobHistory:Dc}})],Zp);var Rp=Zp,Tp=Rp,Lp=(0,C.Z)(Tp,Pp,Ep,!1,null,null,null),Dp=Lp.exports;S()(Lp,{VCardText:Y.ZB,VLayout:H.Z,VProgressLinear:J.Z,VSimpleTable:Ka.Z});let Ap=class extends((0,c.Wr)(d.Z)){get hasGraphData(){return void 0!==this.$store.state.charts.klipper||void 0!==this.$store.state.charts.moonraker||void 0!==this.$store.state.charts.memory}get breakpoint(){return this.$vuetify.breakpoint.mdAndDown?12:6}get supportsHistory(){return this.$store.getters["server/componentSupport"]("history")}};Ap=(0,l.gn)([(0,c.wA)({components:{FileSystem:sr,SystemControl:Cc["default"],SystemOverviewCard:Fd,SystemUsageCard:Sp,DiskUsageCard:Dp}})],Ap);var Ip=Ap,Vp=Ip,Mp=(0,C.Z)(Vp,Rd,Td,!1,null,null,null),Fp=Mp.exports;S()(Mp,{VCol:K.Z,VRow:Q.Z});var Op=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("system-overview-card",{staticClass:"mb-2 mb-sm-4"}),s("disk-usage-card")],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("system-usage-card",{staticClass:"mb-2 mb-sm-4"}),e._l(e.mcus,(function(e){return[s("mcu-card",{key:e.name,staticClass:"mb-2 mb-sm-4",attrs:{mcu:e}})]}))],2)],1)},Bp=[],Np=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:e.$t("app.system_info.label.mcu_information",{mcu:e.mcu.name}),icon:"$chip"},scopedSlots:e._u([{key:"menu",fn:function(){return[s("app-btn",{attrs:{color:"",fab:"","x-small":"",text:""},on:{click:e.showMcuConstantsDialog}},[s("v-icon",[e._v("$viewHeadline")])],1)]},proxy:!0}])},[s("v-simple-table",{attrs:{dense:""}},[s("tbody",[s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.micro_controller")))]),s("td",[e._v(e._s(e.mcu.mcu_constants.MCU))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.frequency")))]),s("td",[e._v(e._s(e.$filters.getReadableFrequencyString(+e.mcu.mcu_constants.CLOCK_FREQ)))])]),s("tr",[s("th",[e._v(e._s(e.$t("app.system_info.label.version")))]),s("td",[e._v(e._s(e.mcu.mcu_version))])])])]),e.mcuConstantsDialogOpen?s("mcu-constants-dialog",{attrs:{mcu:e.mcu},model:{value:e.mcuConstantsDialogOpen,callback:function(t){e.mcuConstantsDialogOpen=t},expression:"mcuConstantsDialogOpen"}}):e._e()],1)},Up=[],Hp=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":500,scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.system_info.label.mcu_information",{mcu:e.mcu.name})))])]),s("v-divider"),s("v-card-text",[s("v-simple-table",{attrs:{dense:""}},[s("tbody",[e._l(e.constants,(function(t){return[s("tr",{key:t[0]},[s("th",[e._v(e._s(t[0]))]),s("td",[e._v(e._s(t[1]))])])]}))],2)])],1)],1)],1)},jp=[];let Wp=class extends c.w3{get constants(){return Object.entries(this.mcu.mcu_constants)}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Wp.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Object,required:!0})],Wp.prototype,"mcu",void 0),Wp=(0,l.gn)([(0,c.wA)({})],Wp);var zp=Wp,qp=zp,Gp=(0,C.Z)(qp,Hp,jp,!1,null,null,null),Yp=Gp.exports;S()(Gp,{VCard:Vt.Z,VCardText:Y.ZB,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VSimpleTable:Ka.Z});let Kp=class extends c.w3{constructor(){super(...arguments),this.mcuConstantsDialogOpen=!1}showMcuConstantsDialog(){this.mcuConstantsDialogOpen=!0}};(0,l.gn)([(0,c.fI)({type:Object,required:!0})],Kp.prototype,"mcu",void 0),Kp=(0,l.gn)([(0,c.wA)({components:{McuConstantsDialog:Yp}})],Kp);var Xp=Kp,Jp=Xp,Qp=(0,C.Z)(Jp,Np,Up,!1,null,null,null),eu=Qp.exports;S()(Qp,{VIcon:P.Z,VSimpleTable:Ka.Z});let tu=class extends((0,c.Wr)(d.Z)){get breakpoint(){return this.$vuetify.breakpoint.mdAndDown?12:6}get mcus(){return this.$store.getters["printer/getMcus"]}};tu=(0,l.gn)([(0,c.wA)({components:{FileSystem:sr,SystemControl:Cc["default"],SystemOverviewCard:Fd,McuCard:eu,SystemUsageCard:Sp,DiskUsageCard:Dp}})],tu);var su=tu,ru=su,au=(0,C.Z)(ru,Op,Bp,!1,null,null,null),iu=au.exports;S()(au,{VCol:K.Z,VRow:Q.Z});var nu=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown,justify:"center"}},[s("v-col",{attrs:{cols:"12",lg:"8"}},[e.authenticated&&e.socketConnected?s("router-view"):e._e(),1===e.$route.matched.length?s("div",[s("general-settings"),s("console-settings"),s("theme-settings"),s("file-editor-settings"),e.supportsAuth?s("auth-settings"):e._e(),s("macro-categories"),s("cameras"),s("toolhead-settings"),s("preset-settings"),s("gcode-preview-settings"),e.supportsTimelapse?s("timelapse-settings"):e._e(),e.supportsVersions?s("version-settings"):e._e()],1):e._e()],1)],1)},ou=[],lu=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"macros"}},[e._v(" "+e._s(e.$t("app.setting.title.macros"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",[s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleAddCategoryDialog}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_category"))+" ")],1)],1),s("v-divider"),e._l(e.categories,(function(t){return[s("app-setting",{key:"category-"+t.name,attrs:{"r-cols":3},on:{click:function(s){return e.handleCategoryClick(t)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(t.name)+" "),s("v-chip",{staticClass:"mr-4",attrs:{small:""}},[e._v(" "+e._s(t.visible)+" / "+e._s(t.count)+" ")])]},proxy:!0}],null,!0)},[s("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(s){return s.stopPropagation(),e.handleEditCategoryDialog(t)}}},[s("v-icon",{attrs:{color:""}},[e._v(" $edit ")])],1),s("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(s){return s.stopPropagation(),e.handleRemoveCategory(t)}}},[s("v-icon",{attrs:{color:""}},[e._v(" $close ")])],1)],1),s("v-divider",{key:"divider-"+t.name})]})),e.uncategorizedMacros.count>0?s("app-setting",{key:"category-uncategorized",attrs:{"r-cols":3},on:{click:function(t){return e.handleCategoryClick()}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$t("app.general.label.uncategorized"))+" "),s("v-chip",{attrs:{small:""}},[e._v(" "+e._s(e.uncategorizedMacros.visible)+" / "+e._s(e.uncategorizedMacros.count)+" ")])]},proxy:!0}],null,!1,491862901)},[s("v-icon",[e._v("$chevronRight")])],1):e._e(),e.categoryDialogState.open?s("macro-category-dialog",{attrs:{title:e.categoryDialogState.title,label:e.categoryDialogState.label,name:e.categoryDialogState.name,rules:e.categoryDialogState.rules},on:{save:e.categoryDialogState.handler},model:{value:e.categoryDialogState.open,callback:function(t){e.$set(e.categoryDialogState,"open",t)},expression:"categoryDialogState.open"}}):e._e()],2)],1)},cu=[],du=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":350},on:{input:function(t){return e.$emit("input",t)}}},[s("v-form",{ref:"addInstanceForm",staticClass:"mt-3",on:{submit:function(t){return t.preventDefault(),e.handleSave.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(e.title))])]),s("v-divider"),s("v-card-text",[s("v-text-field",{attrs:{autofocus:"",outlined:"",label:e.label,rules:e.rules,"hide-details":"auto",required:""},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1),s("v-card-actions",[s("v-spacer"),s("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),s("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.save"))+" ")])],1)],1)],1)],1)},pu=[];let uu=class extends c.w3{constructor(){super(...arguments),this.newName="",this.valid=!0}mounted(){this.newName=this.name}get categories(){return this.$store.getters["macros/getCategories"]}handleSave(){this.valid&&(this.$emit("save",this.newName),this.$emit("input",!1))}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],uu.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],uu.prototype,"title",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],uu.prototype,"label",void 0),(0,l.gn)([(0,c.fI)({type:Array,required:!1})],uu.prototype,"rules",void 0),(0,l.gn)([(0,c.fI)({type:String,required:!0})],uu.prototype,"name",void 0),uu=(0,l.gn)([(0,c.wA)({})],uu);var mu=uu,hu=mu,gu=(0,C.Z)(hu,du,pu,!1,null,null,null),vu=gu.exports;S()(gu,{VCard:Vt.Z,VCardActions:Y.h7,VCardText:Y.ZB,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VForm:fs.Z,VSpacer:et.Z,VTextField:tt.Z});let fu=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.categoryDialogState={open:!1,title:"add",label:"",category:null,name:"",rules:[],handler:this.handleAddCategory}}get categories(){return this.$store.getters["macros/getCategories"]}get uncategorizedMacros(){const e=this.$store.getters["macros/getMacrosByCategory"](),t=e.length,s=e.filter((e=>e.visible)).length;return{count:t,visible:s}}handleAddCategoryDialog(){this.categoryDialogState={open:!0,title:this.$t("app.general.label.add_category"),label:this.$t("app.general.label.name"),category:null,name:"",rules:[e=>!!e||this.$t("app.general.simple_form.error.required"),e=>this.categories.findIndex((t=>t.name.toLowerCase()===e.toLowerCase()))<0||this.$t("app.general.simple_form.error.exists")],handler:this.handleAddCategory}}handleEditCategoryDialog(e){this.categoryDialogState={open:!0,title:this.$t("app.general.label.edit_category"),label:this.$t("app.general.label.name"),category:e,name:e.name,rules:[e=>!!e||this.$t("app.general.simple_form.error.required"),e=>this.categories.findIndex((t=>t.name.toLowerCase()===e.toLowerCase()))<0||this.$t("app.general.simple_form.error.exists")],handler:this.handleEditCategory}}handleRemoveCategory(e){this.$store.dispatch("macros/removeCategory",e)}handleAddCategory(e){this.$store.dispatch("macros/addCategory",e)}handleEditCategory(e){const t={...this.categoryDialogState.category,name:e};this.$store.dispatch("macros/editCategory",t)}handleCategoryClick(e){const t=e?e.id:0;this.$router.push(`/settings/macros/${t}`)}};fu=(0,l.gn)([(0,c.wA)({components:{MacroCategoryDialog:vu}})],fu);var _u=fu,yu=_u,bu=s(55533),xu=(0,C.Z)(yu,lu,cu,!1,null,null,null),$u=xu.exports;S()(xu,{VCard:Vt.Z,VChip:Ai.Z,VDivider:vs.Z,VIcon:P.Z,VSubheader:bu.Z});var wu=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"general"}},[e._v(" "+e._s(e.$t("app.setting.title.general"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",{attrs:{title:e.$t("app.setting.label.printer_name")}},[s("v-text-field",{ref:"instanceName",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:e.instanceNameRules,value:e.instanceName,"default-value":e.$globals.APP_NAME},on:{change:e.setInstanceName}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.language")}},[s("v-select",{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.supportedLocales,value:e.locale,"item-text":"name","item-value":"code"},on:{change:e.setLocale}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.date_time_format")}},[s("v-select",{attrs:{filled:"",dense:"","hide-details":"auto",items:[{text:e.$filters.formatDateTime(e.current_time,"MMM. DD, YYYY"),value:"MMM. DD,"},{text:e.$filters.formatDateTime(e.current_time,"DD MMM. YYYY"),value:"DD MMM."}],"item-value":"value","item-text":"text"},model:{value:e.dateformat,callback:function(t){e.dateformat=t},expression:"dateformat"}}),e._v("   "),s("v-select",{attrs:{filled:"",dense:"","hide-details":"auto",items:[{text:e.$filters.formatDateTime(e.current_time,"h:mm a"),value:"hh:mm a"},{text:e.$filters.formatDateTime(e.current_time,"HH:mm"),value:"HH:mm"}],"item-value":"value","item-text":"text"},model:{value:e.timeformat,callback:function(t){e.timeformat=t},expression:"timeformat"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.confirm_on_estop")}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.confirmOnEstop,callback:function(t){e.confirmOnEstop=t},expression:"confirmOnEstop"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.confirm_on_power_device_change")}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.confirmOnPowerDeviceChange,callback:function(t){e.confirmOnPowerDeviceChange=t},expression:"confirmOnPowerDeviceChange"}})],1)],1)],1)},Cu=[];let ku=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.instanceNameRules=[e=>!!e||"Required"]}get estimateTypes(){return[{name:this.$t("app.setting.timer_options.duration"),value:"totals"},{name:this.$t("app.setting.timer_options.slicer"),value:"slicer"},{name:this.$t("app.setting.timer_options.file"),value:"file"},{name:this.$t("app.setting.timer_options.filament"),value:"filament"}]}get instanceName(){return this.$store.state.config.uiSettings.general.instanceName}setInstanceName(e){this.instanceNameElement.valid&&this.$store.dispatch("config/updateInstance",e)}get locale(){return this.$store.state.config.uiSettings.general.locale}get supportedLocales(){return[{name:"Browser default",code:"default"},...this.$store.state.config.hostConfig.locales]}setLocale(e){this.$store.dispatch("config/onLocaleChange",e)}get dateformat(){return this.$store.state.config.uiSettings.general.dateformat}set dateformat(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.dateformat",value:e,server:!0})}get timeformat(){return this.$store.state.config.uiSettings.general.timeformat}set timeformat(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.timeformat",value:e,server:!0})}get confirmOnEstop(){return this.$store.state.config.uiSettings.general.confirmOnEstop}set confirmOnEstop(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.confirmOnEstop",value:e,server:!0})}get confirmOnPowerDeviceChange(){return this.$store.state.config.uiSettings.general.confirmOnPowerDeviceChange}set confirmOnPowerDeviceChange(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.confirmOnPowerDeviceChange",value:e,server:!0})}get current_time(){return Math.floor(Date.now()/1e3)}};(0,l.gn)([(0,c.Rl)("instanceName")],ku.prototype,"instanceNameElement",void 0),ku=(0,l.gn)([(0,c.wA)({components:{}})],ku);var Su=ku,Pu=Su,Eu=(0,C.Z)(Pu,wu,Cu,!1,null,null,null),Zu=Eu.exports;S()(Eu,{VCard:Vt.Z,VDivider:vs.Z,VSelect:Ar.Z,VSubheader:bu.Z,VSwitch:hc.Z,VTextField:tt.Z});var Ru=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"presets"}},[e._v(" "+e._s(e.$t("app.setting.title.thermal_presets"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",[s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.openAddDialog}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_thermal_preset"))+" ")],1)],1),e.presets.length>0?s("v-divider"):e._e(),e._l(e.presets,(function(t,r){return[s("app-setting",{key:t.index,attrs:{title:t.name,"r-cols":2},on:{click:function(s){return e.openEditDialog(t)}},scopedSlots:e._u([{key:"sub-title",fn:function(){return e._l(t.values,(function(t,r){return s("span",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"value.active"}],key:r,staticClass:"mr-2"},[e._v(" "+e._s(r)+": "+e._s(t.value)),s("small",[e._v("°C")])])}))},proxy:!0}],null,!0)},[s("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(s){return s.stopPropagation(),e.handleRemovePreset(t)}}},[s("v-icon",{attrs:{color:""}},[e._v(" $close ")])],1)],1),r<e.presets.length-1&&e.presets.length>0?s("v-divider",{key:t.id}):e._e()]})),e.dialogState.preset?s("preset-dialog",{attrs:{preset:e.dialogState.preset},on:{save:e.handleSavePreset},model:{value:e.dialogState.active,callback:function(t){e.$set(e.dialogState,"active",t)},expression:"dialogState.active"}}):e._e()],2)],1)},Tu=[],Lu=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":500,persistent:""}},[s("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSave(e.preset)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(-1!=e.preset.id?e.$t("app.general.label.edit_preset"):e.$t("app.general.label.add_preset")))])]),s("app-setting",{attrs:{title:e.$t("app.setting.label.thermal_preset_name")}},[s("v-text-field",{attrs:{rules:[e.rules.required],"hide-details":"auto",filled:"",dense:""},model:{value:e.preset.name,callback:function(t){e.$set(e.preset,"name",t)},expression:"preset.name"}})],1),s("v-divider"),e._l(e.heaters,(function(t,r){return[s("app-setting",{key:r+"heater",attrs:{title:t.name}},[s("v-checkbox",{staticClass:"ma-0",attrs:{"hide-details":""},model:{value:e.preset.values[t.name].active,callback:function(s){e.$set(e.preset.values[t.name],"active",s)},expression:"preset.values[item.name].active"}}),s("v-text-field",{staticClass:"mb-2",attrs:{rules:[e.rules.numRequired,e.rules.numMin],"hide-details":"auto",type:"number",suffix:"°C",outlined:"",dense:""},model:{value:e.preset.values[t.name].value,callback:function(s){e.$set(e.preset.values[t.name],"value",e._n(s))},expression:"preset.values[item.name].value"}})],1),s("v-divider",{key:r+"heaterd"})]})),e._l(e.fans,(function(t,r){return[s("app-setting",{key:r+"fan",attrs:{title:t.name}},[s("v-checkbox",{staticClass:"ma-0",attrs:{"hide-details":""},model:{value:e.preset.values[t.name].active,callback:function(s){e.$set(e.preset.values[t.name],"active",s)},expression:"preset.values[item.name].active"}}),s("v-text-field",{staticClass:"mb-2",attrs:{rules:[e.rules.numRequired,e.rules.numMin],"hide-details":"auto",type:"number",suffix:"°C",outlined:"",dense:""},model:{value:e.preset.values[t.name].value,callback:function(s){e.$set(e.preset.values[t.name],"value",e._n(s))},expression:"preset.values[item.name].value"}})],1),s("v-divider",{key:r+"fand"})]})),s("app-setting",{attrs:{title:e.$t("app.setting.label.thermal_preset_gcode")}},[s("v-textarea",{staticClass:"mb-2",attrs:{rows:"2","hide-details":"auto",outlined:""},model:{value:e.preset.gcode,callback:function(t){e.$set(e.preset,"gcode",t)},expression:"preset.gcode"}})],1),s("v-card-actions",[s("v-spacer"),s("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),s("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(-1!==e.preset.id?e.$t("app.general.btn.save"):e.$t("app.general.btn.add"))+" ")])],1)],2)],1)],1)},Du=[];let Au=class extends c.w3{constructor(){super(...arguments),this.valid=!1,this.rules={required:e=>!!e||this.$t("app.general.simple_form.error.required"),numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),numMin:e=>e>=0||this.$t("app.general.simple_form.error.min",{min:1})}}get heaters(){return this.$store.getters["printer/getHeaters"]}get fans(){return this.$store.getters["printer/getOutputs"](["temperature_fan"])}handleSave(){this.valid&&(this.$emit("save",this.preset),this.$emit("input",!1))}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],Au.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Object,required:!0})],Au.prototype,"preset",void 0),Au=(0,l.gn)([(0,c.wA)({})],Au);var Iu=Au,Vu=Iu,Mu=s(34350),Fu=(0,C.Z)(Vu,Lu,Du,!1,null,null,null),Ou=Fu.exports;S()(Fu,{VCard:Vt.Z,VCardActions:Y.h7,VCardTitle:Y.EB,VCheckbox:ze.Z,VDialog:ls.Z,VDivider:vs.Z,VForm:fs.Z,VSpacer:et.Z,VTextField:tt.Z,VTextarea:Mu.Z});let Bu=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.dialogState={active:!1,preset:null}}get heaters(){return this.$store.getters["printer/getHeaters"]}get fans(){return this.$store.getters["printer/getOutputs"](["temperature_fan"])}get presets(){return this.$store.getters["config/getTempPresets"]}get form(){return this.$refs.tempPresetsform}openEditDialog(e){this.dialogState={active:!0,preset:e}}openAddDialog(){const e={id:-1,name:"",values:{}};for(const t of this.heaters)e.values[t.name]={value:0,type:"heater",active:!0};for(const t of this.fans)e.values[t.name]={value:0,type:"fan",active:!0};this.dialogState={active:!0,preset:e}}handleSavePreset(e){this.$store.dispatch("config/updatePreset",e)}handleRemovePreset(e){this.$store.dispatch("config/removePreset",e)}};Bu=(0,l.gn)([(0,c.wA)({components:{PresetDialog:Ou}})],Bu);var Nu=Bu,Uu=Nu,Hu=(0,C.Z)(Uu,Ru,Tu,!1,null,"652686aa",null),ju=Hu.exports;S()(Hu,{VCard:Vt.Z,VDivider:vs.Z,VIcon:P.Z,VSubheader:bu.Z});var Wu=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"camera"}},[e._v(" "+e._s(e.$tc("app.setting.title.camera",2))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",[s("app-btn",{attrs:{disabled:e.cameras.length>=3,outlined:"",small:"",color:"primary"},on:{click:e.handleAddDialog}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_camera"))+" ")],1)],1),s("v-divider"),e._l(e.cameras,(function(t,r){return[s("app-setting",{key:t.id,attrs:{"r-cols":2},on:{click:function(s){return e.handleEditDialog(t)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(t.name)+" "),t.enabled?e._e():s("v-icon",{attrs:{right:"",small:"",color:"warning"}},[e._v(" $warning ")])]},proxy:!0}],null,!0)},[s("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(s){return s.stopPropagation(),e.handleRemoveCamera(t)}}},[s("v-icon",{attrs:{color:""}},[e._v(" $close ")])],1)],1),r<e.cameras.length-1&&e.cameras.length>0?s("v-divider",{key:t.id+"_divider"}):e._e()]})),e.dialogState.camera?s("camera-config-dialog",{attrs:{camera:e.dialogState.camera},on:{save:e.handleSaveCamera},model:{value:e.dialogState.active,callback:function(t){e.$set(e.dialogState,"active",t)},expression:"dialogState.active"}}):e._e()],2)],1)},zu=[],qu=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":500},on:{input:function(t){return e.$emit("input",t)}}},[s("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSave(e.camera)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(-1!=e.camera.id?e.$t("app.general.label.edit_camera"):e.$t("app.general.label.add_camera")))])]),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.enable")}},[s("v-switch",{staticClass:"mt-0",attrs:{"hide-details":"auto"},model:{value:e.camera.enabled,callback:function(t){e.$set(e.camera,"enabled",t)},expression:"camera.enabled"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.general.label.name")}},[s("v-text-field",{staticClass:"mt-0",attrs:{filled:"",dense:"","hide-details":"auto",rules:[e.rules.required]},model:{value:e.camera.name,callback:function(t){e.$set(e.camera,"name",t)},expression:"camera.name"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.camera_flip_x")}},[s("v-switch",{attrs:{"hide-details":""},model:{value:e.camera.flipX,callback:function(t){e.$set(e.camera,"flipX",t)},expression:"camera.flipX"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.camera_flip_y")}},[s("v-switch",{staticClass:"mb-4",attrs:{"hide-details":""},model:{value:e.camera.flipY,callback:function(t){e.$set(e.camera,"flipY",t)},expression:"camera.flipY"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.camera_rotate_by")}},[s("v-select",{attrs:{filled:"",dense:"","hide-details":"auto","initial-value":"false",items:[{text:e.$t("app.setting.camera_rotate_options.none"),value:""},{text:e.$t("app.setting.camera_rotate_options.90"),value:"90"},{text:e.$t("app.setting.camera_rotate_options.180"),value:"180"},{text:e.$t("app.setting.camera_rotate_options.270"),value:"270"}],"item-value":"value","item-text":"text"},model:{value:e.camera.rotate,callback:function(t){e.$set(e.camera,"rotate",t)},expression:"camera.rotate"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.camera_stream_type")}},[s("v-select",{attrs:{filled:"",dense:"","hide-details":"auto",items:[{text:e.$t("app.setting.camera_type_options.mjpegadaptive"),value:"mjpgadaptive"},{text:e.$t("app.setting.camera_type_options.mjpegstream"),value:"mjpgstream"},{text:e.$t("app.setting.camera_type_options.video"),value:"ipstream"},{text:e.$t("app.setting.camera_type_options.iframe"),value:"iframe"}],"item-value":"value","item-text":"text"},model:{value:e.camera.type,callback:function(t){e.$set(e.camera,"type",t)},expression:"camera.type"}})],1),s("v-divider"),"mjpgadaptive"===e.camera.type?s("app-setting",{attrs:{title:e.$t("app.setting.label.fps_target")}},[s("v-text-field",{staticClass:"mt-5",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:[e.rules.required]},model:{value:e.camera.fpstarget,callback:function(t){e.$set(e.camera,"fpstarget",e._n(t))},expression:"camera.fpstarget"}})],1):e._e(),"mjpgadaptive"===e.camera.type?s("v-divider"):e._e(),"mjpgadaptive"===e.camera.type?s("app-setting",{attrs:{title:e.$t("app.setting.label.fps_idle_target")}},[s("v-text-field",{staticClass:"mt-5",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto"},model:{value:e.camera.fpsidletarget,callback:function(t){e.$set(e.camera,"fpsidletarget",e._n(t))},expression:"camera.fpsidletarget"}})],1):e._e(),"mjpgadaptive"===e.camera.type?s("v-divider"):e._e(),s("app-setting",{attrs:{title:e.$t("app.setting.label.camera_url")}},[s("v-text-field",{staticClass:"mt-5",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:[e.rules.required]},model:{value:e.camera.url,callback:function(t){e.$set(e.camera,"url",t)},expression:"camera.url"}})],1),s("v-divider"),"iframe"===e.camera.type?s("app-setting",{attrs:{title:e.$t("app.setting.label.height")}},[s("v-text-field",{staticClass:"mt-5",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:[e.rules.required]},model:{value:e.camera.height,callback:function(t){e.$set(e.camera,"height",e._n(t))},expression:"camera.height"}})],1):e._e(),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),s("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(-1!==e.camera.id?e.$t("app.general.btn.save"):e.$t("app.general.btn.add"))+" ")])],1)],1)],1)],1)},Gu=[];let Yu=class extends c.w3{constructor(){super(...arguments),this.cameraUrlRules=[e=>!!e||"Required"],this.valid=!1,this.rules={required:e=>void 0!==e&&""!==e||this.$t("app.general.simple_form.error.required"),minFps:e=>e>=1||this.$t("app.general.simple_form.error.min",{min:1}),maxFps:e=>e<=60||this.$t("app.general.simple_form.error.max",{max:60})}}handleSave(){this.valid&&(this.$emit("save",this.camera),this.$emit("input",!1))}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],Yu.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Object,required:!0})],Yu.prototype,"camera",void 0),Yu=(0,l.gn)([(0,c.wA)({})],Yu);var Ku=Yu,Xu=Ku,Ju=(0,C.Z)(Xu,qu,Gu,!1,null,null,null),Qu=Ju.exports;S()(Ju,{VCard:Vt.Z,VCardActions:Y.h7,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VForm:fs.Z,VSelect:Ar.Z,VSpacer:et.Z,VSwitch:hc.Z,VTextField:tt.Z});let em=class extends c.w3{constructor(){super(...arguments),this.dialogState={active:!1,camera:null}}get cameras(){return this.$store.getters["cameras/getCameras"]}handleEditDialog(e){this.dialogState={active:!0,camera:{...e}}}handleAddDialog(){const e={id:-1,enabled:!0,flipX:!1,flipY:!1,name:"",type:"mjpgadaptive",fpstarget:15,fpsidletarget:5,url:Ce.OH.DEFAULTS.CAMERA_URL};this.dialogState={active:!0,camera:e}}handleSaveCamera(e){this.$store.dispatch("cameras/updateCamera",e)}handleRemoveCamera(e){this.$store.dispatch("cameras/removeCamera",e)}};em=(0,l.gn)([(0,c.wA)({components:{CameraConfigDialog:Qu}})],em);var tm=em,sm=tm,rm=(0,C.Z)(sm,Wu,zu,!1,null,null,null),am=rm.exports;S()(rm,{VCard:Vt.Z,VDivider:vs.Z,VIcon:P.Z,VSubheader:bu.Z});var im=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"toolhead"}},[e._v(" "+e._s(e.$t("app.setting.title.tool"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",{attrs:{title:e.$t("app.setting.label.invert_x_control")}},[s("v-switch",{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.invertX,callback:function(t){e.invertX=t},expression:"invertX"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.invert_y_control")}},[s("v-switch",{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.invertY,callback:function(t){e.invertY=t},expression:"invertY"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.invert_z_control")}},[s("v-switch",{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.invertZ,callback:function(t){e.invertZ=t},expression:"invertZ"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.gcode_coords"),"sub-title":e.$t("app.setting.tooltip.gcode_coords"),"r-cols":2}},[s("v-switch",{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.useGcodeCoords,callback:function(t){e.useGcodeCoords=t},expression:"useGcodeCoords"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.default_extrude_length")}},[s("v-text-field",{attrs:{value:e.defaultExtrudeLength,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"",suffix:"mm"},on:{change:e.setDefaultExtrudeLength}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.default_extrude_speed")}},[s("v-text-field",{attrs:{value:e.defaultExtrudeSpeed,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"",suffix:"mm/s"},on:{change:e.setDefaultExtrudeSpeed}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.default_toolhead_move_length")}},[s("v-select",{attrs:{value:e.defaultToolheadMoveLength,items:e.toolheadMoveDistances,rules:[e.rules.numRequired],filled:"",dense:"","single-line":"","hide-details":"",suffix:"mm"},on:{change:e.setDefaultToolheadMoveLength}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.default_toolhead_xy_speed")}},[s("v-text-field",{attrs:{value:e.defaultToolheadXYSpeed,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"",suffix:"mm/s"},on:{change:e.setDefaultToolheadYXSpeed}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.default_toolhead_z_speed")}},[s("v-text-field",{attrs:{value:e.defaultToolheadZSpeed,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"",suffix:"mm/s"},on:{change:e.setDefaultToolheadZSpeed}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.toolhead_move_distances")}},[s("v-combobox",{ref:"toolheadMoveDistances",attrs:{filled:"",dense:"","hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","append-icon":"","deletable-chips":"",rules:[e.rules.arrayNumMin(1),e.rules.arrayNumMax(6),e.rules.arrayOnlyNumbers]},model:{value:e.toolheadMoveDistances,callback:function(t){e.toolheadMoveDistances=t},expression:"toolheadMoveDistances"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.z_adjust_values")}},[s("v-combobox",{ref:"zAdjustValues",attrs:{filled:"",dense:"","hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","append-icon":"","deletable-chips":"",rules:[e.rules.arrayNumMin(1),e.rules.arrayNumMax(4),e.rules.arrayOnlyNumbers]},model:{value:e.zAdjustValues,callback:function(t){e.zAdjustValues=t},expression:"zAdjustValues"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.reset")}},[s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")])],1)],1)],1)},nm=[],om=s(85947);let lm=class extends c.w3{constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),numMin:e=>e>=1||this.$t("app.general.simple_form.error.min",{min:1}),arrayNumMin:e=>t=>t.length>=e||this.$t("app.general.simple_form.error.min",{min:e}),arrayNumMax:e=>t=>t.length<=e||this.$t("app.general.simple_form.error.max",{max:e}),arrayOnlyNumbers:e=>!e.some(isNaN)||this.$t("app.general.simple_form.error.arrayofnums")}}get defaultExtrudeSpeed(){return this.$store.state.config.uiSettings.general.defaultExtrudeSpeed}setDefaultExtrudeSpeed(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.defaultExtrudeSpeed",value:+e,server:!0})}get defaultExtrudeLength(){return this.$store.state.config.uiSettings.general.defaultExtrudeLength}setDefaultExtrudeLength(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.defaultExtrudeLength",value:+e,server:!0})}get defaultToolheadMoveLength(){return this.$store.state.config.uiSettings.general.defaultToolheadMoveLength}setDefaultToolheadMoveLength(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.defaultToolheadMoveLength",value:+e,server:!0})}get defaultToolheadXYSpeed(){return this.$store.state.config.uiSettings.general.defaultToolheadXYSpeed}setDefaultToolheadYXSpeed(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.defaultToolheadXYSpeed",value:+e,server:!0})}get defaultToolheadZSpeed(){return this.$store.state.config.uiSettings.general.defaultToolheadZSpeed}setDefaultToolheadZSpeed(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.defaultToolheadZSpeed",value:+e,server:!0})}get zAdjustValues(){return this.$store.state.config.uiSettings.general.zAdjustDistances}set zAdjustValues(e){this.zAdjustValuesElement.validate(!0)&&this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.zAdjustDistances",value:[...new Set(e.map(Number))].sort(((e,t)=>e-t)),server:!0})}get toolheadMoveDistances(){return this.$store.state.config.uiSettings.general.toolheadMoveDistances}set toolheadMoveDistances(e){this.toolheadMoveDistancesElement.validate(!0)&&this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.toolheadMoveDistances",value:[...new Set(e.map(Number))].sort(((e,t)=>e-t)),server:!0})}get useGcodeCoords(){return this.$store.state.config.uiSettings.general.useGcodeCoords}set useGcodeCoords(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.useGcodeCoords",value:e,server:!0})}get invertX(){return this.$store.state.config.uiSettings.general.axis.x.inverted}set invertX(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.axis.x.inverted",value:e,server:!0})}get invertY(){return this.$store.state.config.uiSettings.general.axis.y.inverted}set invertY(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.axis.y.inverted",value:e,server:!0})}get invertZ(){return this.$store.state.config.uiSettings.general.axis.z.inverted}set invertZ(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.axis.z.inverted",value:e,server:!0})}handleReset(){let e=(0,om.W2)().uiSettings.general;const t=this.$store.state.config.uiSettings.general;e={...e,instanceName:t.instanceName,chartVisible:t.chartVisible,hideTempWaits:t.hideTempWaits},this.$store.dispatch("config/saveByPath",{path:"uiSettings.general",value:e,server:!0})}};(0,l.gn)([(0,c.Rl)("toolheadMoveDistances")],lm.prototype,"toolheadMoveDistancesElement",void 0),(0,l.gn)([(0,c.Rl)("zAdjustValues")],lm.prototype,"zAdjustValuesElement",void 0),lm=(0,l.gn)([(0,c.wA)({components:{}})],lm);var cm=lm,dm=cm,pm=s(15359),um=(0,C.Z)(dm,im,nm,!1,null,null,null),mm=um.exports;S()(um,{VCard:Vt.Z,VCombobox:pm.Z,VDivider:vs.Z,VSelect:Ar.Z,VSubheader:bu.Z,VSwitch:hc.Z,VTextField:tt.Z});var hm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"theme"}},[e._v(" "+e._s(e.$t("app.setting.title.theme"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",{attrs:{title:e.$t("app.setting.label.theme_preset")}},[s("v-select",{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.themePresets,"item-value":"icon.src","item-text":"name","return-object":""},model:{value:e.themePreset,callback:function(t){e.themePreset=t},expression:"themePreset"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.primary_color")}},[s("app-btn",{staticClass:"mr-2",attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")]),e.theme?s("app-color-picker",{attrs:{primary:e.themeColor,title:e.$t("app.setting.btn.select_theme")},on:{change:e.handleChangeThemeColor}}):e._e()],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.dark_mode")}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.isDark,callback:function(t){e.isDark=t},expression:"isDark"}})],1)],1)],1)},gm=[],vm=s(29668);let fm=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.preset=null}get themePreset(){return this.$store.getters["config/getCurrentThemePreset"]}set themePreset(e){const t={isDark:e.isDark,logo:e.logo,currentTheme:{primary:e.color}};this.setTheme(e.color,e.isDark),this.$store.dispatch("config/saveByPath",{path:"uiSettings.theme",value:t,server:!0})}get theme(){return this.$store.getters["config/getTheme"]}get themeColor(){return this.theme.currentTheme.primary}handleChangeThemeColor(e){this.setTheme(e.color.hexString,this.isDark),this.$store.dispatch("config/saveByPath",{path:"uiSettings.theme.currentTheme.primary",value:e.color.hexString,server:!0})}get isDark(){return this.theme.isDark}set isDark(e){this.setTheme(this.themeColor,e),this.$store.dispatch("config/saveByPath",{path:"uiSettings.theme.isDark",value:e,server:!0})}get themePresets(){return this.$store.state.config.hostConfig.themePresets}setTheme(e,t){this.$vuetify.theme.dark=t,this.$vuetify.theme.currentTheme.primary=e}handleReset(){const e=this.$store.getters["config/getCurrentThemePreset"],t={isDark:e.isDark,logo:e.logo,currentTheme:{primary:e.color}};this.setTheme(e.color,!0),this.$store.dispatch("config/saveByPath",{path:"uiSettings.theme",value:t,server:!0})}};fm=(0,l.gn)([(0,c.wA)({components:{ThemePicker:vm["default"]}})],fm);var _m=fm,ym=_m,bm=(0,C.Z)(ym,hm,gm,!1,null,null,null),xm=bm.exports;S()(bm,{VCard:Vt.Z,VDivider:vs.Z,VSelect:Ar.Z,VSubheader:bu.Z,VSwitch:hc.Z});var $m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"versions"}},[e._v(" "+e._s(e.$t("app.version.title"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",[s("app-btn",{attrs:{outlined:"",small:"",color:"primary",disabled:e.isRefreshing},on:{click:function(t){return e.forceCheck()}}},[s("v-icon",{class:{"spin-alt":e.isRefreshing},attrs:{left:""}},[e._v(" $refresh ")]),e._v(" "+e._s(e.$t("app.version.btn.check_for_updates"))+" ")],1)],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.enable_notifications")}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.enableNotifications,callback:function(t){e.enableNotifications=t},expression:"enableNotifications"}})],1),s("v-divider"),e._l(e.components,(function(t,r){return[s("app-setting",{key:"component-"+t.key+"-"+t.name,attrs:{title:e.packageTitle(t)},scopedSlots:e._u([{key:"sub-title",fn:function(){return["system"!==t.key&&"full_version_string"in t?s("span",[e._v(" "+e._s(t.full_version_string)+" ")]):s("span",[e._v(" "+e._s(t.version)+" ")]),"remote_version"in t&&e.hasUpdate(t.key)?s("span",[e._v(" -> "+e._s(t.remote_version)+" ")]):e._e(),"system"===t.key&&t.package_count>0?s("span",[e._v(" "+e._s(t.package_count)+" packages ")]):e._e()]},proxy:!0}],null,!0)},[e.hasUpdate(t.key)&&!e.inError(t)?s("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var a=r.attrs,i=r.on;return[e.hasUpdate(t.key)&&!e.inError(t)?s("app-btn",e._g(e._b({attrs:{color:"primary",icon:"",small:""},on:{click:function(s){return e.handleInformationDialog(t)}}},"app-btn",a,!1),i),[s("v-icon",{attrs:{small:""}},[e._v(" $info ")])],1):e._e()]}}],null,!0)},["name"in t?s("span",[e._v(e._s(e.$t("app.version.tooltip.release_notes")))]):e._e(),"commits_behind"in t?s("span",[e._v(e._s(e.$t("app.version.tooltip.commit_history")))]):e._e(),"package_list"in t?s("span",[e._v(e._s(e.$t("app.version.tooltip.packages")))]):e._e()]):e._e(),s("version-status",{attrs:{"has-update":e.hasUpdate(t.key),disabled:e.isRefreshing||e.printerPrinting,loading:e.isRefreshing,dirty:"is_dirty"in t&&t.is_dirty,valid:!("is_valid"in t)||t.is_valid},on:{"on-update":function(s){return e.handleUpdateComponent(t.key)},"on-recover":function(s){return e.handleRecoverComponent(t)}}})],1),r<e.components.length-1&&e.components.length>0?s("v-divider",{key:"component-"+t.key+"-"+t.name+"-_divider"}):e._e()]}))],2),e.informationDialogState.open?s("version-commit-history-dialog",{attrs:{component:e.informationDialogState.component},model:{value:e.informationDialogState.open,callback:function(t){e.$set(e.informationDialogState,"open",t)},expression:"informationDialogState.open"}}):e._e()],1)},wm=[],Cm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.hasUpdate||e.dirty||!e.valid?e._e():s("v-chip",{attrs:{small:"",outlined:"",color:e.disabled?"grey darken-2":"success"}},[e._v(" "+e._s(e.$t("app.version.label.up_to_date"))+" ")]),e.dirty&&e.valid?s("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-chip",e._g(e._b({attrs:{small:"",outlined:"",disabled:e.disabled,color:e.disabled?"grey darken-2":"error"}},"v-chip",a,!1),r),[e._v(" "+e._s(e.$t("app.version.label.dirty"))+" ")])]}}],null,!1,970811321)},[s("span",[e._v(e._s(e.$t("app.version.tooltip.dirty")))])]):e._e(),e.valid?e._e():s("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-chip",e._g(e._b({attrs:{small:"",outlined:"",color:e.disabled?"grey darken-2":"error"}},"v-chip",a,!1),r),[e._v(" "+e._s(e.$t("app.version.label.invalid"))+" ")])]}}],null,!1,103834092)},[s("span",[e._v(e._s(e.$t("app.version.tooltip.invalid")))])]),e.hasUpdate&&!e.dirty&&e.valid?s("app-btn",{staticClass:"ml-1",attrs:{disabled:e.disabled,small:"",text:"",color:"primary"},on:{click:function(t){return e.$emit("on-update")}}},[e._v(" "+e._s(e.$t("app.version.btn.update"))+" ")]):e._e(),e.dirty||!e.valid?s("app-btn",{staticClass:"ml-1",attrs:{small:"",text:"",color:"error"},on:{click:function(t){return e.$emit("on-recover")}}},[e._v(" Recover ")]):e._e()],1)},km=[];let Sm=class extends a["default"]{};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Sm.prototype,"hasUpdate",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Sm.prototype,"disabled",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Sm.prototype,"loading",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],Sm.prototype,"dirty",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],Sm.prototype,"valid",void 0),Sm=(0,l.gn)([(0,c.wA)({})],Sm);var Pm=Sm,Em=Pm,Zm=(0,C.Z)(Em,Cm,km,!1,null,null,null),Rm=Zm.exports;S()(Zm,{VChip:Ai.Z,VTooltip:E.Z});var Tm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":850,scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[e.component?s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},["commits_behind"in e.component?s("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.version.label.commit_history")))]):s("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.version.label.package_list")))]),s("v-spacer"),s("app-btn",{attrs:{color:"",icon:""},on:{click:function(t){return e.$emit("input",!1)}}},[s("v-icon",[e._v("$close")])],1)],1),s("v-divider"),e.commitHistory?s("v-card-text",{staticClass:"py-0 pl-0"},[s("v-timeline",{attrs:{"align-top":"",dense:""}},e._l(e.commitHistory.keys,(function(t){return s("v-timeline-item",{key:"key-"+t,attrs:{color:"transparent",small:""},scopedSlots:e._u([{key:"icon",fn:function(){return[s("v-icon",{staticClass:"rotate-90",attrs:{color:"secondary"}},[e._v(" $commit ")])]},proxy:!0}],null,!0)},[s("div",{staticClass:"secondary--text mb-4"},[e._v(" "+e._s(e.$t("app.version.label.commits_on"))+" "+e._s(e.$dayjs(t).format("ll"))+" ")]),s("ol",{staticClass:"commit-history"},[e._l(e.commitHistory.result[t],(function(t){return[s("li",{key:t.sha},[s("div",[s("div",{staticClass:"commit-subject"},[e._v(" "+e._s(t.subject)+" ")]),s("div",{staticClass:"secondary--text"},[s("a",{staticClass:"secondary--text",attrs:{href:e.baseUrl+"/commits/"+e.component.branch,target:"_blank"}},[s("strong",[e._v(e._s(t.author))])]),e._v(" "+e._s(e.$t("app.version.label.committed"))+" "+e._s(e.$dayjs(t.date).fromNow())+" ")])]),s("div",[s("app-btn",{attrs:{small:"",outlined:"",color:"secondary",href:e.baseUrl+"/commit/"+t.sha,target:"_blank"}},[s("span",{staticClass:"primary--text"},[e._v(e._s(t.sha.substring(0,7)))])])],1)])]}))],2)])})),1)],1):e._e(),e.component.package_list?s("v-card-text",{staticClass:"pt-4"},[s("div",{staticClass:"chip-group"},e._l(e.component.package_list,(function(t){return s("v-chip",{key:t,attrs:{small:""}},[e._v(" "+e._s(t)+" ")])})),1)]):e._e()],1):e._e()],1)},Lm=[];let Dm=class extends c.w3{get commitHistory(){return this.$store.getters["version/getCommitHistory"](this.component.key)}get baseUrl(){return"owner"in this.component?`https://github.com/${this.component.owner}/${this.component.key}`:""}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],Dm.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Object})],Dm.prototype,"component",void 0),Dm=(0,l.gn)([(0,c.wA)({})],Dm);var Am=Dm,Im=Am,Vm=s(92865),Mm=s(46996),Fm=(0,C.Z)(Im,Tm,Lm,!1,null,"70cc45de",null),Om=Fm.exports;S()(Fm,{VCard:Vt.Z,VCardText:Y.ZB,VCardTitle:Y.EB,VChip:Ai.Z,VDialog:ls.Z,VDivider:vs.Z,VIcon:P.Z,VSpacer:et.Z,VTimeline:Vm.Z,VTimelineItem:Mm.Z});let Bm=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.informationDialogState={open:!1,component:null}}get components(){return this.$store.getters["version/getVisibleComponents"]}get isRefreshing(){return this.$store.state.version.refreshing}get hasUpdates(){const e=this.$store.getters["version/hasUpdates"];return e}get enableNotifications(){return this.$store.state.config.uiSettings.general.enableVersionNotifications}set enableNotifications(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.enableVersionNotifications",value:e,server:!0})}packageTitle(e){return"system"===e.key?this.$t("app.version.label.os_packages"):e.key}hasUpdate(e){return this.$store.getters["version/hasUpdate"](e)}inError(e){const t="is_dirty"in e&&e.is_dirty,s=!("is_valid"in e)||e.is_valid;return t||!s}packageUrl(e){return"klipper"===e.key?"https://github.com/KevinOConnor/klipper/commits/master":"moonraker"===e.key?"https://github.com/Arksine/moonraker/commits/master":"fluidd"===e.key&&"name"in e&&"fluidd"===e.name?"https://github.com/fluidd-core/fluidd/releases":void 0}handleUpdateComponent(e){switch(this.$store.dispatch("version/onUpdateStatus",{busy:!0}),e){case"klipper":g.r.machineUpdateKlipper();break;case"moonraker":g.r.machineUpdateMoonraker();break;case"system":g.r.machineUpdateSystem();break;default:g.r.machineUpdateClient(e);break}this.$emit("click")}handleRecoverComponent(e){this.$store.dispatch("version/onUpdateStatus",{busy:!0});const t="is_dirty"in e&&e.is_dirty,s=!("is_valid"in e)||e.is_valid;t&&g.r.machineUpdateRecover(e.key,!1),s||g.r.machineUpdateRecover(e.key,!0)}forceCheck(){g.r.machineUpdateStatus(!0)}getBaseUrl(e){return"owner"in e?`https://github.com/${e.owner}/${e.key}`:""}handleInformationDialog(e){"commits_behind"in e||"package_list"in e?this.informationDialogState={open:!0,component:e}:window.open(`${this.getBaseUrl(e)}/releases`)}};Bm=(0,l.gn)([(0,c.wA)({components:{VersionStatus:Rm,VersionCommitHistoryDialog:Om}})],Bm);var Nm=Bm,Um=Nm,Hm=(0,C.Z)(Um,$m,wm,!1,null,null,null),jm=Hm.exports;S()(Hm,{VCard:Vt.Z,VDivider:vs.Z,VIcon:P.Z,VSubheader:bu.Z,VSwitch:hc.Z,VTooltip:E.Z});var Wm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"gcodePreview"}},[e._v(" "+e._s(e.$t("app.setting.title.gcode_preview"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",{attrs:{title:e.$t("app.setting.label.show_animations")}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.showAnimations,callback:function(t){e.showAnimations=t},expression:"showAnimations"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.group_lower_layers")}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.groupLowerLayers,callback:function(t){e.groupLowerLayers=t},expression:"groupLowerLayers"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.draw_background")}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.drawBackground,callback:function(t){e.drawBackground=t},expression:"drawBackground"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.extrusion_line_width")}},[s("v-text-field",{attrs:{value:e.extrusionLineWidth,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"",suffix:"mm"},on:{change:e.setExtrusionLineWidth}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.move_line_width")}},[s("v-text-field",{attrs:{value:e.moveLineWidth,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"",suffix:"mm"},on:{change:e.setMoveLineWidth}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.retraction_icon_size")}},[s("v-text-field",{attrs:{value:e.retractionIconSize,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"",suffix:"mm"},on:{change:e.setRetractionIconSize}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.flip_horizontal")}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.flipHorizontal,callback:function(t){e.flipHorizontal=t},expression:"flipHorizontal"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.flip_vertical")}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.flipVertical,callback:function(t){e.flipVertical=t},expression:"flipVertical"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.reset")}},[s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")])],1)],1)],1)},zm=[];let qm=class extends c.w3{constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||"Required",numMin:e=>e>0||"Must be greater than 0"}}get extrusionLineWidth(){return this.$store.state.config.uiSettings.gcodePreview.extrusionLineWidth}setExtrusionLineWidth(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.extrusionLineWidth",value:+e,server:!0})}get moveLineWidth(){return this.$store.state.config.uiSettings.gcodePreview.moveLineWidth}setMoveLineWidth(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.moveLineWidth",value:+e,server:!0})}get retractionIconSize(){return this.$store.state.config.uiSettings.gcodePreview.retractionIconSize}setRetractionIconSize(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.retractionIconSize",value:+e,server:!0})}get flipHorizontal(){return this.$store.state.config.uiSettings.gcodePreview.flip.horizontal}set flipHorizontal(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.flip.horizontal",value:e,server:!0})}get flipVertical(){return this.$store.state.config.uiSettings.gcodePreview.flip.vertical}set flipVertical(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.flip.vertical",value:e,server:!0})}get drawBackground(){return this.$store.state.config.uiSettings.gcodePreview.drawBackground}set drawBackground(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.drawBackground",value:e,server:!0})}get showAnimations(){return this.$store.state.config.uiSettings.gcodePreview.showAnimations}set showAnimations(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.showAnimations",value:e,server:!0})}get groupLowerLayers(){return this.$store.state.config.uiSettings.gcodePreview.groupLowerLayers}set groupLowerLayers(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.groupLowerLayers",value:e,server:!0})}handleReset(){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview",value:(0,om.W2)().uiSettings.gcodePreview,server:!0})}};qm=(0,l.gn)([(0,c.wA)({components:{}})],qm);var Gm=qm,Ym=Gm,Km=(0,C.Z)(Ym,Wm,zm,!1,null,null,null),Xm=Km.exports;S()(Km,{VCard:Vt.Z,VDivider:vs.Z,VSubheader:bu.Z,VSwitch:hc.Z,VTextField:tt.Z});var Jm=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"auth"}},[e._v(" "+e._s(e.$t("app.setting.title.authentication"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",[s("app-btn",{staticClass:"mr-2",attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleApiKeyDialog}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $edit ")]),e._v(" "+e._s(e.$t("app.general.label.api_key"))+" ")],1),s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleAddUserDialog}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_user"))+" ")],1)],1),e.users.length>0?s("v-divider"):e._e(),e._l(e.users,(function(t,r){return[s("app-setting",{key:"user-"+t.username,attrs:{"r-cols":3},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(t.username)+" ")]},proxy:!0}],null,!0)},[s("app-btn",{attrs:{disabled:t.username===e.currentUser,fab:"",text:"","x-small":"",color:""},on:{click:function(s){return s.stopPropagation(),e.handleRemoveUser(t)}}},[s("v-icon",{attrs:{color:""}},[e._v(" $close ")])],1)],1),r<e.users.length-1?s("v-divider",{key:"divider-"+t.username}):e._e()]})),e.userDialogState.open?s("user-config-dialog",{attrs:{user:e.userDialogState.user},on:{save:e.userDialogState.handler},model:{value:e.userDialogState.open,callback:function(t){e.$set(e.userDialogState,"open",t)},expression:"userDialogState.open"}}):e._e(),e.apiKeyDialogState.open?s("api-key-dialog",{model:{value:e.apiKeyDialogState.open,callback:function(t){e.$set(e.apiKeyDialogState,"open",t)},expression:"apiKeyDialogState.open"}}):e._e()],2)],1)},Qm=[],eh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":500},on:{input:function(t){return e.$emit("input",t)}}},[s("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSave(e.user)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(e.user.created_on?e.$t("app.general.label.edit_user"):e.$t("app.general.label.add_user")))])]),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.general.label.name")}},[s("v-text-field",{staticClass:"mt-0",attrs:{autocomplete:"username",disabled:e.user.created_on,filled:"",dense:"","hide-details":"auto",rules:[e.rules.required,e.rules.max]},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.general.label.password")}},[s("v-text-field",{staticClass:"mt-0",attrs:{autocomplete:"current-password",filled:"",dense:"",type:"password","hide-details":"auto",rules:[e.rules.required,e.rules.min,e.rules.password]},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),s("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(e.user.created_on?e.$t("app.general.btn.save"):e.$t("app.general.btn.add"))+" ")])],1)],1)],1)],1)},th=[];let sh=class extends c.w3{constructor(){super(...arguments),this.valid=!1,this.rules={required:e=>void 0!==e&&""!==e||this.$t("app.general.simple_form.error.required"),password:e=>e.toLowerCase()!==this.user.username.toLowerCase()||this.$t("app.general.simple_form.error.password_username"),min:e=>void 0!==e&&e.length>=4||this.$t("app.general.simple_form.error.min",{min:4}),max:e=>void 0!==e&&e.length<=60||this.$t("app.general.simple_form.error.max",{max:60})}}handleSave(){this.valid&&(this.$emit("save",this.user),this.$emit("input",!1))}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],sh.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Object,required:!0})],sh.prototype,"user",void 0),sh=(0,l.gn)([(0,c.wA)({})],sh);var rh=sh,ah=rh,ih=(0,C.Z)(ah,eh,th,!1,null,null,null),nh=ih.exports;S()(ih,{VCard:Vt.Z,VCardActions:Y.h7,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VForm:fs.Z,VSpacer:et.Z,VTextField:tt.Z});var oh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":500},on:{input:function(t){return e.$emit("input",t)}}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text",domProps:{innerHTML:e._s(e.$t("app.general.label.api_key"))}})]),s("v-divider"),s("v-card-text",{staticClass:"py-4"},[s("v-text-field",{attrs:{value:e.apiKey,filled:"",dense:"","single-line":"","hide-details":"",readonly:"",outlined:""}})],1),s("v-layout",{staticClass:"pb-4",attrs:{"align-center":"",column:""}},[s("app-qr-code",{attrs:{value:e.apiKey,centered:""}})],1),s("v-divider"),s("v-card-actions",{staticClass:"pa-4"},[s("v-spacer"),s("app-btn",{attrs:{color:""},on:{click:e.handleRefreshApiKey}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $refresh ")]),e._v(" "+e._s(e.$t("app.general.btn.refresh"))+" ")],1),s("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.close"))+" ")])],1)],1)],1)},lh=[];let ch=class extends c.w3{get apiKey(){return this.$store.getters["auth/getApiKey"]}handleRefreshApiKey(){this.$store.dispatch("auth/refreshApiKey")}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],ch.prototype,"value",void 0),ch=(0,l.gn)([(0,c.wA)({})],ch);var dh=ch,ph=dh,uh=(0,C.Z)(ph,oh,lh,!1,null,null,null),mh=uh.exports;S()(uh,{VCard:Vt.Z,VCardActions:Y.h7,VCardText:Y.ZB,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VIcon:P.Z,VLayout:H.Z,VSpacer:et.Z,VTextField:tt.Z});let hh=class extends c.w3{constructor(){super(...arguments),this.search="",this.categoryId=void 0,this.userDialogState={open:!1,user:null,handler:null},this.apiKeyDialogState={open:!1}}get users(){return this.$store.getters["auth/getUsers"]}get currentUser(){const e=this.$store.getters["auth/getCurrentUser"];return e&&e.username?e.username:""}handleAddUserDialog(){this.userDialogState={open:!0,user:{username:"",password:""},handler:this.handleSaveUser}}handleEditUserDialog(e){this.userDialogState={open:!0,user:e,handler:this.handleSaveUser}}handleApiKeyDialog(){this.apiKeyDialogState.open=!0}handleRemoveUser(e){this.$confirm(this.$tc("app.general.simple_form.msg.confirm"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((t=>{t&&this.$store.dispatch("auth/removeUser",e)}))}async handleSaveUser(e){await this.$store.dispatch("auth/addUser",e),0===this.users.length&&this.$store.dispatch("auth/checkTrust")}};hh=(0,l.gn)([(0,c.wA)({components:{UserConfigDialog:nh,ApiKeyDialog:mh}})],hh);var gh=hh,vh=gh,fh=(0,C.Z)(vh,Jm,Qm,!1,null,null,null),_h=fh.exports;S()(fh,{VCard:Vt.Z,VDivider:vs.Z,VIcon:P.Z,VSubheader:bu.Z});var yh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"console"}},[e._v(" "+e._s(e.$t("app.setting.title.console"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",{attrs:{title:e.$tc("app.setting.label.filter",2)}},[s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:function(t){return e.handleEditFilterDialog(null)}}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_filter"))+" ")],1)],1),s("v-divider"),e._l(e.filters,(function(t){return[s("app-setting",{key:"filter-"+t.name,attrs:{"r-cols":3},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(t.name)+" ")]},proxy:!0}],null,!0)},[s("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(s){return s.stopPropagation(),e.handleEditFilterDialog(t)}}},[s("v-icon",{attrs:{color:""}},[e._v(" $edit ")])],1),s("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(s){return s.stopPropagation(),e.handleRemoveFilter(t)}}},[s("v-icon",{attrs:{color:""}},[e._v(" $close ")])],1)],1),s("v-divider",{key:"divider-"+t.name})]})),e.dialogState.open?s("console-filter-dialog",{attrs:{filter:e.dialogState.filter,rules:e.dialogState.rules},on:{save:e.handleSaveFilter},model:{value:e.dialogState.open,callback:function(t){e.$set(e.dialogState,"open",t)},expression:"dialogState.open"}}):e._e()],2)],1)},bh=[],xh=s(65620),$h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":500},on:{input:function(t){return e.$emit("input",t)}}},[s("v-form",{ref:"addInstanceForm",staticClass:"mt-3",on:{submit:function(t){return t.preventDefault(),e.handleSave.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(e.filter.id?e.$t("app.general.label.edit_filter"):e.$t("app.general.label.add_filter")))])]),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.enable"),"r-cols":8}},[s("v-switch",{staticClass:"mt-0",attrs:{"hide-details":"auto"},model:{value:e.filter.enabled,callback:function(t){e.$set(e.filter,"enabled",t)},expression:"filter.enabled"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.general.label.name"),"r-cols":8}},[s("v-text-field",{staticClass:"mt-0",attrs:{filled:"",dense:"","hide-details":"auto",rules:[e.rules.required,e.rules.uniqueName]},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.type"),"r-cols":8}},[s("v-select",{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.types,"item-value":"value","item-text":"text"},model:{value:e.filter.type,callback:function(t){e.$set(e.filter,"type",t)},expression:"filter.type"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.type.text,"r-cols":8}},[s("v-text-field",{staticClass:"mt-0",attrs:{filled:"",dense:"","hide-details":"auto",rules:e.type.rules},model:{value:e.filter.value,callback:function(t){e.$set(e.filter,"value",t)},expression:"filter.value"}})],1),s("v-card-actions",[s("v-spacer"),s("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),s("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.save"))+" ")])],1)],1)],1)],1)},wh=[];let Ch=class extends c.w3{constructor(){super(...arguments),this.valid=!0,this.types=[{text:this.$t("app.setting.label.contains"),value:xh.T.Contains,rules:[this.rules.required]},{text:this.$t("app.setting.label.starts_with"),value:xh.T.StartsWith,rules:[this.rules.required]},{text:this.$t("app.setting.label.expression"),value:xh.T.Expression,rules:[this.rules.required,this.rules.validExpression]}]}get type(){return this.types.find((e=>{var t;return e.value===(null===(t=this.filter)||void 0===t?void 0:t.type)}))||this.types[0]}handleSave(){this.valid&&(this.$emit("save",this.filter),this.$emit("input",!1))}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],Ch.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Object,required:!0})],Ch.prototype,"rules",void 0),(0,l.gn)([(0,c.fI)({type:Object,required:!0})],Ch.prototype,"filter",void 0),Ch=(0,l.gn)([(0,c.wA)({})],Ch);var kh=Ch,Sh=kh,Ph=(0,C.Z)(Sh,$h,wh,!1,null,null,null),Eh=Ph.exports;S()(Ph,{VCard:Vt.Z,VCardActions:Y.h7,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VForm:fs.Z,VSelect:Ar.Z,VSpacer:et.Z,VSwitch:hc.Z,VTextField:tt.Z});let Zh=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.dialogState={open:!1,rules:null,filter:null}}get filters(){return this.$store.getters["console/getFilters"]}handleEditFilterDialog(e){const t=e?{...e}:{id:"",enabled:!0,name:"",type:xh.T.Contains,value:""};this.dialogState={open:!0,rules:{required:e=>!!e||this.$t("app.general.simple_form.error.required"),uniqueName:e=>!this.filters.some((t=>t.id!==this.dialogState.filter.id&&t.name.toLowerCase()===e.toLowerCase()))||this.$t("app.general.simple_form.error.exists"),validExpression:e=>{try{return e&&new RegExp(e),!0}catch(t){}return this.$t("app.general.simple_form.error.invalid_expression")}},filter:t}}handleRemoveFilter(e){this.$store.dispatch("console/onRemoveFilter",e)}handleSaveFilter(e){this.$store.dispatch("console/onSaveFilter",e)}};Zh=(0,l.gn)([(0,c.wA)({components:{ConsoleFilterDialog:Eh}})],Zh);var Rh=Zh,Th=Rh,Lh=(0,C.Z)(Th,yh,bh,!1,null,null,null),Dh=Lh.exports;S()(Lh,{VCard:Vt.Z,VDivider:vs.Z,VIcon:P.Z,VSubheader:bu.Z});var Ah=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"editor"}},[e._v(" "+e._s(e.$t("app.setting.title.file_editor"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",{attrs:{title:e.$t("app.setting.label.confirm_dirty_editor_close")}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.confirmDirtyEditorClose,callback:function(t){e.confirmDirtyEditorClose=t},expression:"confirmDirtyEditorClose"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.auto_edit_extensions")}},[s("v-combobox",{attrs:{filled:"",dense:"","hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","append-icon":"","deletable-chips":""},model:{value:e.autoEditExtensions,callback:function(t){e.autoEditExtensions=t},expression:"autoEditExtensions"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.reset")}},[s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")])],1)],1)],1)},Ih=[];let Vh=class extends((0,c.Wr)(d.Z)){get confirmDirtyEditorClose(){return this.$store.state.config.uiSettings.editor.confirmDirtyEditorClose}set confirmDirtyEditorClose(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.editor.confirmDirtyEditorClose",value:e,server:!0})}get autoEditExtensions(){return this.$store.state.config.uiSettings.editor.autoEditExtensions}set autoEditExtensions(e){e=e.map((e=>e.startsWith(".")?e:`.${e}`)),e=e.filter(((t,s)=>e.indexOf(t)===s)),this.$store.dispatch("config/saveByPath",{path:"uiSettings.editor.autoEditExtensions",value:e.sort(),server:!0})}handleReset(){this.$store.dispatch("config/saveByPath",{path:"uiSettings.editor",value:(0,om.W2)().uiSettings.editor,server:!0})}};Vh=(0,l.gn)([(0,c.wA)({components:{}})],Vh);var Mh=Vh,Fh=Mh,Oh=(0,C.Z)(Fh,Ah,Ih,!1,null,null,null),Bh=Oh.exports;S()(Oh,{VCard:Vt.Z,VCombobox:pm.Z,VDivider:vs.Z,VSubheader:bu.Z,VSwitch:hc.Z});var Nh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{attrs:{id:"timelapse"}},[e._v(" "+e._s(e.$t("app.general.title.timelapse"))+" ")]),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",{attrs:{title:e.$tc("app.general.title.camera",1),"sub-title":e.subtitleIfBlocked(e.cameraBlocked)}},[s("v-select",{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.cameras,value:e.camera,disabled:e.cameraBlocked},model:{value:e.camera,callback:function(t){e.camera=t},expression:"camera"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.mode"),"sub-title":e.subtitleIfBlocked(e.modeBlocked)}},[s("v-select",{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.supportedModes,value:e.mode,disabled:e.modeBlocked},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}})],1),"hyperlapse"===e.mode?s("hyperlapse-settings"):e._e(),s("toolhead-parking-settings"),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.stream_delay_compensation"),"sub-title":e.subtitleIfBlocked(e.delayCompBlocked)}},[s("v-text-field",{ref:"delayCompElement",attrs:{value:e.delayComp,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.delayCompBlocked,"hide-details":!e.delayCompElement||e.delayCompElement.valid,filled:"",dense:"","single-line":"",suffix:"ms"},on:{change:e.setDelayComp}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.gcode_verbose"),"sub-title":e.subtitleIfBlocked(e.verboseGcodeBlocked)}},[s("v-switch",{attrs:{"hide-details":"",disabled:e.verboseGcodeBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.verboseGcode,callback:function(t){e.verboseGcode=t},expression:"verboseGcode"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$tc("app.timelapse.title.render_settings")}},[s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:function(t){e.renderSettingsDialogOpen=!0}}},[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $pencil ")]),e._v(" "+e._s(e.$t("app.general.btn.edit"))+" ")],1)],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.setting.label.reset")}},[s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")])],1)],1),e.renderSettingsDialogOpen?s("timelapse-render-settings-dialog",{attrs:{renderable:!1},model:{value:e.renderSettingsDialogOpen,callback:function(t){e.renderSettingsDialogOpen=t},expression:"renderSettingsDialogOpen"}}):e._e()],1)},Uh=[],Hh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.hyperlapse_cycle"),"sub-title":e.subtitleIfBlocked(e.hyperlapseCycleBlocked)}},[s("v-text-field",{ref:"hyperlapseCycleElement",attrs:{value:e.hyperlapseCycle,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.hyperlapseCycleBlocked,"hide-details":!e.hyperlapseCycleElement||e.hyperlapseCycleElement.valid,filled:"",dense:"","single-line":"",suffix:"s"},on:{change:e.setHyperlapseCycle}})],1)],1)},jh=[];let Wh=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>e>=1||this.$t("app.general.simple_form.error.min",{min:1})}}get hyperlapseCycleBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("hyperlapse_cycle")}get hyperlapseCycle(){var e;return null===(e=this.settings)||void 0===e?void 0:e.hyperlapse_cycle}setHyperlapseCycle(e){this.hyperlapseCycleElement.valid&&g.r.machineTimelapseSetSettings({hyperlapse_cycle:e})}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.timelapse.tooltip.managed_by_moonraker"):""}};(0,l.gn)([(0,c.Rl)("hyperlapseCycleElement")],Wh.prototype,"hyperlapseCycleElement",void 0),Wh=(0,l.gn)([(0,c.wA)({components:{AppSetting:rd["default"]}})],Wh);var zh=Wh,qh=zh,Gh=(0,C.Z)(qh,Hh,jh,!1,null,null,null),Yh=Gh.exports;S()(Gh,{VDivider:vs.Z,VTextField:tt.Z});var Kh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.parkhead"),"sub-title":e.subtitleIfBlocked(e.parkheadBlocked)}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":"",disabled:e.parkheadBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.parkhead,callback:function(t){e.parkhead=t},expression:"parkhead"}})],1),e.parkhead?s("div",[s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_time"),"sub-title":e.subtitleIfBlocked(e.parkTimeBlocked)}},[s("v-text-field",{ref:"parkTimeElement",attrs:{value:e.parkTime,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(0)],disabled:e.parkTimeBlocked,"hide-details":!e.parkTimeElement||e.parkTimeElement.valid,filled:"",dense:"","single-line":"",suffix:"ms"},on:{change:e.setParkTime}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_travel_speed"),"sub-title":e.subtitleIfBlocked(e.parkTravelSpeedBlocked)}},[s("v-text-field",{ref:"parkTravelSpeedElement",attrs:{value:e.parkTravelSpeed,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(0)],disabled:e.parkTravelSpeedBlocked,"hide-details":!e.parkTravelSpeedElement||e.parkTravelSpeedElement.valid,filled:"",dense:"","single-line":"",suffix:"mm/s"},on:{change:e.setParkTravelSpeed}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.parkpos.label"),"sub-title":e.subtitleIfBlocked(e.parkposBlocked)}},[s("v-select",{attrs:{filled:"",dense:"","hide-details":"auto",items:e.parkPositions,disabled:e.parkposBlocked,"item-value":"value","item-text":"text"},model:{value:e.parkpos,callback:function(t){e.parkpos=t},expression:"parkpos"}})],1),"custom"===e.parkpos?s("custom-park-position-settings"):e._e(),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_custom_pos_dz"),"sub-title":e.subtitleIfBlocked(e.parkPosZBlocked)}},[s("v-text-field",{ref:"parkPosDZElement",attrs:{value:e.parkPosZ,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(0)],disabled:e.parkPosZBlocked,"hide-details":!e.parkPosDZElement||e.parkPosDZElement.valid,filled:"",dense:"","single-line":"",suffix:"mm"},on:{change:e.setParkPosZ}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.fw_retract"),"sub-title":e.subtitleIfBlocked(e.firmwareRetractBlocked)}},[s("v-switch",{staticClass:"mb-5",attrs:{"hide-details":"",disabled:e.firmwareRetractBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.firmwareRetract,callback:function(t){e.firmwareRetract=t},expression:"firmwareRetract"}})],1),e.firmwareRetract?e._e():s("park-extrude-retract-settings")],1):e._e()],1)},Xh=[],Jh=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_retract_distance"),"sub-title":e.subtitleIfBlocked(e.parkRetractDistanceBlocked)}},[s("v-text-field",{ref:"parkRetractDistanceElement",attrs:{value:e.parkRetractDistance,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(0)],disabled:e.parkRetractDistanceBlocked,"hide-details":!e.parkRetractDistanceElement||e.parkRetractDistanceElement.valid,filled:"",dense:"","single-line":"",suffix:"mm"},on:{change:e.setParkRetractDistance}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_retract_speed"),"sub-title":e.subtitleIfBlocked(e.parkRetractSpeedBlocked)}},[s("v-text-field",{ref:"parkRetractSpeedElement",attrs:{value:e.parkRetractSpeed,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numAboveZero],disabled:e.parkRetractSpeedBlocked,"hide-details":!e.parkRetractSpeedElement||e.parkRetractSpeedElement.valid,filled:"",dense:"","single-line":"",suffix:"mm/s"},on:{change:e.setParkRetractSpeed}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_extrude_distance"),"sub-title":e.subtitleIfBlocked(e.parkExtrudeDistanceBlocked)}},[s("v-text-field",{ref:"parkExtrudeDistanceElement",attrs:{value:e.parkExtrudeDistance,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(0)],disabled:e.parkExtrudeDistanceBlocked,"hide-details":!e.parkExtrudeDistanceElement||e.parkExtrudeDistanceElement.valid,filled:"",dense:"","single-line":"",suffix:"mm"},on:{change:e.setParkExtrudeDistance}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_extrude_speed"),"sub-title":e.subtitleIfBlocked(e.parkExtrudeSpeedBlocked)}},[s("v-text-field",{ref:"parkExtrudeSpeedElement",attrs:{value:e.parkExtrudeSpeed,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numAboveZero],disabled:e.parkExtrudeSpeedBlocked,"hide-details":!e.parkExtrudeSpeedElement||e.parkExtrudeSpeedElement.valid,filled:"",dense:"","single-line":"",suffix:"mm/s"},on:{change:e.setParkExtrudeSpeed}})],1)],1)},Qh=[];let eg=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>t=>t>=e||this.$t("app.general.simple_form.error.min",{min:e}),numAboveZero:e=>e>0||this.$t("app.general.simple_form.error.min",{min:"> 0"}),numMax:e=>t=>t<=e||this.$t("app.general.simple_form.error.min",{max:e})}}get parkRetractDistanceBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_retract_distance")}get parkRetractDistance(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_retract_distance}setParkRetractDistance(e){var t;(null===(t=this.parkRetractDistanceElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({park_retract_distance:e})}get parkRetractSpeedBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_retract_speed")}get parkRetractSpeed(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_retract_speed}setParkRetractSpeed(e){var t;(null===(t=this.parkRetractDistanceElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({park_retract_speed:e})}get parkExtrudeDistanceBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_extrude_distance")}get parkExtrudeDistance(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_extrude_distance}setParkExtrudeDistance(e){var t;(null===(t=this.parkExtrudeDistanceElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({park_extrude_distance:e})}get parkExtrudeSpeedBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_extrude_speed")}get parkExtrudeSpeed(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_extrude_speed}setParkExtrudeSpeed(e){var t;(null===(t=this.parkRetractDistanceElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({park_extrude_speed:e})}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.timelapse.tooltip.managed_by_moonraker"):""}};(0,l.gn)([(0,c.Rl)("parkRetractDistanceElement")],eg.prototype,"parkRetractDistanceElement",void 0),(0,l.gn)([(0,c.Rl)("parkRetractSpeedElement")],eg.prototype,"parkRetractSpeedElement",void 0),(0,l.gn)([(0,c.Rl)("parkExtrudeDistanceElement")],eg.prototype,"parkExtrudeDistanceElement",void 0),(0,l.gn)([(0,c.Rl)("parkExtrudeSpeedElement")],eg.prototype,"parkExtrudeSpeedElement",void 0),eg=(0,l.gn)([(0,c.wA)({components:{AppSetting:rd["default"],CollapsableCard:Qc["default"]}})],eg);var tg=eg,sg=tg,rg=(0,C.Z)(sg,Jh,Qh,!1,null,null,null),ag=rg.exports;S()(rg,{VDivider:vs.Z,VTextField:tt.Z});var ig=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_custom_pos_x"),"sub-title":e.subtitleIfBlocked(e.getCustomParkPosBlocked("x"))}},[s("v-text-field",{ref:"parkPosXElement",attrs:{value:e.parkPosX,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(e.printerMinX),e.rules.numMax(e.printerMaxX)],disabled:e.getCustomParkPosBlocked("x"),"hide-details":!e.parkPosXElement||e.parkPosXElement.valid,filled:"",dense:"","single-line":"",suffix:"mm"},on:{change:e.setParkPosX}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_custom_pos_y"),"sub-title":e.subtitleIfBlocked(e.getCustomParkPosBlocked("y"))}},[s("v-text-field",{ref:"parkPosYElement",attrs:{value:e.parkPosY,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(e.printerMinY),e.rules.numMax(e.printerMaxY)],disabled:e.getCustomParkPosBlocked("y"),"hide-details":!e.parkPosYElement||e.parkPosYElement.valid,filled:"",dense:"","single-line":"",suffix:"mm"},on:{change:e.setParkPosY}})],1)],1)},ng=[];let og=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>t=>t>=e||this.$t("app.general.simple_form.error.min",{min:e}),numMax:e=>t=>t<=e||this.$t("app.general.simple_form.error.max",{max:e})}}getCustomParkPosBlocked(e){return this.$store.getters["timelapse/isBlockedSetting"](`park_custom_pos_${e}`)}get parkpos(){var e;return null===(e=this.settings)||void 0===e?void 0:e.parkpos}set parkpos(e){g.r.machineTimelapseSetSettings({parkpos:e})}get parkPosX(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_custom_pos_x}setParkPosX(e){var t;(null===(t=this.parkPosXElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({park_custom_pos_x:e})}get parkPosY(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_custom_pos_y}setParkPosY(e){var t;(null===(t=this.parkPosYElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({park_custom_pos_y:e})}get printerMinX(){var e,t;return+(null!==(t=null===(e=this.$store.getters["printer/getPrinterConfig"]().stepper_x)||void 0===e?void 0:e.position_min)&&void 0!==t?t:0)}get printerMaxX(){var e,t;return+(null!==(t=null===(e=this.$store.getters["printer/getPrinterConfig"]().stepper_x)||void 0===e?void 0:e.position_max)&&void 0!==t?t:1/0)}get printerMinY(){var e,t;return+(null!==(t=null===(e=this.$store.getters["printer/getPrinterConfig"]().stepper_y)||void 0===e?void 0:e.position_min)&&void 0!==t?t:0)}get printerMaxY(){var e,t;return+(null!==(t=null===(e=this.$store.getters["printer/getPrinterConfig"]().stepper_y)||void 0===e?void 0:e.position_max)&&void 0!==t?t:1/0)}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.timelapse.tooltip.managed_by_moonraker"):""}};(0,l.gn)([(0,c.Rl)("parkPosXElement")],og.prototype,"parkPosXElement",void 0),(0,l.gn)([(0,c.Rl)("parkPosYElement")],og.prototype,"parkPosYElement",void 0),og=(0,l.gn)([(0,c.wA)({components:{ParkExtrudeRetractSettings:ag,AppSetting:rd["default"],CollapsableCard:Qc["default"]}})],og);var lg=og,cg=lg,dg=(0,C.Z)(cg,ig,ng,!1,null,null,null),pg=dg.exports;S()(dg,{VDivider:vs.Z,VTextField:tt.Z});let ug=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>t=>t>=e||this.$t("app.general.simple_form.error.min",{min:e}),numMax:e=>t=>t<=e||this.$t("app.general.simple_form.error.min",{max:e})}}get parkPositions(){const e=["front_left","front_right","center","back_left","back_right","custom"];return e.map((e=>({text:this.$tc(`app.timelapse.setting.parkpos.${e}`),value:e})))}get parkheadBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("parkhead")}get parkhead(){var e;return null===(e=this.settings)||void 0===e?void 0:e.parkhead}set parkhead(e){g.r.machineTimelapseSetSettings({parkhead:e})}get parkposBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("parkpos")}get parkpos(){var e;return null===(e=this.settings)||void 0===e?void 0:e.parkpos}set parkpos(e){g.r.machineTimelapseSetSettings({parkpos:e})}get parkTimeBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_time")}get parkTime(){var e;return 1e3*(null===(e=this.settings)||void 0===e?void 0:e.park_time)}setParkTime(e){var t;(null===(t=this.parkTimeElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({park_time:e/1e3})}get parkTravelSpeedBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_travel_speed")}get parkTravelSpeed(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_travel_speed}setParkTravelSpeed(e){var t;(null===(t=this.parkTravelSpeedElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({park_travel_speed:e})}get parkPosZBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_custom_pos_dz")}get parkPosZ(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_custom_pos_dz}setParkPosZ(e){var t;(null===(t=this.parkPosDZElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({park_custom_pos_dz:e})}get firmwareRetractBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("fw_retract")}get firmwareRetract(){var e;return null===(e=this.settings)||void 0===e?void 0:e.fw_retract}set firmwareRetract(e){g.r.machineTimelapseSetSettings({fw_retract:e})}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.timelapse.tooltip.managed_by_moonraker"):""}};(0,l.gn)([(0,c.Rl)("parkTimeElement")],ug.prototype,"parkTimeElement",void 0),(0,l.gn)([(0,c.Rl)("parkTravelSpeedElement")],ug.prototype,"parkTravelSpeedElement",void 0),(0,l.gn)([(0,c.Rl)("parkPosDZElement")],ug.prototype,"parkPosDZElement",void 0),ug=(0,l.gn)([(0,c.wA)({components:{CustomParkPositionSettings:pg,ParkExtrudeRetractSettings:ag,AppSetting:rd["default"]}})],ug);var mg=ug,hg=mg,gg=(0,C.Z)(hg,Kh,Xh,!1,null,null,null),vg=gg.exports;S()(gg,{VDivider:vs.Z,VSelect:Ar.Z,VSwitch:hc.Z,VTextField:tt.Z});let fg=class extends((0,c.Wr)(d.Z)){constructor(){super(...arguments),this.renderSettingsDialogOpen=!1,this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>e>=0||this.$t("app.general.simple_form.error.min",{min:0})}}get supportedModes(){return[{text:this.$tc("app.timelapse.setting.mode_layermacro"),value:"layermacro"},{text:this.$tc("app.timelapse.setting.mode_hyperlapse"),value:"hyperlapse"}]}get cameras(){return this.$store.getters["cameras/getCameras"].map((e=>({text:e.name,value:e.id,disabled:!e.enabled})))}get cameraBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("camera")}get camera(){var e;return null===(e=this.settings)||void 0===e?void 0:e.camera}set camera(e){g.r.machineTimelapseSetSettings({camera:e})}get modeBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("mode")}get mode(){var e;return null===(e=this.settings)||void 0===e?void 0:e.mode}set mode(e){g.r.machineTimelapseSetSettings({mode:e})}get delayCompBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("stream_delay_compensation")}get delayComp(){var e;return 1e3*(null===(e=this.settings)||void 0===e?void 0:e.stream_delay_compensation)}setDelayComp(e){var t;(null===(t=this.delayCompElement)||void 0===t?void 0:t.validate())&&g.r.machineTimelapseSetSettings({stream_delay_compensation:e/1e3})}get verboseGcodeBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("gcode_verbose")}get verboseGcode(){var e;return null===(e=this.settings)||void 0===e?void 0:e.gcode_verbose}set verboseGcode(e){g.r.machineTimelapseSetSettings({gcode_verbose:e})}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.timelapse.tooltip.managed_by_moonraker"):""}handleReset(){const e=Object.entries(yd.Ao).filter((([e])=>!this.$store.getters["timelapse/isBlockedSetting"](e)));g.r.machineTimelapseSetSettings(Object.fromEntries(e))}};(0,l.gn)([(0,c.Rl)("delayCompElement")],fg.prototype,"delayCompElement",void 0),fg=(0,l.gn)([(0,c.wA)({components:{ToolheadParkingSettings:vg,HyperlapseSettings:Yh,TimelapseRenderSettingsDialog:Cd}})],fg);var _g=fg,yg=_g,bg=(0,C.Z)(yg,Nh,Uh,!1,null,null,null),xg=bg.exports;S()(bg,{VCard:Vt.Z,VDivider:vs.Z,VIcon:P.Z,VSelect:Ar.Z,VSubheader:bu.Z,VSwitch:hc.Z,VTextField:tt.Z});let $g=class extends((0,c.Wr)(d.Z)){get supportsVersions(){return this.$store.getters["server/componentSupport"]("update_manager")}get supportsAuth(){return this.$store.getters["server/componentSupport"]("authorization")}get supportsTimelapse(){return this.$store.getters["server/componentSupport"]("timelapse")}};$g=(0,l.gn)([(0,c.wA)({components:{TimelapseSettings:xg,MacroCategories:$u,GeneralSettings:Zu,PresetSettings:ju,Cameras:am,ToolheadSettings:mm,ThemeSettings:xm,VersionSettings:jm,GcodePreviewSettings:Xm,AuthSettings:_h,ConsoleSettings:Dh,FileEditorSettings:Bh}})],$g);var wg=$g,Cg=wg,kg=(0,C.Z)(Cg,nu,ou,!1,null,null,null),Sg=kg.exports;S()(kg,{VCol:K.Z,VRow:Q.Z});var Pg=s(61311),Eg=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-subheader",{staticClass:"px-0"},[s("app-btn",{staticClass:"mr-4",attrs:{fab:"",small:"",color:"",exact:""},on:{click:e.handleBack}},[s("v-icon",{attrs:{small:""}},[e._v(" $left ")])],1),e._v(" "+e._s(e.category.name)+" "+e._s(e.$t("app.setting.title.macros"))+" "),s("v-spacer"),s("v-text-field",{attrs:{clearable:"",outlined:"",dense:"","single-line":"","hide-details":"","append-icon":"$magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-card",{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[s("app-setting",[s("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleAllOff}},[e._v(" "+e._s(e.$t("app.setting.label.all_off"))+" ")]),s("app-btn",{staticClass:"ml-2",attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleAllOn}},[e._v(" "+e._s(e.$t("app.setting.label.all_on"))+" ")])],1),s("v-divider"),e._l(e.macros,(function(t,r){return[s("app-setting",{key:"macro-"+t.name,attrs:{title:t.name.toUpperCase(),"accent-color":t.color,"r-cols":2},on:{click:function(s){return e.handleSettingsDialog(t)}},scopedSlots:e._u([t.config.description&&"G-Code macro"!==t.config.description?{key:"sub-title",fn:function(){return[s("span",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"mr-2"},[e._v(" "+e._s(t.config.description)+" ")])]},proxy:!0}:null],null,!0)},[s("v-switch",{staticClass:"mt-0 pt-0",attrs:{"input-value":t.visible,color:"primary","hide-details":""},on:{click:function(e){e.stopPropagation()},change:function(s){return e.handleMacroVisible(t,s)}}})],1),r<e.macros.length-1&&e.macros.length>0?s("v-divider",{key:"divider-"+t.name}):e._e()]}))],2),e.dialogState.macro?s("macro-settings-dialog",{attrs:{macro:e.dialogState.macro},model:{value:e.dialogState.open,callback:function(t){e.$set(e.dialogState,"open",t)},expression:"dialogState.open"}}):e._e()],1)},Zg=[],Rg=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":480,persistent:""},on:{input:function(t){return e.$emit("input",t)}}},[s("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSave.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(e.newMacro.name.toUpperCase()))])]),e.newMacro.config.description?s("v-card-subtitle",{staticClass:"card-heading pb-2"},[e._v(" "+e._s(e.newMacro.config.description)+" ")]):e._e(),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.general.label.alias")}},[s("v-text-field",{attrs:{outlined:"",filled:"",dense:"","single-line":"","hide-details":""},model:{value:e.newMacro.alias,callback:function(t){e.$set(e.newMacro,"alias",t)},expression:"newMacro.alias"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.general.label.category")}},[s("v-select",{attrs:{items:e.categories,"hide-details":"",dense:"",filled:"","item-value":"id","item-text":"name"},model:{value:e.newMacro.categoryId,callback:function(t){e.$set(e.newMacro,"categoryId",t)},expression:"newMacro.categoryId"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.general.label.color")}},[s("app-btn",{staticClass:"mr-1",attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleResetColor}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")]),s("app-color-picker",{attrs:{title:e.$t("app.general.btn.set_color"),primary:e.color},on:{change:e.handleColorChange}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.general.label.disabled_while_printing")}},[s("v-switch",{staticClass:"mt-0 pt-0",attrs:{color:"primary","hide-details":""},model:{value:e.newMacro.disabledWhilePrinting,callback:function(t){e.$set(e.newMacro,"disabledWhilePrinting",t)},expression:"newMacro.disabledWhilePrinting"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.general.label.visible")}},[s("v-switch",{staticClass:"mt-0 pt-0",attrs:{color:"primary","hide-details":""},model:{value:e.newMacro.visible,callback:function(t){e.$set(e.newMacro,"visible",t)},expression:"newMacro.visible"}})],1),s("v-divider"),s("v-card-actions",{staticClass:"px-4"},[s("v-spacer"),s("app-btn",{attrs:{color:"warning",text:"",type:"button"},domProps:{innerHTML:e._s(e.$t("app.general.btn.cancel"))},on:{click:function(t){return e.$emit("input",!1)}}}),s("app-btn",{attrs:{color:"primary",type:"submit"},domProps:{innerHTML:e._s(e.$t("app.general.btn.save"))}})],1)],1)],1)],1)},Tg=[];let Lg=class extends c.w3{constructor(){super(...arguments),this.assign=null,this.valid=!1,this.newMacro=null}created(){this.newMacro={...this.macro}}onOpen(){this.newMacro={...this.macro}}get categories(){const e=[...this.$store.getters["macros/getCategories"]];return e.unshift({name:this.$t("app.general.label.uncategorized"),id:"0"}),e}get color(){const e=this.$store.getters["config/getTheme"];return this.newMacro&&""!==this.newMacro.color?this.newMacro.color:e.currentTheme.secondary}handleColorChange(e){this.newMacro&&(this.newMacro.color=e.color.hexString)}handleResetColor(){this.newMacro&&(this.newMacro.color="")}handleSave(){this.$store.dispatch("macros/saveMacro",this.newMacro),this.$emit("input",!1)}};(0,l.gn)([(0,c.fI)({type:Boolean,required:!0})],Lg.prototype,"value",void 0),(0,l.gn)([(0,c.fI)({type:Object,required:!0})],Lg.prototype,"macro",void 0),(0,l.gn)([(0,c.RL)("value")],Lg.prototype,"onOpen",null),Lg=(0,l.gn)([(0,c.wA)({})],Lg);var Dg=Lg,Ag=Dg,Ig=(0,C.Z)(Ag,Rg,Tg,!1,null,null,null),Vg=Ig.exports;S()(Ig,{VCard:Vt.Z,VCardActions:Y.h7,VCardSubtitle:Y.Qq,VCardTitle:Y.EB,VDialog:ls.Z,VDivider:vs.Z,VForm:fs.Z,VSelect:Ar.Z,VSpacer:et.Z,VSwitch:hc.Z,VTextField:tt.Z});var Mg=s(68313);const Fg=e=>{const t=e.params.categoryId,s=Mg.Z.getters["macros/getCategories"],r=s.findIndex((e=>e.id===t));return r>-1||"0"===t||{path:"/settings",hash:"macros"}};let Og=class extends c.w3{constructor(){super(...arguments),this.search="",this.categoryId=void 0,this.dialogState={open:!1,macro:null}}get macros(){const e=this.categoryId,t=this.$store.getters["macros/getMacrosByCategory"](e).filter((e=>!this.search||""===this.search||e.name.toLowerCase().includes(this.search.toLowerCase())));return t}get categories(){return this.$store.getters["macros/getCategories"]}get category(){return"0"===this.categoryId?{id:"0",name:this.$tc("app.general.label.uncategorized")}:this.categories.find((e=>e.id===this.categoryId))}beforeRouteEnter(e,t,s){s(Fg(e))}beforeRouteUpdate(e,t,s){s(Fg(e))}created(){this.search="",this.categoryId=this.$route.params.categoryId}handleBack(){this.$router.go(-1)}handleSettingsDialog(e){this.dialogState.macro=e,this.dialogState.open=!0}handleAllOn(){this.$store.dispatch("macros/saveAllOn",this.macros)}handleAllOff(){this.$store.dispatch("macros/saveAllOff",this.macros)}handleMacroVisible(e,t){const s={...e,visible:t};this.$store.dispatch("macros/saveMacro",s)}};Og=(0,l.gn)([(0,c.wA)({components:{MacroSettingsDialog:Vg}})],Og);var Bg=Og,Ng=Bg,Ug=(0,C.Z)(Ng,Eg,Zg,!1,null,null,null),Hg=Ug.exports;S()(Ug,{VCard:Vt.Z,VDivider:vs.Z,VIcon:P.Z,VSpacer:et.Z,VSubheader:bu.Z,VSwitch:hc.Z,VTextField:tt.Z});var jg=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown,justify:"center",align:"center"}},[s("v-col",[s("center",[s("div",{staticClass:"text-h5"},[e._v(" 404 Not Found ")]),s("app-btn",{staticClass:"mt-5",attrs:{to:"/"}},[e._v(" Return to the dashboard ")])],1)],1)],1)},Wg=[];let zg=class extends c.w3{};zg=(0,l.gn)([(0,c.wA)({})],zg);var qg=zg,Gg=qg,Yg=(0,C.Z)(Gg,jg,Wg,!1,null,null,null),Kg=Yg.exports;S()(Yg,{VCol:K.Z,VRow:Q.Z});var Xg=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown,justify:"center",align:"center"}},[s("v-col",{attrs:{cols:"12",md:"4",lg:"3",xl:"2"}},[s("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("div",{staticClass:"text-center"},[s("p",[e._v("Welcome back."),s("br"),e._v("Sign in below to stay in touch with your printer.")]),e.error?s("v-alert",{attrs:{type:"error"}},[e._v(" Invalid credentials ")]):e._e(),s("v-text-field",{staticClass:"mb-4",attrs:{label:"Username",autocomplete:"username",filled:"",dense:"","hide-details":"auto",disabled:e.loading},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{staticClass:"mb-4",attrs:{label:"Password",autocomplete:"current-password",filled:"",dense:"",type:"password","hide-details":"auto",disabled:e.loading},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("app-btn",{staticClass:"mb-6",attrs:{type:"submit",disabled:e.loading,large:"",block:""}},[e.loading?s("v-icon",{staticClass:"spin mr-2"},[e._v(" $loading ")]):e._e(),e._v(" Login ")],1),s("app-btn",{staticClass:"custom-transform-class text-none",attrs:{color:"",plain:"",href:e.$globals.DOCS_AUTH_LOST_PASSWORD,target:"_blank"}},[e._v(" Forgotten your password? ")]),s("app-btn",{staticClass:"custom-transform-class text-none",attrs:{color:"",plain:"",href:e.$globals.DOCS_AUTH,target:"_blank"}},[e._v(" Unsure why you're seeing this? ")])],1)])],1)],1)},Jg=[],Qg=s(9696),ev=s(44652),tv=s.n(ev);let sv=class extends c.w3{constructor(){super(...arguments),this.username="",this.password="",this.valid=!0,this.error=!1,this.loading=!1}async handleLogin(){this.error=!1,this.loading=!0;try{await this.$store.dispatch("auth/login",{username:this.username,password:this.password})}catch(e){this.error=!0}if(this.loading=!1,!this.error){const e=this.$store.getters["config/getCurrentInstance"];(0,Qg.J)(e,this.$store.state.config.hostConfig).then((e=>{e.apiConnected&&e.apiAuthenticated&&(tv().debug("Activating socket with config",e),this.$socket.connect(e.apiConfig.socketUrl))}))}}};sv=(0,l.gn)([(0,c.wA)({})],sv);var rv=sv,av=rv,iv=s(35098),nv=(0,C.Z)(av,Xg,Jg,!1,null,"7e34046a",null),ov=nv.exports;S()(nv,{VAlert:iv.Z,VCol:K.Z,VForm:fs.Z,VIcon:P.Z,VRow:Q.Z,VTextField:tt.Z});var lv=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[s("v-col",{attrs:{cols:"12"}},[s("h1",[e._v("All configured icons")]),e._l(e.icons,(function(t){return s("v-tooltip",{key:t,staticClass:"d-inline-block",attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(r){var a=r.attrs,i=r.on;return[s("v-icon",e._g(e._b({staticClass:"ma-2"},"v-icon",a,!1),i),[e._v(" $"+e._s(t)+" ")])]}}],null,!0)},[e._v(" "+e._s(t)+" ")])}))],2)],1)},cv=[];let dv=class extends((0,c.Wr)(d.Z)){get icons(){return Object.keys(Ce.PJ)}};dv=(0,l.gn)([(0,c.wA)({})],dv);var pv=dv,uv=pv,mv=(0,C.Z)(uv,lv,cv,!1,null,null,null),hv=mv.exports;S()(mv,{VCol:K.Z,VIcon:P.Z,VRow:Q.Z,VTooltip:E.Z}),a["default"].use(i.Z);const gv=(e,t,s)=>{var r;!Mg.Z.getters["auth/getAuthenticated"]&&(null===(r=Mg.Z.state.socket)||void 0===r?void 0:r.apiConnected)?s("/login"):s()},vv=[{path:"/",name:"Dashboard",component:ol,beforeEnter:gv},{path:"/console",name:"Console",component:hl,beforeEnter:gv},{path:"/jobs",name:"Jobs",component:xl,beforeEnter:gv},{path:"/tune",name:"Tune",component:xc,beforeEnter:gv},{path:"/timelapse",name:"Timelapse",component:Zd,beforeEnter:gv},{path:"/history",name:"History",component:Kc,beforeEnter:gv},{path:"/system",name:"System",component:iu,beforeEnter:gv},{path:"/configure",name:"Configuration",component:Fp,beforeEnter:gv},{path:"/settings",name:"Settings",beforeEnter:gv,meta:{hasSubNavigation:!0},components:{default:Sg,navigation:Pg["default"]},children:[{path:"/settings/macros/:categoryId",name:"Macros",meta:{hasSubNavigation:!0},components:{default:Hg,navigation:Pg["default"]}}]},{path:"/login",name:"Login",component:ov,meta:{fillHeight:!0}},{path:"/icons",name:"Icons",component:hv},{path:"*",name:"404",component:Kg}],fv=new i.Z({base:"/",routes:vv,scrollBehavior:(e,t,s)=>s||(e.hash?{selector:e.hash,offset:{x:0,y:60},behavior:"smooth"}:{x:0,y:0})});var _v=fv},85947:function(e,t,s){"use strict";s.d(t,{vc:function(){return _},W2:function(){return g},SB:function(){return v}});var r=s(92101),a=s(67350);const i={getCurrentInstance:e=>e.instances.find((e=>e.active)),getInstances:e=>{const t=[...e.instances];return t.sort(((e,t)=>e.active?-1:t.active?1:0)),t},getHostConfig:e=>e.hostConfig,getTempPresets:(e,t,s,r)=>{const a=e.uiSettings.dashboard.tempPresets,i=[],n=r["printer/getHeaters"],o=r["printer/getOutputs"](["temperature_fan"]);return a.forEach((e=>{const t={...e,values:{}};n.forEach((s=>{e.values[s.name]?t.values[s.name]={...e.values[s.name]}:t.values[s.name]={value:0,type:"heater",active:!1}})),o.forEach((s=>{e.values[s.name]?t.values[s.name]={...e.values[s.name]}:t.values[s.name]={value:0,type:"fan",active:!1}})),i.push(t)})),i.sort(((e,t)=>e.name.localeCompare(t.name)))},getTheme:e=>{const t=r.Z.framework.theme,s=e.uiSettings.theme,i={...e.uiSettings.theme,currentTheme:{...t.currentTheme,...s.currentTheme}};for(const r in i.currentTheme)i.currentTheme[r+"Offset"]=(0,a.ZP)(s.currentTheme.primary).desaturate(5).darken(10).toHexString();return i},getDefaultThemePreset:e=>e.hostConfig.themePresets.length>0?e.hostConfig.themePresets[0]:{name:"Fluidd",logo:{src:"/logo_fluidd.svg",changeWithTheme:!0},color:"#2196F3"},getCurrentThemePreset:(e,t)=>{const s=e.hostConfig.themePresets,r=t.getTheme;return s.find((e=>e.logo.src===r.logo.src))},getMergedTableHeaders:(e,t)=>(e,s)=>{const r=t.getConfiguredTableHeaders(s);if(!r)return e;const a=[];return e.forEach((e=>{const t=e.key?"key":"value",s={visible:!0,configurable:!1,...e,...r.find((s=>s[t]===e[t]))};a.push(s)})),a},getConfiguredTableHeaders:e=>t=>e.uiSettings.tableHeaders[t]};var n=s(63362),o=s(22555),l=s(47307);const c={async reset({commit:e}){e("setReset")},async initUiSettings({commit:e,dispatch:t,state:s},a){e("setInitUiSettings",a),s.uiSettings.theme&&(r.Z.framework.theme.dark=s.uiSettings.theme.isDark,r.Z.framework.theme.currentTheme.primary=s.uiSettings.theme.currentTheme.primary),a.general&&a.general.locale&&t("onLocaleChange",a.general.locale)},async onLocaleChange({dispatch:e,state:t},s){e("wait/addWait",l.hw.onLoadLanguage,{root:!0});const r=(0,o.Vf)(),a="default"!==s?await(0,o.ld)(s):await(0,o.ld)(r);t.uiSettings.general.locale!==s&&e("saveByPath",{path:"uiSettings.general.locale",value:"default"!==s?a:s,server:!0}),e("wait/removeWait",l.hw.onLoadLanguage,{root:!0})},async initHost({commit:e},t){e("setInitHostConfig",t.hostConfig)},async initLocal({commit:e},t){e("setInitInstances",t)},async onInitApiConfig({commit:e},t){e("setInitApiConfig",t)},async removeInstance({commit:e},t){e("setRemoveInstance",t)},async updateInstance({commit:e,dispatch:t,state:s,getters:r},a){t("saveByPath",{path:"uiSettings.general.instanceName",value:a,server:!0});let i=r.getCurrentInstance;i&&(i={...i,name:s.uiSettings.general.instanceName},e("setUpdateInstanceName",i))},async saveByPath({commit:e},t){e("setSaveByPath",t),t.server&&n.r.serverWrite(t.path,t.value)},async updatePreset({commit:e,state:t},s){e("setPreset",s),n.r.serverWrite("uiSettings.dashboard.tempPresets",t.uiSettings.dashboard.tempPresets)},async removePreset({commit:e,state:t},s){e("setRemovePreset",s),n.r.serverWrite("uiSettings.dashboard.tempPresets",t.uiSettings.dashboard.tempPresets)},async updateHeader({commit:e,state:t},s){e("setUpdateHeader",s),t.uiSettings.tableHeaders[s.name]&&n.r.serverWrite(`uiSettings.tableHeaders.${s.name}`,t.uiSettings.tableHeaders[s.name])}};var d=s(20144),p=s(72744),u=s(30560),m=s(25934);const h={setReset(e){Object.assign(e,g())},setInitUiSettings(e,t){if(t){const s=(0,p.Z)(e.uiSettings,t);t.general&&t.general.zAdjustDistances&&d["default"].set(s.general,"zAdjustDistances",t.general.zAdjustDistances),t.general&&t.general.toolheadMoveDistances&&d["default"].set(s.general,"toolheadMoveDistances",t.general.toolheadMoveDistances),t.editor&&t.editor.autoEditExtensions&&d["default"].set(s.editor,"autoEditExtensions",t.editor.autoEditExtensions),d["default"].set(e,"uiSettings",s)}},setInitApiConfig(e,t){e.apiUrl=t.apiUrl,e.socketUrl=t.socketUrl,t.name&&""!==t.name&&(e.uiSettings.general.instanceName=t.name)},setInitHostConfig(e,t){if(e.hostConfig.blacklist=t.blacklist,e.hostConfig.endpoints=t.endpoints,e.hostConfig.hosted=t.hosted,e.hostConfig.themePresets=t.themePresets,t.themePresets&&t.themePresets.length>=1){const s=t.themePresets[0];d["default"].set(e.uiSettings,"theme",{isDark:s.isDark,logo:s.logo,currentTheme:{primary:s.color},...e.uiSettings.theme})}},setInitInstances(e,t){let s=[];const r=t.apiConfig,a=e.uiSettings;l.OH.LOCAL_INSTANCES_STORAGE_KEY in localStorage&&(s=JSON.parse(localStorage[l.OH.LOCAL_INSTANCES_STORAGE_KEY]));const i=s.findIndex((e=>e.apiUrl===t.apiConfig.apiUrl));-1===i?(a||null===a)&&r&&""!==r.apiUrl&&""!==r.socketUrl&&(s.forEach((e=>{e.active=!1})),s.push({...r,active:!0,name:e.uiSettings.general.instanceName})):s.forEach(((t,s)=>{t.active=s===i,s===i&&""!==t.name&&(t.name=e.uiSettings.general.instanceName)})),localStorage.setItem(l.OH.LOCAL_INSTANCES_STORAGE_KEY,JSON.stringify(s)),d["default"].set(e,"instances",s)},setUpdateInstanceName(e,t){const s=e.instances.findIndex((e=>e.apiUrl===t.apiUrl));if(s>-1){const r=e.instances[s];d["default"].set(e.instances,s,{...r,...t})}localStorage.setItem(l.OH.LOCAL_INSTANCES_STORAGE_KEY,JSON.stringify(e.instances))},setRemoveInstance(e,t){const s=e.instances,r=s.findIndex((e=>e.apiUrl===t.apiUrl));r>=0&&(s.splice(r,1),d["default"].set(e,"instances",s),localStorage.setItem(l.OH.LOCAL_INSTANCES_STORAGE_KEY,JSON.stringify(s)))},setSaveByPath(e,t){(0,u.Z)(e,t.path,t.value)},setPreset(e,t){if(-1===t.id)t.id=(0,m.Z)(),e.uiSettings.dashboard.tempPresets.push(t);else{const s=e.uiSettings.dashboard.tempPresets.findIndex((e=>e.id===t.id));s>=0&&d["default"].set(e.uiSettings.dashboard.tempPresets,s,t)}},setRemovePreset(e,t){const s=e.uiSettings.dashboard.tempPresets.findIndex((e=>e.id===t.id));e.uiSettings.dashboard.tempPresets.splice(s,1)},setLayoutMode(e,t){e.layoutMode=t},setUpdateHeader(e,t){const s=t.header,r=s.key?"key":"value",a=s[r],i=e.uiSettings.tableHeaders[t.name];if(i){const e=i.findIndex((e=>e[r]===a));if(e>=0)d["default"].set(i,e,{...i[e],visible:s.visible});else{const e={value:s.value,visible:s.visible};"key"===r&&(e.key=s.key),i.push(e)}}}},g=()=>({apiUrl:"",socketUrl:"",layoutMode:!1,hostConfig:{endpoints:[],blacklist:[],hosted:!1,locales:[{name:"English",code:"en"},{name:"Čeština",code:"cz"},{name:"简体中文",code:"cn"},{name:"繁體中文",code:"zh-HK"},{name:"Deutsch",code:"de"},{name:"Español",code:"es"},{name:"Français",code:"fr"},{name:"Italiano",code:"it"},{name:"Magyar",code:"hu"},{name:"Nederlands",code:"nl"},{name:"Português",code:"pt"},{name:"Русский",code:"ru"},{name:"Українська",code:"uk"},{name:"한국어",code:"ko"},{name:"العربية",code:"ar"},{name:"日本語",code:"ja"}],themePresets:[]},instances:[],uiSettings:{general:{instanceName:l.OH.APP_NAME,locale:"en",chartVisible:!0,hideTempWaits:!0,axis:{x:{inverted:!1},y:{inverted:!1},z:{inverted:!1}},defaultExtrudeLength:10,defaultExtrudeSpeed:5,defaultToolheadMoveLength:1,defaultToolheadXYSpeed:130,defaultToolheadZSpeed:10,toolheadMoveDistances:[.1,1,10,25,50,100],useGcodeCoords:!1,zAdjustDistances:[.005,.01,.025,.05],enableVersionNotifications:!0,confirmOnEstop:!1,confirmOnPowerDeviceChange:!1,dateformat:"MMM. DD,",timeformat:"hh:mm a",showRateOfChange:!1,showRelativeHumidity:!0,showBarometricPressure:!0,flipConsoleLayout:!1},theme:{isDark:!0,logo:{src:"/logo_fluidd.svg",dynamic:!0},currentTheme:{primary:"#2196F3"}},editor:{confirmDirtyEditorClose:!0,autoEditExtensions:[".cfg",".conf",".ini",".log",".md",".sh",".txt"]},dashboard:{tempPresets:[]},tableHeaders:{gcodes_dashboard:[{value:"first_layer_extr_temp",visible:!1},{value:"first_layer_bed_temp",visible:!1},{value:"history.total_duration",visible:!1},{value:"history.print_duration",visible:!1},{value:"estimated_time",visible:!1},{value:"slicer_version",visible:!1},{value:"slicer",visible:!1},{value:"history.filament_used",visible:!1},{value:"filament_total",visible:!1},{value:"filament_weight_total",visible:!1},{value:"object_height",visible:!1},{value:"first_layer_height",visible:!1},{value:"layer_height",visible:!1}],gcodes_jobs:[{value:"first_layer_height",visible:!1},{value:"history.filament_used",visible:!1},{value:"slicer_version",visible:!1},{value:"history.print_duration",visible:!1},{value:"first_layer_extr_temp",visible:!1},{value:"first_layer_bed_temp",visible:!1}],history:[{value:"print_duration",visible:!1},{value:"filament_used",visible:!1}]},gcodePreview:{extrusionLineWidth:.3,moveLineWidth:.1,retractionIconSize:.6,drawBackground:!0,showAnimations:!0,groupLowerLayers:!1,flip:{horizontal:!1,vertical:!0}}}}),v=g(),f=!0,_={namespaced:f,state:v,getters:i,actions:c,mutations:h}},65620:function(e,t,s){"use strict";var r;s.d(t,{T:function(){return r}}),function(e){e[e["Contains"]=0]="Contains",e[e["StartsWith"]=1]="StartsWith",e[e["Expression"]=2]="Expression"}(r||(r={}))},82446:function(e,t,s){"use strict";s.d(t,{fM:function(){return l},jB:function(){return n},sl:function(){return i},ur:function(){return o}});var r=s(63362),a=s(68313);const i=(e,t)=>void 0!==e[t],n=(e,t,s=!0)=>{var r;const i=null===(r=a.Z.state.config)||void 0===r?void 0:r.apiUrl;if(e.length){let r;if(e&&(r=s?e.reduce(((e,t)=>e.size&&t.size&&e.size>t.size?e:t)):e.reduce(((e,t)=>e.size&&t.size&&e.size<t.size?e:t)),r)){if(r.relative_path&&r.relative_path.length>0){const e=new URL(null!==i&&void 0!==i?i:document.location.origin);return e.pathname=""===t?`/server/files/gcodes/${encodeURI(r.relative_path)}`:`/server/files/gcodes/${encodeURI(t)}/${encodeURI(r.relative_path)}`,{...r,absolute_path:e.toString()}}if(r.data)return{...r,data:"data:image/gif;base64,"+r.data};if(r.absolute_path)return r}}},o=e=>{var t,s,r;"print_stats"in e&&"state"in e.print_stats&&("standby"===(null===(t=a.Z.state.printer)||void 0===t?void 0:t.printer.print_stats.state)&&"printing"===e.print_stats.state?a.Z.dispatch("printer/onPrintStart",e):("printing"===(null===(s=a.Z.state.printer)||void 0===s?void 0:s.printer.print_stats.state)&&"complete"===e.print_stats.state||"printing"===(null===(r=a.Z.state.printer)||void 0===r?void 0:r.printer.print_stats.state)&&"standby"===e.print_stats.state)&&a.Z.dispatch("printer/onPrintEnd",e))},l=e=>{var t;"print_stats"in e&&"filename"in e.print_stats&&e.print_stats.filename!==(null===(t=a.Z.state.printer)||void 0===t?void 0:t.printer.print_stats.filename)&&(a.Z.commit("printer/setResetCurrentFile"),""!==e.print_stats.filename&&null!==e.print_stats.filename&&r.r.serverFilesMetaData(e.print_stats.filename))}},68313:function(e,t,s){"use strict";s.d(t,{Z:function(){return ds}});var r=s(20144),a=s(20629),i=s(44652),n=s.n(i);const o={getConnectionState:e=>e.open,getConnectingState:e=>e.connecting,getApiConnected:e=>e.apiConnected};var l=s(47307),c=s(63362),d=s(7499),p=s(58939),u=s(90504);let m;const h={async reset({commit:e}){e("setReset")},async onSocketOpen({commit:e},t){e("setSocketOpen",t),!0===t&&(c.r.serverInfo(),c.r.identify())},async onSocketClose({dispatch:e,commit:t,state:s},a){const i=s.disconnecting,n=["server","charts","socket","wait"];a.wasClean&&i&&(await e("reset",n,{root:!0}),t("setSocketConnecting",!0),r["default"].$socket.connect()),a.wasClean&&!i&&(t("setSocketConnecting",!1),t("setSocketOpen",!1)),a.wasClean||(await e("reset",n,{root:!0}),t("setSocketConnecting",!0),t("setSocketOpen",!1))},async onSocketConnecting({commit:e},t){e("setSocketConnecting",t)},async onSocketError({commit:e},t){if(t.code>=400&&t.code<500){let e="";try{e=JSON.parse(t.message.replace(/'/g,'"')).message}catch(s){e=t.message}d.N.$emit(e,{type:d.o.error})}503===t.code&&(e("printer/setPrinterInfo",{state:"error",state_message:t.message},{root:!0}),clearTimeout(m),m=window.setTimeout((()=>{c.r.serverInfo()}),l.OH.KLIPPY_RETRY_DELAY))},async onConnectionId({commit:e},{connection_id:t}){e("setConnectionId",t)},async notifyStatusUpdate({state:e,commit:t,dispatch:s},r){s("printer/onNotifyStatusUpdate",r,{root:!0}).then((()=>{e.ready||t("setSocketReadyState",!0)}))},async notifyGcodeResponse({dispatch:e},t){e("console/onAddConsoleEntry",{message:`${l.OH.CONSOLE_RECEIVE_PREFIX}${t}`},{root:!0})},async notifyKlippyDisconnected(){c.r.serverInfo()},async notifyKlippyShutdown(){c.r.serverInfo()},async notifyKlippyReady(){n().debug("Klippy Ready")},async notifyFilelistChanged({dispatch:e},t){e("files/notify"+(0,p.Z)((0,u.Z)(t.action)),t,{root:!0})},async notifyMetadataUpdate({dispatch:e},t){e("files/onFileMetaData",t,{root:!0})},async notifyPowerChanged({dispatch:e},t){e("power/onStatus",{[t.device]:t.status},{root:!0})},async notifyUpdateResponse({dispatch:e},t){e("version/onUpdateResponse",t,{root:!0})},async notifyUpdateRefreshed({dispatch:e},t){e("version/onUpdateStatus",t,{root:!0})},async notifyHistoryChanged({dispatch:e},t){e("history/onHistoryChange",t,{root:!0})},async notifyCpuThrottled({dispatch:e},t){e("server/onMachineThrottledState",t,{root:!0})},async notifyProcStatUpdate({dispatch:e},t){e("server/onMachineProcStats",t,{root:!0})},async notifyUserCreated({dispatch:e},t){e("auth/onUserCreated",t,{root:!0})},async notifyUserDeleted({dispatch:e},t){e("auth/onUserDeleted",t,{root:!0})},async notifyServiceStateChanged({dispatch:e},t){e("server/onServiceStateChanged",t,{root:!0})},async notifyTimelapseEvent({dispatch:e},t){e("timelapse/onEvent",t,{root:!0})},async notifyAnnouncementUpdate({dispatch:e},t){e("announcements/onAnnouncementUpdate",t,{root:!0})},async notifyAnnouncementDismissed({dispatch:e},t){e("announcements/onAnnouncementDismissed",t,{root:!0})},async notifyAnnouncementWake({dispatch:e},t){e("announcements/onAnnouncementWake",t,{root:!0})}},g={setReset(e){Object.assign(e,v())},setSocketOpen(e,t){e.open!==t&&(e.open=t),e.disconnecting&&(e.disconnecting=!1)},setSocketConnecting(e,t){e.connecting!==t&&(e.connecting=t)},setSocketReadyState(e,t){e.ready=t},setAcceptNotifications(e,t){e.acceptingNotifications=t},setSocketDisconnecting(e,t){e.disconnecting=t},setApiConnected(e,t){e.apiConnected=t},setConnectionId(e,t){e.connectionId=t}},v=()=>({apiConnected:!0,open:!1,connecting:!1,disconnecting:!1,ready:!1,acceptingNotifications:!1,error:null,connectionId:null}),f=v(),_=!0,y={namespaced:_,state:f,getters:o,actions:h,mutations:g},b={getAuthenticated:e=>e.authenticated,getCurrentUser:e=>e.currentUser,getUsers:e=>e.users,getToken:e=>e.token,getRefreshToken:e=>e.refresh_token,getApiKey:e=>e.apiKey};var x=s(70691),$=s(77218),w=s(2568),C=s.n(w);const k=()=>{var e;const t=null===(e=ds.state.config)||void 0===e?void 0:e.apiUrl,s=t?C()(t):"";return{"user-token":`user-token-${s}`,"refresh-token":`refresh-token-${s}`}};var S=s(82974);const P={async reset({commit:e}){e("setReset")},async init({commit:e}){await x.i.getCurrentUser().then((e=>e.data.result)).then((t=>e("setCurrentUser",t))),await x.i.getUsers().then((e=>e.data.result.users)).then((t=>e("setUsers",t))),await x.i.getApiKey().then((e=>e.data.result)).then((t=>e("setApiKey",t)))},async initAuth({commit:e,rootState:t}){var s;if(""===(null===(s=t.config)||void 0===s?void 0:s.apiUrl))return void e("setAuthenticated",!0);const r=k(),a=localStorage.getItem(r["refresh-token"]),i=localStorage.getItem(r["user-token"]);i&&a?(e("setToken",i),e("setRefreshToken",a),$.Z.defaults.headers.common.Authorization=`Bearer ${i}`):delete $.Z.defaults.headers.common.Authorization},async checkToken({state:e}){var t;if(null===(t=e.token)||void 0===t?void 0:t.exp){const t=e.token.exp,s=Date.now()/1e3,a=t-s<300;return!!a&&(n().debug("checkToken - isExpiring",r["default"].$dayjs(1e3*s),r["default"].$dayjs(1e3*t)),!0)}return!1},async refreshTokens({commit:e}){const t=k(),s=localStorage.getItem(t["refresh-token"]);return $.Z.post("/access/refresh_jwt",{refresh_token:s},{withAuth:!1}).then((e=>e.data.result)).then((s=>(localStorage.setItem(t["user-token"],s.token),e("setToken",s.token),$.Z.defaults.headers.common.Authorization=`Bearer ${s.token}`,Promise.resolve(s.token)))).catch((()=>Promise.resolve()))},async login({commit:e},t){const s=k();return x.i.login(t.username,t.password).then((e=>e.data.result)).then((t=>(localStorage.setItem(s["user-token"],t.token),localStorage.setItem(s["refresh-token"],t.refresh_token),$.Z.defaults.headers.common.Authorization=`Bearer ${t.token}`,e("setAuthenticated",!0),e("setCurrentUser",t.username),e("setToken",t.token),e("setRefreshToken",t.refresh_token),Promise.resolve(t)))).catch((e=>(localStorage.removeItem(s["user-token"]),localStorage.removeItem(s["refresh-token"]),delete $.Z.defaults.headers.common.Authorization,Promise.reject(e))))},async logout({commit:e},t){const s={invalidate:!1,partial:!1,...t},a=k();s.invalidate&&await x.i.logout(),localStorage.removeItem(a["user-token"]),localStorage.removeItem(a["refresh-token"]),delete $.Z.defaults.headers.common.Authorization,e("setCurrentUser",null),e("setToken",null),e("setRefreshToken",null),s.partial||(r["default"].$socket&&r["default"].$socket.close(),e("setAuthenticated",!1),"/login"!==S.Z.currentRoute.path&&S.Z.push("/login"))},async checkTrust({dispatch:e,commit:t}){const s=k(),r=localStorage.getItem(s["user-token"]);delete $.Z.defaults.headers.common.Authorization,await x.i.getCurrentUser({withAuth:!1}).then((s=>{$.Z.defaults.headers.common.Authorization=`Bearer ${r}`,e("logout",{partial:!0}),t("setCurrentUser",s.data.result)})).catch((()=>{e("logout")}))},async addUser(e,t){return x.i.addUser(t).then((()=>Promise.resolve(t)))},async removeUser(e,t){return x.i.removeUser(t).then((()=>Promise.resolve(t)))},async onUserCreated({commit:e},t){e("setAddUser",t)},async onUserDeleted({commit:e},t){e("setRemoveUser",t)},async refreshApiKey({commit:e}){return x.i.refreshApiKey().then((e=>e.data.result)).then((t=>e("setApiKey",t)))}};var E=s(96245);const Z={setReset(e){Object.assign(e,R())},setCurrentUser(e,t){e.currentUser=t},setToken(e,t){e.token=t?(0,E.Z)(t):null},setRefreshToken(e,t){e.refresh_token=t?(0,E.Z)(t):null},setAuthenticated(e,t){e.authenticated=t},setUsers(e,t){e.users=t},setAddUser(e,t){e.users.push(t)},setRemoveUser(e,t){const s=e.users.findIndex((e=>e.username===t.username));s>=0&&e.users.splice(s,1)},setApiKey(e,t){e.apiKey=t}},R=()=>({authenticated:!1,token:null,refresh_token:null,currentUser:null,users:[],apiKey:""}),T=R(),L=!0,D={namespaced:L,state:T,getters:b,actions:P,mutations:Z},A={getInfo:e=>e.info,getSystemInfo:e=>e.system_info,getConfig:e=>e.config,getProcessStats:e=>e.moonraker_stats,componentSupport:e=>t=>e.info.components.includes(t),getServices:e=>{var t,s;const r=(null===(t=e.system_info)||void 0===t?void 0:t.available_services)||[],a=(null===(s=e.system_info)||void 0===s?void 0:s.service_state)||{},i=[...r].sort().map((e=>e in a?{name:e,...a[e]}:{name:e}));return i},getConfigMapByFilename:(e,t)=>e=>{const s=l.OH.CONFIG_SERVICE_MAP;let r=s.find((t=>{var s;return(null===(s=t.filename)||void 0===s?void 0:s.toLowerCase())===e.toLowerCase()}));return r||(r=s.find((t=>t.prefix&&e.toLowerCase().startsWith(t.prefix.toLowerCase())))),r||(r=s.find((t=>t.suffix&&e.endsWith(t.suffix.toLowerCase())))),r?{serviceSupported:t.getServices.some((e=>e.name===(null===r||void 0===r?void 0:r.service))),...r}:{}}};let I;const V={async reset({commit:e}){e("setReset")},async initComponents({dispatch:e},t){if(t.components&&t.components.length>0){const s=l.OH.MOONRAKER_COMPONENTS;for(const r in s){const a=s[r];t.components.includes(a.name)&&e(a.dispatch,void 0,{root:!0})}}},async onServerInfo({commit:e,dispatch:t,state:s},r){c.r.printerInfo(),c.r.serverConfig(),c.r.machineProcStats(),c.r.machineSystemInfo(),e("setServerInfo",r),"ready"!==r.klippy_state?(0===s.klippy_retries&&t("initComponents",r),e("setKlippyRetries",s.klippy_retries+1),clearTimeout(I),I=window.setTimeout((()=>{c.r.serverInfo()}),l.OH.KLIPPY_RETRY_DELAY)):(e("setKlippyRetries",0),t("initComponents",r),c.r.printerObjectsList())},async onServerConfig({commit:e},t){t.config&&e("setServerConfig",t.config)},async onMachineProcStats({commit:e,dispatch:t},s){if(s&&s.throttled_state&&await t("onMachineThrottledState",s.throttled_state),e("setMoonrakerStats",s),s.moonraker_stats&&"cpu_usage"in s.moonraker_stats&&!Array.isArray(s.moonraker_stats)){const t=s.moonraker_stats;t.cpu_usage<=100&&e("charts/setChartEntry",{type:"moonraker",retention:600,data:{date:new Date(1e3*t.time),load:t.cpu_usage.toFixed(2)}},{root:!0})}},async onMachineSystemInfo({commit:e},t){e("setSystemInfo",t)},async onServiceStateChanged({commit:e},t){e("setServiceState",t)},async onMachineThrottledState({commit:e,dispatch:t,state:s},r){r&&(r&&r.flags.length>0&&r.flags.forEach((e=>{if(s.throttled_state&&!s.throttled_state.flags.includes(e)){const r=e.toLowerCase().startsWith("previously");let a={id:e,title:e,description:"This may lead to a throttle condition and result in a failed print",to:"https://www.raspberrypi.com/documentation/computers/raspberry-pi.html#frequency-management-and-thermal-control",type:r?"info":"error",snackbar:!r,merge:!0,clear:!r,noCount:r};"Temperature Limit Active"!==e&&"Frequency Capped"!==e||!s.cpu_temp||(a={...a,suffix:`${s.cpu_temp.toFixed(0)}<small>°C</small>`,suffixIcon:"$tempError"}),r||(a={...a,description:"This may lead to a failed print"}),t("notifications/pushNotification",a,{root:!0})}})),e("setMoonrakerStats",{throttled_state:r}))}},M={setReset(e){Object.assign(e,F())},setServerInfo(e,t){r["default"].set(e,"info",t)},setSystemInfo(e,t){t.system_info&&r["default"].set(e,"system_info",t.system_info)},setServiceState(e,t){var s;t&&Object.assign(null===(s=e.system_info)||void 0===s?void 0:s.service_state,t)},setServerConfig(e,t){e.config={...e.config,...t}},setMoonrakerStats(e,t){if(t.cpu_temp&&r["default"].set(e,"cpu_temp",t.cpu_temp),t.throttled_state&&(e.throttled_state={...e.throttled_state,...t.throttled_state}),t.moonraker_stats&&Array.isArray(t.moonraker_stats))r["default"].set(e,"moonraker_stats",t.moonraker_stats);else if(e.moonraker_stats){e.moonraker_stats.push(t.moonraker_stats);while(e.moonraker_stats.length>30)e.moonraker_stats.splice(0,1)}},setKlippyRetries(e,t){e.klippy_retries=t}},F=()=>({klippy_retries:0,info:{failed_components:[],klippy_connected:!1,klippy_state:"",components:[],registered_directories:[],warnings:[]},system_info:null,config:{authorization:{enabled:!0},server:{}},moonraker_stats:[],throttled_state:{bits:0,flags:[]},cpu_temp:null}),O=F(),B=!0,N={namespaced:B,state:O,getters:A,actions:V,mutations:M};var U=s(72129),H=s(16434);const j={getklippyReady:(e,t,s,r)=>{const a=r["server/getInfo"],i=a.klippy_state||"",n=a.klippy_connected||!1;return!("ready"!==i||!n)},getKlippyState:(e,t,s,a)=>{const i=a["server/getInfo"],n=i.klippy_state||"";return r["default"].$filters.capitalize(n)},getKlippyStateMessage:(e,t,s,r)=>{const a=/(?:\r\n|\r|\n)/g,i=r["server/getInfo"];return!1===i.klippy_connected?"Klippy not connected.":e.printer.info.state_message&&""!==e.printer.info.state_message?e.printer.info.state_message.trim().replace(a,"<br />"):e.printer.webhooks.state_message&&""!==e.printer.webhooks.state_message?e.printer.webhooks.state_message.trim().replace(a,"<br />"):"Unknown"},getPrinterState:e=>{const t=e.printer.idle_timeout.state,s=e.printer.print_stats.state;return t&&s?"paused"===s.toLowerCase()||"cancelled"===s.toLowerCase()?s.toLowerCase():"printing"===t.toLowerCase()&&"printing"!==s.toLowerCase()?"busy":t.toLowerCase():"loading"},getPrintProgress:e=>{var t,s,r;const{gcode_start_byte:a,gcode_end_byte:i,filename:n}=null!==(t=e.printer.current_file)&&void 0!==t?t:{},{file_position:o}=null!==(s=e.printer.virtual_sdcard)&&void 0!==s?s:{};if(a&&i&&o&&n===(null===(r=e.printer.print_stats)||void 0===r?void 0:r.filename)){if(o<=a)return 0;if(o>=i)return 1;const e=o-a,t=i-a;if(e>0&&t>0)return e/t}return e.printer.display_status.progress||0},getTimeEstimates:(e,t)=>{const s=t.getPrintProgress,r=Math.floor(Date.now()/1e3),a="print_stats"in e.printer&&"print_duration"in e.printer.print_stats?e.printer.print_stats.print_duration:0,i=e.printer.gcode_move.speed_factor||1;let n=0,o=0,l=0;s>0&&a>0&&(n=a/s,o=(n-a)/i,l=r+o);let c=0,d=0,p=0;"current_file"in e.printer&&"history"in e.printer.current_file&&"completed"===e.printer.current_file.history.status&&(c=e.printer.current_file.history.total_duration,d=(c-a)/i,p=r+d);let u=0,m=0,h=0;"current_file"in e.printer&&"estimated_time"in e.printer.current_file&&(u=e.printer.current_file.estimated_time,m=(u-a)/i,h=r+m);let g=l;return h>0&&(g=h),p>0&&(g=p),{progress:(100*s).toFixed(),duration:a,slicer:m,file:o,actual:d,eta:g}},getSystemStats:e=>e.printer.system_stats,getMcus:e=>{const t=[];return Object.keys(e.printer).filter((e=>e.startsWith("mcu"))).sort().forEach((s=>{t.push({name:s,...e.printer[s]})})),t},getExtruders:e=>{const t=[];return Object.keys(e.printer).filter((e=>e.startsWith("extruder"))).sort().forEach((e=>{if("extruder"===e)t.push({name:"Extruder 0",key:e});else{const s=e.match(/\d+$/);s&&t.push({name:"Extruder "+s[0],key:e})}})),t},getActiveExtruder:(e,t)=>{const s=e.printer.toolhead.extruder||"extruder";return t.getExtruderByName(s)},getExtruderByName:(e,t)=>s=>{const r=e.printer[s]||void 0,a=t.getPrinterSettings(s);if(!r||!a)return{};const{min_extrude_temp:i}="extruder"===s?a:t.getPrinterSettings("extruder");return{min_extrude_temp:i,...a,...r,config_pressure_advance:a.pressure_advance,config_smooth_time:a.pressure_advance_smooth_time}},getHomedAxes:e=>t=>{if(t&&t.length>0){let s=!1;const r=t.split("");return r.forEach((t=>{s=e.printer.toolhead.homed_axes.includes(t)})),s}return!1},getRunoutSensors:e=>{const t=["filament_switch_sensor","filament_motion_sensor"],s=[];for(const r in e.printer){const a=r.split(" ");if(t.includes(a[0])){const t=a.length>1?a[1]:r,i=(0,U.Z)(e.printer,r,void 0);s.push({name:t,...i})}}return s},getEndstops:e=>{const t={};return Object.keys(e.printer.endstops).sort().forEach((s=>{t[s]=e.printer.endstops[s]})),t},getHeaters:(e,t)=>{const s=e.printer.heaters.available_heaters||[];if(s.length){const a=[];return s.forEach((s=>{const i=e.printer[s];if(i&&Object.keys(i).length>0){const e=t.getPrinterSettings(s),n=["heater_generic"];let o=s;const l=s.split(" ");l.length>1&&n.includes(l[0])&&(l.shift(),o=l.join(" "));const c=r["default"].$colorset.next((0,H.Z)(s),s),d=r["default"].$filters.startCase(o);a.push({...i,name:o,color:c,prettyName:d,key:s,minTemp:e&&void 0!==e.min_temp?e.min_temp:void 0,maxTemp:e&&void 0!==e.max_temp?e.max_temp:void 0})}})),a.sort(((e,t)=>{const s=e.name.toUpperCase(),r=t.name.toUpperCase();return s<r?-1:s>r?1:0}))}return[]},getAllLeds:(e,t)=>t.getOutputs(["neopixel","dotstar"]),getAllFans:(e,t)=>t.getOutputs(["temperature_fan","controller_fan","heater_fan","fan_generic","fan"]),getToolHeadFans:(e,t)=>t.getOutputs(["heater_fan","fan"]),getOtherFans:(e,t)=>t.getOutputs(["temperature_fan","controller_fan","fan_generic"]),getPins:(e,t)=>{const s=t.getOutputs(["output_pin"]);return s.sort((e=>(e.pwm,1)))},getOutputs:(e,t)=>s=>{const a=["temperature_fan","controller_fan","heater_fan","fan_generic","fan"],i=["output_pin"],n=["neopixel","dotstar"],o=["fan","fan_generic","output_pin","neopixel","dotstar"],l=["temperature_fan"],c=["output_pin","temperature_fan","controller_fan","heater_fan","fan_generic","neopixel","dotstar"],d=s&&s.length?s:[...a,...i,...n],p=[];for(const u in e.printer){const s=u.split(" "),n=s.length>1?s[1]:u,m=s.length?s[0]:u;if(d.includes(m)&&(c.includes(m)&&!n.startsWith("_")||!c.includes(m))){let c=r["default"].$filters.startCase(n);"fan"===n&&(c="Part Fan");const d=l.includes(m)?r["default"].$colorset.next((0,H.Z)(u),u):void 0,h=t.getPrinterSettings(u);let g={...e.printer[u],config:{...h},name:n,prettyName:c,key:u,color:d,type:m,controllable:o.includes(m)};a.includes(m)&&(g={...g,minTemp:h&&h.min_temp?h.min_temp:void 0,maxTemp:h&&h.max_temp?h.max_temp:void 0}),i.includes(m)&&(g={...g,pwm:!(!h||!h.pwm)&&h.pwm,scale:h&&h.scale?h.scale:1,controllable:(!h||!h.static_value)&&o.includes(s[0])}),p.push(g)}}return p},getSensors:(e,t)=>{const s=["temperature_sensor","temperature_probe"],a=["bme280","htu21d"],i=Object.keys(e.printer).reduce(((i,n)=>{const o=n.split(" "),l=o.length>1?o[1]:n;if(s.includes(o[0])){const s=r["default"].$filters.startCase(l),a=r["default"].$colorset.next((0,H.Z)(n),n),c=o.length?o[0]:n,d=t.getPrinterSettings(n);i[l]={...i[l],...e.printer[n],...d,minTemp:d&&d.min_temp?d.min_temp:null,maxTemp:d&&d.max_temp?d.max_temp:null,name:l,key:n,prettyName:s,color:a,type:c}}else if(a.includes(o[0])){const{pressure:t,humidity:s}=e.printer[n];i[l]={pressure:t,humidity:s,...i[l]}}return i}),{});return Object.values(i)},getChartableSensors:e=>{let t=[];const s=["temperature_fan","temperature_probe","temperature_sensor"];for(const r of Object.keys(e.printer))s.some((e=>r.startsWith(e)))&&t.push(r);return e.printer.heaters.available_heaters.length>0&&(t=[...t,...e.printer.heaters.available_heaters]),t},getPrinterSettings:e=>t=>{if(e.printer&&e.printer.configfile&&e.printer.configfile.settings)return t?(0,U.Z)(e.printer.configfile.settings,t.toLowerCase(),void 0):e.printer.configfile.settings},getPrinterConfig:e=>t=>{if(e.printer&&e.printer.configfile&&e.printer.configfile.config)return t?(0,U.Z)(e.printer.configfile.config,t,void 0):e.printer.configfile.config},getHasWarnings:(e,t,s)=>!!(s.socket&&s.socket.open&&s.socket.ready&&(t.getPrinterWarnings.length>0||t.getKlipperWarnings.length>0||t.getMoonrakerFailedComponents.length>0||t.getMoonrakerWarnings.length>0)),getPrinterWarnings:(e,t)=>{const s=t.getPrinterConfig(),r=[];return s&&!("virtual_sdcard"in s)&&r.push({message:"[virtual_sdcard] not found in printer configuration."}),s&&!("pause_resume"in s)&&r.push({message:"[pause_resume] not found in printer configuration."}),!s||"display"in s||"display_status"in s||r.push({message:"[display_status] is required if you do not have a [display] defined."}),s&&!("gcode_macro CANCEL_PRINT"in s)&&r.push({message:"CANCEL_PRINT macro not found in configuration."}),r},getKlipperWarnings:e=>{var t,s;return(null===(s=null===(t=e.printer)||void 0===t?void 0:t.configfile)||void 0===s?void 0:s.warnings)||[]},getMoonrakerFailedComponents:(e,t,s,r)=>r["server/getInfo"].failed_components||[],getMoonrakerWarnings:(e,t,s,r)=>r["server/getInfo"].warnings||[],getHasHomingOverride:(e,t)=>{const s=t.getPrinterConfig();return!(!s||!("homing_override"in s))}};var W=s(82446);const z=e=>{const t=Object.keys(e).filter((e=>e.startsWith("mcu")));t.length>0&&t.forEach((t=>{var s;const r={...null===(s=ds.state.printer)||void 0===s?void 0:s.printer[t],...e[t]};if(r.last_stats){const e=new Date;let s;ds.state.charts&&ds.state.charts[t]&&(s=ds.state.charts[t][ds.state.charts[t].length-1]);const a=.0025,i=5,n=100*(r.last_stats.mcu_task_avg+3*r.last_stats.mcu_task_stddev)/a,o=r.last_stats.mcu_awake/i*100,l=25e3,c=s?e.getTime()-s.date.getTime():1e3;let d=r.last_stats.bytes_write+r.last_stats.bytes_retransmit,p=s?parseFloat(s.bw):d;d<p&&(p=d),d=100*(d-p)/(l*c),ds.commit("charts/setChartEntry",{type:t,retention:600,data:{date:e,load:n.toFixed(2),awake:o.toFixed(2),bw:d.toFixed(2)}})}}))},q=e=>{var t,s,r,a,i,n,o,l,c;if("system_stats"in e){const d={...null===(t=ds.state.printer)||void 0===t?void 0:t.printer.system_stats,...e.system_stats},p=new Date;if("memavail"in d&&(null===(a=null===(r=null===(s=ds.state.server)||void 0===s?void 0:s.system_info)||void 0===r?void 0:r.cpu_info)||void 0===a?void 0:a.total_memory)){const e=(null===(o=null===(n=null===(i=ds.state.server)||void 0===i?void 0:i.system_info)||void 0===n?void 0:n.cpu_info)||void 0===o?void 0:o.total_memory)||0,t=e-d.memavail,s=Math.ceil(t/e*100);ds.commit("charts/setChartEntry",{type:"memory",retention:600,data:{date:p,memused:s.toFixed(2)}})}if("cputime"in d&&"sysload"in d){const e=d.cputime,t=(null===(c=null===(l=ds.state.printer)||void 0===l?void 0:l.printer.system_stats)||void 0===c?void 0:c.cputime)||d.cputime||0;ds.commit("charts/setChartEntry",{type:"klipper",retention:600,data:{date:p,load:d.sysload.toFixed(2),cputime_change:(100*(e-t)).toFixed(2)}})}}},G=(e,t)=>{const s=()=>{const e=new Date,s={date:e};return t.forEach((e=>{var t,r,a,i;let n=e;e.includes(" ")&&(n=e.split(" ")[1]);const o=null===(t=ds.state.printer)||void 0===t?void 0:t.printer[e].temperature,l=null===(r=ds.state.printer)||void 0===r?void 0:r.printer[e].target,c=null===(a=ds.state.printer)||void 0===a?void 0:a.printer[e].power,d=null===(i=ds.state.printer)||void 0===i?void 0:i.printer[e].speed;s[n]=o,void 0!==l&&(s[`${n}Target`]=l),void 0!==c&&(s[`${n}Power`]=c),void 0!==d&&(s[`${n}Speed`]=d)})),s};if(ds.state.charts&&ds.state.charts.ready){const t=s();ds.commit("charts/setChartEntry",{type:"chart",data:t,retention:e})}},Y={async reset({commit:e}){e("setReset")},async onPrinterInfo({commit:e},t){e("setPrinterInfo",t)},async onQueryEndstops({commit:e},t){e("setQueryEndstops",t)},async onPrintCancel(){n().debug("Print Cancelled")},async onPrintPause(){n().debug("Print Paused")},async onPrintResume(){n().debug("Print Resumed")},async onPrintStart(e,t){n().debug("Print start detected",t)},async onPrintEnd(e,t){n().debug("Print end detected",t)},async onPrinterObjectsList({commit:e},t){let s={};t.objects.forEach((t=>{t.includes("menu")||t.includes("gcode_macro")||(s={...s,[t]:null});let r=t;t.includes(" ")&&(r=r.replace(" ",".")),e("printer/setPrinterObjectList",r,{root:!0})})),c.r.printerObjectsSubscribe(s)},async onPrinterObjectsSubscribe({commit:e,dispatch:t},s){e("socket/setAcceptNotifications",!0,{root:!0}),await t("onNotifyStatusUpdate",s.status),c.r.serverGcodeStore(),c.r.printerGcodeHelp(),c.r.serverTemperatureStore()},async onNotifyStatusUpdate({rootState:e,commit:t,getters:s},r){var a,i,n,o,c,d;if(r&&(null===(a=e.socket)||void 0===a?void 0:a.acceptingNotifications)){(0,W.fM)(r),(0,W.ur)(r),q(r),z(r);for(const e in r){const s=r[e];e.includes("gcode_macro")||t("printer/setSocketNotify",{key:e,payload:s},{root:!0})}const a=null===(i=e.server)||void 0===i?void 0:i.config,p=null!==(d=null!==(o=null===(n=null===a||void 0===a?void 0:a.data_store)||void 0===n?void 0:n.temperature_store_size)&&void 0!==o?o:null===(c=null===a||void 0===a?void 0:a.server)||void 0===c?void 0:c.temperature_store_size)&&void 0!==d?d:l.OH.CHART_HISTORY_RETENTION;G(p,s.getChartableSensors)}},async onFastNotifyStatusUpdate({rootState:e,commit:t},s){var r;s&&(null===(r=e.socket)||void 0===r?void 0:r.acceptingNotifications)&&t("printer/setSocketNotify",s,{root:!0})}},K={setReset(e){Object.assign(e,X())},setPrinterInfo(e,t){r["default"].set(e.printer,"info",t)},setQueryEndstops(e,t){e.printer.endstops=t},setPrinterBusy(e,t){e.printer.busy=t},setPrinterObjectList(e,t){e.printer.objects.includes(t)||e.printer.objects.push(t)},setClearEndStops(e){e.printer.endstops={}},setResetCurrentFile(e){const t=X().printer.current_file;n().debug("resetting current file",t),r["default"].set(e.printer,"current_file",t)},setSocketNotify(e,t){if("object"===typeof t.payload){const s=(0,U.Z)(e.printer,t.key);void 0===s?r["default"].set(e.printer,t.key,t.payload):Object.keys(t.payload).forEach((a=>{s[a]!==t.payload[a]&&r["default"].set(e.printer[t.key],a,t.payload[a])}))}else(0,U.Z)(e.printer,t.key)!==t.payload&&r["default"].set(e.printer,t.key,t.payload)}},X=()=>({printer:{endstops:{},bed_mesh:{},heaters:{available_heaters:[],available_sensors:[]},info:{state:"",state_message:""},configfile:{warnings:[],save_config_pending:!1,config:{virtual_sdcard:{},pause_resume:{},display_status:{},"gcode_macro CANCEL_PRINT":{}},settings:{bed_mesh:{},fan:{},printer:{max_accel_to_decel:500,max_accel:1e3,max_velocity:100,square_corner_velocity:3,kinematics:"none"},virtual_sdcard:{},pause_resume:{},display_status:{},"gcode_macro cancel_print":{},extruder:{max_extrude_only_velocity:100,max_extrude_only_distance:100}}},objects:[],idle_timeout:{state:""},print_stats:{state:"",print_duration:0,total_duration:0,filament_used:0,filename:""},display_status:{progress:0,message:""},virtual_sdcard:{file_position:0,is_active:!1,progress:0},toolhead:{estimated_print_time:0,homed_axes:"",max_accel:0,max_accel_to_decel:0,max_velocity:0,position:[0,0,0,0],print_time:0,square_corner_velocity:0,extruder:""},motion_report:{live_position:[0,0,0,0],live_velocity:0,live_extruder_velocity:0},firmware_retraction:{retract_length:0,unretract_extra_length:0,unretract_speed:0,retract_speed:0},current_file:{estimated_time:0,filament_total:0,thumbnails:[]},gcode_move:{gcode_position:[0,0,0,0],homing_origin:[],speed:0},fan:{speed:0},webhooks:{state:"",state_message:""}}}),J=X(),Q=!0,ee={namespaced:Q,state:J,getters:j,actions:Y,mutations:K};var te=s(85947);const se={getDirectory:e=>(t,s)=>{const r=t;if(e&&e[r]){const t=e[r].find((e=>e.path===s));if(t)return t}},isRootAvailable:(e,t,s)=>e=>{var t;return null===(t=s.server)||void 0===t?void 0:t.info.registered_directories.includes(e)},getRootProperties:()=>e=>{const t=e;return"gcodes"===t?{readonly:!1,accepts:[".gcode",".g",".gc",".gco",".ufp",".nc"],canEdit:!0,canView:!1,canPrint:!0,canConfigure:!0}:"config"===t?{readonly:!1,accepts:[".conf",".cfg",".md"],canEdit:!0,canView:!1,canPrint:!1,canConfigure:!1}:"config_examples"===t||"docs"===t||"logs"===t?{readonly:!0,accepts:[],canEdit:!1,canView:!0,canPrint:!1,canConfigure:!1}:"timelapse"===t?{readonly:!0,accepts:[],canEdit:!1,canView:!0,canPrint:!1,canConfigure:!1,canDelete:!0,canCreateDirectory:!0}:{readonly:!0,accepts:[],canEdit:!1,canView:!0,canPrint:!1,canConfigure:!1}},getFile:(e,t)=>(e,s,r)=>{const a=t.getDirectory(e,s);if(a&&a.items){const e=a.items.find((e=>"file"===e.type&&e.filename===r));if(e)return e}},getCurrentPathByRoot:e=>t=>e.currentPaths[t]||"",getLowOnSpace:e=>e.disk_usage.free<1073741824,getUsage:e=>e.disk_usage};var re=s(97800),ae=(e,t)=>{if("path"in t){const s=(0,re.Z)(t.path,e);return{type:"file",filename:s.filename,extension:s.filename.split(".").pop()||"",name:s.filename,path:s.path,size:t.size,modified:t.modified}}const s=(0,re.Z)(t.filename,e);return{...t,type:"file",filename:s.filename,extension:s.filename.split(".").pop()||"",name:s.filename,path:s.path}};const ie={async reset({commit:e}){e("setReset")},async onServerFilesGetDirectory({commit:e,rootState:t},s){const r=s.__request__.params.path,a=s.__request__.params.root;let i=r.replace(a,"");i.startsWith("/")&&(i=i.substring(1));const n=[];r&&r.indexOf("/")>=0&&n.push({type:"directory",dirname:"..",name:"..",size:0,modified:null}),s.dirs&&s.dirs.forEach((e=>{l.OH.FILTERED_FILES_PREFIX.some((t=>e.dirname.startsWith(t)))||l.OH.FILTERED_FILES_EXTENSION.some((t=>e.dirname.endsWith(t)))||(e.type="directory",e.name=e.dirname,e.modified=e.modified?new Date(e.modified).getTime():null,n.push(e))})),s.files&&s.files.forEach((e=>{var s;if(!l.OH.FILTERED_FILES_PREFIX.some((t=>e.filename.startsWith(t)))&&!l.OH.FILTERED_FILES_EXTENSION.some((t=>e.filename.endsWith(t)))){let r={};if(e.job_id){const a=null===(s=t.history)||void 0===s?void 0:s.jobs.find((t=>t.job_id===e.job_id));a&&(r=a)}n.push({...e,type:"file",name:e.filename,extension:e.filename.split(".").pop()||"",modified:new Date(e.modified).getTime(),path:"/"===i?"":i,history:r})}})),e("setDiskUsage",s.disk_usage),e("setServerFilesGetDirectory",{root:a,directory:{path:r,items:n}})},async onFileMetaData({commit:e,rootState:t,rootGetters:s},r){var a;const i="gcodes",n=(0,re.Z)(r.filename,i);let o=ae(i,r);const l=o.path?`${o.path}/${o.filename}`:`${o.filename}`;if(l===(null===(a=t.printer)||void 0===a?void 0:a.printer.print_stats.filename)){const t=s["history/getHistoryByFilename"](l);t&&(o={...o,history:t}),e("printer/setSocketNotify",{key:"current_file",payload:o},{root:!0})}const c={paths:n,root:i,file:o};e("setFileUpdate",c)},async notifyCopyItem({dispatch:e},t){e("notifyModifyFile",t)},async notifyMoveItem({dispatch:e},t){e("notifyMoveFile",t)},async notifyUploadFile({dispatch:e},t){e("notifyCreateFile",t)},async notifyRootUpdate({commit:e},t){const s=t.item.root;e("setResetRoot",s),c.r.serverFilesGetDirectory(s,s)},async notifyModifyFile(e,t){const s=t.item.root,r=(0,re.Z)(t.item.path,s);if(c.r.serverFilesGetDirectory(s,r.rootPath),t.source_item){const e=(0,re.Z)(t.source_item.path,s);r.rootPath!==e.rootPath&&c.r.serverFilesGetDirectory(s,e.rootPath)}},async notifyCreateFile({commit:e},t){const s=t.item.root,r=ae(s,t.item);if("gcode"===r.extension)c.r.serverFilesMetaData(t.item.path);else{const a=(0,re.Z)(t.item.path,s),i={paths:a,root:s,file:r};e("setFileUpdate",i)}},async notifyCreateDir(e,t){const s=t.item.root,r=(0,re.Z)(t.item.path,s);c.r.serverFilesGetDirectory(s,r.rootPath)},async notifyMoveFile(e,t){const s=t.item.root,r=(0,re.Z)(t.item.path,s);if(c.r.serverFilesGetDirectory(s,r.rootPath),t.source_item){const e=(0,re.Z)(t.source_item.path,s);r.rootPath!==e.rootPath&&c.r.serverFilesGetDirectory(s,e.rootPath)}},async notifyMoveDir(e,t){const s=t.item.root,r=(0,re.Z)(t.item.path,s);if(c.r.serverFilesGetDirectory(s,r.rootPath),t.source_item){const e=(0,re.Z)(t.source_item.path,s);r.rootPath!==e.rootPath&&c.r.serverFilesGetDirectory(s,e.rootPath)}},async notifyDeleteFile({commit:e},t){const s=t.item.root,r=(0,re.Z)(t.item.path,s),a=ae(s,t.item),i={paths:r,root:s,file:a};e("setItemDelete",i)},async notifyDeleteDir({commit:e},t){const s=t.item.root,r=(0,re.Z)(t.item.path,s),a=ae(s,t.item),i={paths:r,root:s,file:a};e("setItemDelete",i),e("setPathDelete",{path:`${r.rootPath}/${r.filename}`,root:s})},async updateFileUpload({commit:e},t){e("setUpdateFileUpload",t)},async removeFileUpload({commit:e},t){e("setRemoveFileUpload",t)},async updateFileDownload({commit:e},t){e("setUpdateFileDownload",t)},async removeFileDownload({commit:e},t){e("setRemoveFileDownload",t)},async updateCurrentPathByRoot({commit:e},t){e("setCurrentPath",t)}};var ne=(e,t,s)=>{const r=(0,re.Z)(s.filename,e);return s.filename=r.filename,{...t,...s}};const oe={setReset(e){Object.assign(e,le())},setResetRoot(e,t){r["default"].set(e,t,[]),e.currentPaths[t]&&r["default"].set(e.currentPaths,t,void 0)},setServerFilesGetDirectory(e,t){const s=t.directory.path,r=t.root,a=e[r].findIndex((e=>e.path===s));a>=0?e[r].splice(a,1,t.directory):e[r].push(t.directory)},setFileUpdate(e,t){const s=t.root,a=t.paths,i=e[s].find((e=>e.path===a.rootPath));if(i){const e=i.items.findIndex((e=>e.name===a.filename)),n=i.items[e],o=l.OH.FILTERED_FILES_PREFIX.some((e=>t.paths.filename.startsWith(e)))||l.OH.FILTERED_FILES_EXTENSION.some((e=>t.paths.filename.endsWith(e)));o||(e>=0?r["default"].set(i.items,e,ne(s,n,t.file)):i.items.push(ne(s,{},t.file)))}},setItemDelete(e,t){const s=t.root,r=t.paths,a=e[s].find((e=>e.path===r.rootPath));if(a){const e=a.items.findIndex((e=>e.name===r.filename));e>=0&&a.items.splice(e,1)}},setPathDelete(e,t){const s=t.root,r=t.path,a=e[s].filter((e=>e.path.startsWith(r)));a.forEach((t=>{const r=e[s].findIndex((e=>t===e));r>=0&&e[s].splice(r,1)}))},setUpdateFileUpload(e,t){const s=e.uploads.findIndex((e=>e.filepath===t.filepath));s>=0?r["default"].set(e.uploads,s,{...e.uploads[s],...t}):e.uploads.push(t)},setRemoveFileUpload(e,t){const s=e.uploads.findIndex((e=>e.filepath===t));s>=0&&e.uploads.splice(s,1)},setUpdateFileDownload(e,t){e.download&&null!==e.download?e.download={...e.download,...t}:e.download=t},setRemoveFileDownload(e){e.download=null},setCurrentPath(e,t){r["default"].set(e.currentPaths,t.root,t.path)},setDiskUsage(e,t){r["default"].set(e,"disk_usage",t)}},le=()=>({uploads:[],download:null,currentPaths:{},disk_usage:{total:0,used:0,free:0},gcodes:[],config:[],config_examples:[],docs:[],logs:[],timelapse:[]}),ce=le(),de=!0,pe={namespaced:de,state:ce,getters:se,actions:ie,mutations:oe};var ue=s(59117),me=s(92101),he=s(27484),ge=s.n(he);const ve={getChartData:e=>e.chart,getSelectedLegends:e=>e.selectedLegends,getChartRetention:(e,t,s,r)=>{var a,i,n,o;const c=r["server/getConfig"];return null!==(o=null!==(i=null===(a=c.data_store)||void 0===a?void 0:a.temperature_store_size)&&void 0!==i?i:null===(n=c.server)||void 0===n?void 0:n.temperature_store_size)&&void 0!==o?o:l.OH.CHART_HISTORY_RETENTION},getBaseChartOptions:(e,t,s,r)=>(e={})=>{var t;const a=null===(t=s.config)||void 0===t?void 0:t.uiSettings.theme.isDark,i=me.Z.framework.breakpoint.mobile,n=a?"rgba(255,255,255,0.65)":"rgba(0,0,0,0.45)",o=i?13:14,l={color:a?"#ffffff":"#000000",opacity:.05},c={color:a?"#ffffff":"#000000",opacity:.5},d={show:!0,borderWidth:1,borderColor:a?"rgba(255,255,255,0.25)":"rgba(0,0,0,0.15)"},p={backgroundColor:a?"rgba(15,15,15,0.75)":"rgba(255,255,255,0.75)",borderColor:a?"rgba(0,0,0,0.85)":"rgba(255,255,255,0.85)",textStyle:{color:n,fontSize:o}},u=r["config/getTheme"],m=[u.currentTheme.primary,u.currentTheme.accent,u.currentTheme.info];return{color:m,grid:d,tooltip:{...p,show:!0,trigger:"axis",position:["-8px","-8px"],formatter:t=>{let s=!1,r="<div>";return t.forEach((t=>{const a=t.dimensionNames[t.encode.x],i=t.dimensionNames[t.encode.y],l=e[i]||"";if(a&&i&&t.seriesName){if(!s){const e=ge()(t.value[a]);r+=`\n                  <span style="font-size:${o}px;color:${n};font-weight:400;margin-left:2px">\n                    ${e.format("LTS")}\n                  </span>\n                  `,s=!0}r+=`\n                  <div style="white-space: nowrap;">\n                    ${t.marker}\n                    <span style="font-size:${o}px;color:${n};font-weight:400;margin-left:2px">\n                      ${t.seriesName}:\n                    </span>\n                    <span style="float:right;margin-left:20px;font-size:${o}px;color:${n};font-weight:900">\n                      ${t.value[i]}${l}\n                    </span>\n                    <div style="clear: both"></div>\n                  </div>\n                  <div style="clear: both"></div>\n                `}})),r+="</div>",r}},xAxis:{type:"time",boundaryGap:!1,min:e=>e.max-6e5,max:"dataMax",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1,formatter:"{value}%"},splitLine:{show:!0,lineStyle:l},axisPointer:{lineStyle:c}},yAxis:{type:"value",min:0,max:e=>e.max<=100?100:e.max,axisLabel:{show:!1,formatter:"{value}%"},splitLine:{show:!0,lineStyle:l}}}},getBaseSeries:()=>e=>{const t={type:"line",smooth:!0,animation:!1,showSymbol:!1,symbol:"emptyCircle",areaStyle:{type:"solid",opacity:.3},lineStyle:{type:"solid",width:1.5,opacity:1},emphasis:{lineStyle:{width:1.5}},...e};return t}};var fe=s(35322);const _e={async reset({commit:e}){e("setReset")},async initTempStore({commit:e,rootGetters:t,rootState:s},r){const a=new Date,i=t["charts/getChartRetention"],n=["temperature_probe","temperature_sensor"];if(r&&0===Object.keys(r).length)return void e("setChartStore",[]);for(const c in r)n.some((e=>c.startsWith(e)))&&delete r[c].targets,["temperatures","targets","powers","speeds"].forEach((e=>{const t=r[c][e];if(t&&t.length)if(t.length<i){const s=i-t.length,a=r[c][e][0];r[c][e]=[...Array.from({length:s},(()=>a)),...r[c][e]]}else r[c][e]=r[c][e].splice(t.length-i)}));const o=Object.keys(r),l=[];for(let c=0;c<i;c++){const e=new Date(a.getTime()-1e3*(i-c)-2e3),t={date:e};o.forEach((e=>{var a,i,n,o,l;let d=e;if(e.includes(" ")&&(d=e.split(" ")[1]),null===(a=s.printer)||void 0===a?void 0:a.printer[e]){const a=(null===(i=s.printer)||void 0===i?void 0:i.printer[e].temperature)||0,p=(null===(n=s.printer)||void 0===n?void 0:n.printer[e].target)||0,u=(null===(o=s.printer)||void 0===o?void 0:o.printer[e].power)||0,m=(null===(l=s.printer)||void 0===l?void 0:l.printer[e].speed)||0;t[d]=r[e].temperatures[c]||a,"targets"in r[e]&&(t[`${d}Target`]=r[e].targets[c]||p),"powers"in r[e]&&(t[`${d}Power`]=r[e].powers[c]||u),"speeds"in r[e]&&(t[`${d}Speed`]=r[e].speeds[c]||m)}})),l.push(t)}e("setChartStore",l)},initCharts({commit:e},t){e("setInitCharts",t)},saveSelectedLegends({commit:e,state:t},s){(0,fe.Z)(t.selectedLegends,s)||(e("setSelectedLegends",s),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.charts.name+".selectedLegends",s))}},ye={setReset(e){const t=be();Object.keys(e).forEach((s=>{Object.keys(t).includes(s)||delete e[s]})),Object.assign(e,be())},setInitCharts(e,t){t&&Object.assign(e,t)},setChartStore(e,t){e.chart=t,e.ready=!0},setChartEntry(e,t){e[t.type]||r["default"].set(e,t.type,[]),e[t.type].push(t.data);while(e[t.type].length>t.retention)e[t.type].splice(0,1)},setSelectedLegends(e,t){e.selectedLegends=t}},be=()=>({ready:!1,chart:[],selectedLegends:{}}),xe=be(),$e=!0,we={namespaced:$e,state:xe,getters:ve,actions:_e,mutations:ye},Ce=/^(?:ok\s+)?(b|t\d+):\d+\.\d+ \/\d+\.+\d+/i,ke={getConsoleEntries:(e,t)=>{var s;const r=(null===(s=t.config)||void 0===s?void 0:s.uiSettings.general.hideTempWaits)||!0,a=e.console.filter((t=>(!t.time||1e3*t.time>e.lastCleared)&&(!r||!Ce.test(t.message))&&!e.consoleFilters.some(((s,r)=>s.enabled&&e.consoleFiltersRegexp[r].test(t.message)))));return a},getFilters:e=>e.consoleFilters,getAvailableCalibrationCommands:e=>Object.keys(e.availableCommands).filter((e=>e.endsWith("CALIBRATE"))).reduce(((t,s)=>({...t,[s]:e.availableCommands[s]})),{}),getAllGcodeCommands:e=>{const t=e.availableCommands,s=["TESTZ","ABORT","ACCEPT","ADJUSTED","GET_POSITION","SET_RETRACTION"];return s.forEach((e=>{e in t!==!0&&(t[e]="")})),t}},Se={async reset({commit:e}){e("setReset")},async initConsole({commit:e},t){e("setInitConsole",t)},async onUpdateCommandHistory({state:e,commit:t},s){t("setUpdateCommandHistory",s),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.console.name+".commandHistory",e.commandHistory)},async onGcodeScript({dispatch:e},t){t&&t.result&&"ok"!==t.result&&e("onAddConsoleEntry",{message:l.OH.CONSOLE_RECEIVE_PREFIX+t.result})},async onAddConsoleEntry({commit:e},t){t.message=t.message.replace(/(?:\r\n|\r|\n)/g,"<br />"),(!t.time||t.time<=0)&&(t.time=(new Date).getTime()/1e3|0),t.type||(t.type="response"),e("setConsoleEntry",t)},async onGcodeStore({commit:e},t){if(t&&t.gcode_store){const s=t.gcode_store.map(((e,t)=>(e.message=l.OH.CONSOLE_RECEIVE_PREFIX+e.message,e.message=e.message.replace(/(?:\r\n|\r|\n)/g,"<br />"),e.id=t,e)));e("setAllEntries",s)}},async onGcodeHelp({commit:e},t){e("setGcodeHelp",t)},async onUpdateAutoScroll({commit:e},t){e("setAutoScroll",t),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.console.name+".autoScroll",t)},async onRemoveFilter({commit:e,state:t},s){e("setRemoveFilter",s),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.console.name+".consoleFilters",t.consoleFilters)},async onSaveFilter({commit:e,state:t},s){e("setFilter",s),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.console.name+".consoleFilters",t.consoleFilters)},async onClear({commit:e,state:t}){e("setLastCleared"),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.console.name+".lastCleared",t.lastCleared)}};var Pe=s(25934),Ee=s(65620);const Ze=e=>{function t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}switch(e.type){case Ee.T.Contains:return new RegExp(`.*${t(e.value)}.*`,"i");case Ee.T.StartsWith:return new RegExp(`^${t(e.value)}.*`,"i");case Ee.T.Expression:return new RegExp(e.value)}},Re={setReset(e){Object.assign(e,Te())},setConsoleEntry(e,t){void 0===t.id&&(e.consoleEntryCount++,t.id=e.consoleEntryCount);while(e.console.length>=l.OH.CONSOLE_HISTORY_RETENTION)e.console.shift();e.console.push(t)},setAllEntries(e,t){e.consoleEntryCount=t.length,e.console=t},setGcodeHelp(e,t){r["default"].set(e,"availableCommands",t)},setInitConsole(e,t){t&&(t.consoleFilters&&(t.consoleFiltersRegexp=t.consoleFilters.map((e=>Ze(e)))),Object.assign(e,t))},setUpdateCommandHistory(e,t){t&&(e.commandHistory=[...t])},setConsoleCommand(e,t){e.consoleCommand=t},setAutoScroll(e,t){e.autoScroll=t},setFilter(e,t){const s=Ze(t);if(t.id){const a=e.consoleFilters.findIndex((e=>e.id===t.id));a>=0&&(r["default"].set(e.consoleFilters,a,t),r["default"].set(e.consoleFiltersRegexp,a,s))}else t.id=(0,Pe.Z)(),e.consoleFilters.push(t),e.consoleFiltersRegexp.push(s)},setRemoveFilter(e,t){const s=e.consoleFilters.findIndex((e=>e.id===t.id));s>=0&&(e.consoleFilters.splice(s,1),e.consoleFiltersRegexp.splice(s,1))},setLastCleared(e){r["default"].set(e,"lastCleared",Date.now())}},Te=()=>({consoleCommand:"",consoleEntryCount:0,console:[],availableCommands:{},commandHistory:[],autoScroll:!0,lastCleared:0,consoleFilters:[],consoleFiltersRegexp:[]}),Le=Te(),De=!0,Ae={namespaced:De,state:Le,getters:ke,actions:Se,mutations:Re},Ie={getMacros:(e,t,s)=>{var r;const a=Object.keys(null===(r=s.printer)||void 0===r?void 0:r.printer.configfile.settings).filter((e=>{const t=e.split(" ")[1];return e.startsWith("gcode_macro")&&!t.startsWith("_")})).map((t=>{var r;const a=t.split(" ")[1],i=null===(r=s.printer)||void 0===r?void 0:r.printer.configfile.settings[t],n=e.stored.find((e=>e.name===a)),o={name:a,alias:"",visible:!0,disabledWhilePrinting:!1,color:"",categoryId:"0",...n,config:i};let l;return n&&n.categoryId&&(l=e.categories.find((e=>e.id===n.categoryId)),l?o.category=l:o.categoryId="0"),o})).sort(((e,t)=>{const s=e.name.toLowerCase(),r=t.name.toLowerCase();return s<r?-1:s>r?1:0}));return a},getVisibleMacros:(e,t)=>{const s=[],r=t.getMacros.filter((e=>void 0===e.visible||!0===e.visible)),a=t.getCategories;for(const i of a){const e=r.filter((e=>e.categoryId===i.id));e.length>0&&s.push({id:i.id,name:i.name,macros:e})}return s},getMacrosByCategory:(e,t)=>e=>{const s=e||"0";return t.getMacros.filter((e=>!(!e.categoryId||!s)&&e.categoryId===s))},getCategories:(e,t)=>{const s=e.categories.map((e=>{const s=t.getMacrosByCategory(e.id),r=s.length,a=s.filter((e=>e.visible)).length;return{id:e.id,name:e.name,visible:a,count:r}})).sort(((e,t)=>{const s=e.name.toLowerCase(),r=t.name.toLowerCase();return s<r?-1:s>r?1:0}));return s}},Ve={async reset({commit:e}){e("setReset")},initMacros({commit:e},t){e("initMacros",t)},saveMacro({state:e,commit:t},s){t("setUpdateMacro",s),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.macros.name+".stored",e.stored)},saveAllOn({state:e,commit:t},s){t("setUpdateAllVisible",{macros:s,visible:!0}),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.macros.name+".stored",e.stored)},saveAllOff({state:e,commit:t},s){t("setUpdateAllVisible",{macros:s,visible:!1}),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.macros.name+".stored",e.stored)},addCategory({commit:e,state:t},s){e("setAddCategory",s),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.macros.name+".categories",t.categories)},editCategory({commit:e,state:t},s){e("setEditCategory",s),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.macros.name,t)},removeCategory({commit:e,state:t},s){e("setRemoveCategory",s),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.macros.name,t)},saveExpanded({commit:e,state:t},s){e("setExpanded",s),c.r.serverWrite(l.OH.MOONRAKER_DB.ROOTS.macros.name+".expanded",t.expanded)}},Me={setReset(e){Object.assign(e,Fe())},initMacros(e,t){t&&t.categories&&"string"===typeof t.categories[0]&&(t.categories=[]),t&&Object.assign(e,t)},setUpdateMacro(e,t){const s={...t};delete s.config,delete s.category;const a=e.stored.findIndex((e=>e.name===t.name));a<0?e.stored.push(s):r["default"].set(e.stored,a,s)},setUpdateAllVisible(e,t){t.macros.forEach((s=>{const a=e.stored.findIndex((e=>e.name===s.name)),i={...s,visible:t.visible};delete i.config,delete i.category,a<0?e.stored.push(i):r["default"].set(e.stored,a,i)}))},setAddCategory(e,t){e.categories.push({id:(0,Pe.Z)(),name:t})},setEditCategory(e,t){const s=e.categories.findIndex((e=>e.id===t.id));r["default"].set(e.categories,s,{id:t.id,name:t.name}),e.stored.forEach(((s,a)=>{s.categoryId===t.id&&r["default"].set(e.stored,a,{...s,categoryId:t.id})}))},setRemoveCategory(e,t){const s=e.categories.findIndex((e=>e.id===t.id));s>=0&&(e.categories.splice(s,1),e.stored.forEach(((s,a)=>{if(s.categoryId===t.id){const t={...s};delete t.categoryId,r["default"].set(e.stored,a,t)}})))},setExpanded(e,t){r["default"].set(e,"expanded",t)}},Fe=()=>({stored:[],categories:[],expanded:[0]}),Oe=Fe(),Be=!0,Ne={namespaced:Be,state:Oe,getters:Ie,actions:Ve,mutations:Me},Ue={},He={async reset({commit:e}){e("setReset")},async init(){c.r.machineDevicePowerDevices()},async onInit({commit:e},t){t.devices&&t.devices.length>0&&e("setDevices",t)},async onStatus({commit:e},t){e("setStatus",t)},async onToggle({commit:e},t){e("setStatus",t)}},je={setReset(e){Object.assign(e,We())},setDevices(e,t){e.devices=t.devices},setStatus(e,t){for(const s in t){const a=e.devices.findIndex((e=>e.device===s));a>=0&&r["default"].set(e.devices[a],"status",t[s])}}},We=()=>({devices:[]}),ze=We(),qe=!0,Ge={namespaced:qe,state:ze,getters:Ue,actions:He,mutations:je},Ye={getHistory:e=>e.jobs&&e.jobs.length?[...e.jobs].sort(((e,t)=>t.start_time-e.start_time)):[],getHistoryById:e=>t=>e.jobs.find((e=>e.job_id===t)),getHistoryByFilename:e=>t=>e.jobs.find((e=>e.filename===t&&"completed"===e.status&&!0===e.exists)),getUniqueHistory:(e,t)=>(e=3)=>{const s=[],r=t.getHistory;for(const t of r)if(t.exists){const r=s.some((e=>t.filename===e.filename));if(r||s.push(t),s.length===e)break}return s},getRollUp:e=>{const t=e.job_totals;return{...t,filament_avg:t.total_filament_used?t.total_filament_used/t.total_jobs:0,print_avg:t.total_print_time?t.total_print_time/t.total_jobs:0,total_avg:t.total_time?t.total_time/t.total_jobs:0}}},Ke={async reset({commit:e}){e("setReset")},async init(){c.r.serverHistoryList({limit:l.OH.JOB_HISTORY_LOAD}),c.r.serverHistoryTotals()},async onHistoryTotals({commit:e},t){t&&e("setHistoryTotals",t)},async onHistoryList({commit:e},t){t&&(e("setHistoryList",t),c.r.serverFilesGetDirectory("gcodes","gcodes"))},async onHistoryChange({commit:e},t){c.r.serverHistoryTotals(),t&&("added"===t.action&&e("setAddHistory",t.job),"finished"===t.action&&e("setUpdateHistory",t.job))},async onDelete({commit:e},t){e("setDeleteJob",t.deleted_jobs)}},Xe={setReset(e){Object.assign(e,Je())},setHistoryTotals(e,t){t&&r["default"].set(e,"job_totals",t.job_totals)},setHistoryList(e,t){void 0!==t.jobs&&r["default"].set(e,"jobs",t.jobs),void 0!==t.count&&r["default"].set(e,"count",t.count)},setAddHistory(e,t){t&&(e.jobs.push(t),e.count++)},setUpdateHistory(e,t){if(t){const s=e.jobs.findIndex((e=>e.job_id===t.job_id));s>=0&&r["default"].set(e.jobs,s,t)}},setDeleteJob(e,t){t&&t.forEach((t=>{const s=e.jobs.findIndex((e=>e.job_id===t));s>=0&&e.jobs.splice(s,1)}))}},Je=()=>({count:0,jobs:[],job_totals:{total_jobs:0,total_time:0,total_print_time:0,total_filament_used:0,longest_job:0,longest_print:0}}),Qe=Je(),et=!0,tt={namespaced:et,state:Qe,getters:Ye,actions:Ke,mutations:Xe};var st=s(81249);const rt={getVisibleComponents:e=>{const t=Object.keys(e.version_info).map((t=>{const s=e.version_info[t];return s.key=t,s}));return t.sort(((e,t)=>{const s=e.key.toLowerCase(),r=t.key.toLowerCase();return s<r?-1:s>r?1:0})),t},hasUpdates:(e,t,s)=>{var r;const a=null===(r=s.config)||void 0===r?void 0:r.uiSettings.general.enableVersionNotifications;let i=!1;for(const n in e.version_info){if(i)break;"system"!==n&&a&&(i=t.hasUpdate(n))}return i},hasUpdate:e=>t=>{if(e.version_info[t]&&(0,W.sl)(e.version_info[t],"name")){const s=e.version_info[t],r=(0,st.valid)(s.version),a=(0,st.valid)(s.remote_version);return!(!r||!a)&&(0,st.gt)(a,r)}if(e.version_info[t]&&(0,W.sl)(e.version_info[t],"package_count")){const s=e.version_info[t];return s.package_count>0}const s=e.version_info[t];return s.current_hash!==s.remote_hash},getResponses:e=>[...e.responses],getCommitHistory:e=>t=>{if(e.version_info[t]&&(0,W.sl)(e.version_info[t],"git_messages")){const s=e.version_info[t],a=[...s.commits_behind].reduce(((e,t)=>{const s=1e3*r["default"].$dayjs(1e3*+t.date).hour(6).minute(0).second(0).unix();return e[s]=e[s]||[],e[s].push({...t,date:1e3*+t.date}),e}),Object.create(null));return{keys:Object.keys(a).map((e=>parseInt(e))).sort().reverse(),result:a}}}};var at=s(22555);const it={async reset({commit:e}){e("setReset")},async init(){c.r.machineUpdateStatus()},async onUpdateStatus({commit:e,dispatch:t,getters:s},r){e("setRefreshing",!1),e("setUpdateStatus",r),s.hasUpdates?t("notifications/pushNotification",{id:"updates-available",title:at.ZP.t("app.version.label.updates_available"),to:"/settings#versions",btnText:at.ZP.t("app.version.btn.view_versions"),type:"info",merge:!0},{root:!0}):t("notifications/clearNotification","updates-available",{root:!0})},async refreshing({commit:e},t){e("setRefreshing",t)},async onUpdateResponse({commit:e},t){e("setUpdateResponse",t)},async onUpdatedMoonraker({commit:e},t){n().debug("Finished updating moonraker",t),c.r.machineUpdateStatus(),e("socket/setSocketDisconnecting",!0,{root:!0})},async onUpdatedKlipper(e,t){n().debug("Finished updating klipper",t),c.r.machineUpdateStatus()},async onUpdatedClient(e,t){n().debug("Finished updating a client",t),c.r.machineUpdateStatus()},async onUpdatedFluidd(e,t){n().debug("Finished updating fluidd, reloading",t),window.location.reload()},async onUpdatedSystem(e,t){n().debug("Finished updating system",t),c.r.machineUpdateStatus()}},nt={setReset(e){Object.assign(e,ot())},setRefreshing(e,t){e.refreshing=t},setUpdateStatus(e,t){if(t){"busy"in t&&(e.busy=t.busy),"github_limit_reset_time"in t&&(e.github_limit_reset_time=t.github_limit_reset_time),"github_rate_limit"in t&&(e.github_rate_limit=t.github_rate_limit),"github_requests_remaining"in t&&(e.github_requests_remaining=t.github_requests_remaining);const s=Object.assign({},e.version_info,t.version_info);r["default"].set(e,"version_info",s)}},setUpdateResponse(e,t){if(t.complete)e.busy=!1;else{const s=e.responses.length;e.responses.push({...t,id:s})}},setClearUpdateResponse(e){e.responses=[]},setVersion(e,t){e.fluidd.version=t},setHash(e,t){e.fluidd.hash=t}},ot=()=>({busy:!1,refreshing:!1,github_limit_reset_time:0,github_rate_limit:0,github_requests_remaining:0,responses:[],version_info:{},fluidd:{version:"",hash:""}}),lt=ot(),ct=!0,dt={namespaced:ct,state:lt,getters:rt,actions:it,mutations:nt},pt={getCameras:e=>[...e.cameras].sort(((e,t)=>{const s=e.name.toLowerCase(),r=t.name.toLowerCase();return s<r?-1:s>r?1:0})),getEnabledCameras:(e,t)=>[...t.getCameras].filter((e=>e.enabled)),getVisibleCameras:(e,t)=>"all"===t.getActiveCamera?[...t.getEnabledCameras]:[...t.getEnabledCameras].filter((e=>e.id===t.getActiveCamera)),getCameraById:e=>t=>e.cameras.find((e=>e.id===t)),getActiveCamera:e=>e.activeCamera},ut={async reset({commit:e}){e("setReset")},async initCameras({commit:e},t){e("setInitCameras",t)},async updateCamera({commit:e,state:t},s){e("setCamera",s),c.r.serverWrite("cameras.cameras",t.cameras)},async removeCamera({commit:e,state:t},s){e("setRemoveCamera",s),c.r.serverWrite("cameras.cameras",t.cameras),c.r.serverWrite("cameras.activeCamera",t.activeCamera)},async updateActiveCamera({commit:e},t){e("setActiveCamera",t),c.r.serverWrite("cameras.activeCamera",t)}},mt={setReset(e){Object.assign(e,ht())},setInitCameras(e,t){t&&t&&Object.assign(e,t)},setCamera(e,t){if(-1===t.id)t.id=(0,Pe.Z)(),e.cameras.push(t);else{const s=e.cameras.findIndex((e=>e.id===t.id));s>=0&&r["default"].set(e.cameras,s,t)}},setRemoveCamera(e,t){const s=e.cameras.findIndex((e=>e.id===t.id));e.cameras.splice(s,1),e.activeCamera===t.id&&(e.activeCamera="all")},setActiveCamera(e,t){e.activeCamera=t}},ht=()=>({activeCamera:"all",cameras:[{id:(0,Pe.Z)(),enabled:!1,name:"Default",type:"mjpgadaptive",fpstarget:15,fpsidletarget:5,url:"/webcam/?action=stream",flipX:!1,flipY:!1,height:720}]}),gt=ht(),vt=!0,ft={namespaced:vt,state:gt,getters:pt,actions:ut,mutations:mt},_t=(e,t,s=!1)=>{const r=e,a=r[t],i=[];let n=0,o=0,l=0,c=0;if(a&&a.length>=3&&a[0]&&a[0].length>=3&&r.mesh_min&&r.mesh_max){const e=(r.mesh_max[0]-r.mesh_min[0])/(a[0].length-1),t=(r.mesh_max[1]-r.mesh_min[1])/(a.length-1);let d=0,p=0;n=Math.min(...a.map((e=>Math.min(...e)))),l=Math.max(...a.map((e=>Math.max(...e)))),o=n<=0&&l>=0?0:(l+n)/2,c=Math.abs(n-l);for(const n of a){d=0;const a=r.mesh_min[1]+p*t;for(const t of n){const n=r.mesh_min[0]+d*e;d++,i.push({name:`x${d}_y${p}`,value:[n,a,s?o:t]})}p++}}return{coordinates:i,min:n,mid:o,max:l,variance:c}},yt={getSupportsBedMesh:(e,t,s,r)=>void 0!==r["printer/getPrinterSettings"]("bed_mesh"),getBedMeshes:(e,t,s,r)=>{var a,i,n;const o=[],l=(null===(a=s.printer)||void 0===a?void 0:a.printer.bed_mesh.profile_name)||"",c=r["printer/getPrinterConfig"]();if((null===(i=s.printer)||void 0===i?void 0:i.printer.bed_mesh)&&l.length>0&&o.push({...null===(n=s.printer)||void 0===n?void 0:n.printer.bed_mesh,active:!0}),c){const e=Object.keys(c).filter((e=>e.startsWith("bed_mesh")));for(const t of e){if("bed_mesh"===t)continue;const e=t.split(" ").splice(1).join(" ");if(e!==l){const t={profile_name:e,active:!1};o.push(t)}}}return o.sort(((e,t)=>{const s=e.profile_name.toLowerCase(),r=t.profile_name.toLowerCase();return"default"===e.profile_name||"default"===t.profile_name?1:s<r?-1:s>r?1:0}))},getCurrentMeshData:(e,t,s)=>{var r,a,i,n;return{mesh_matrix:_t(null===(r=s.printer)||void 0===r?void 0:r.printer.bed_mesh,"mesh_matrix"),probed_matrix:_t(null===(a=s.printer)||void 0===a?void 0:a.printer.bed_mesh,"probed_matrix"),mesh_matrix_flat:_t(null===(i=s.printer)||void 0===i?void 0:i.printer.bed_mesh,"mesh_matrix",!0),probed_matrix_flat:_t(null===(n=s.printer)||void 0===n?void 0:n.printer.bed_mesh,"probed_matrix",!0)}}},bt={async reset({commit:e}){e("setReset")},async onMatrix({commit:e},t){e("setMatrix",t)},async onScale({commit:e},t){e("setScale",t)},async onBoxScale({commit:e},t){e("setBoxScale",t)},async onWireframe({commit:e},t){e("setWireframe",t)},async onFlatSurface({commit:e},t){e("setFlatSurface",t)}},xt={setReset(e){Object.assign(e,$t())},setMatrix(e,t){e.matrix=t},setScale(e,t){e.scale=t},setBoxScale(e,t){e.boxScale=t},setWireframe(e,t){e.wireframe=t},setFlatSurface(e,t){e.flatSurface=t}},$t=()=>({variance:0,wireframe:!1,scale:.2,boxScale:2,flatSurface:!1,matrix:"mesh_matrix"}),wt=$t(),Ct=!0,kt={namespaced:Ct,state:wt,getters:yt,actions:bt,mutations:xt},St={getNotifications:(e,t)=>{let s=[...e.notifications].sort(((e,t)=>t.timestamp-e.timestamp));return s=s.concat(t.getAnnouncementsAsNotifications),[...s.filter((e=>"error"===e.type)),...s.filter((e=>"error"!==e.type))]},getAnnouncementsAsNotifications:(e,t,s,r)=>{const a=r["announcements/getAnnouncements"];return a.map((e=>({id:e.entry_id,type:"announcement",to:e.url,title:e.title,description:e.description,timestamp:e.date,clear:!0,merge:!0})))}},Pt={async reset({commit:e}){e("setReset")},async pushNotification({commit:e,state:t},s){const r={id:(0,Pe.Z)(),type:"info",timestamp:(new Date).getTime()/1e3,clear:!0,merge:!1,...s};if(r.title&&"?"!==r.title&&r.id){const a=t.notifications.findIndex((e=>e.title===s.title));r.merge&&a>=0?e("setMergeNotification",{n:r,i:a}):e("setPushNotification",r),s.snackbar&&d.N.$emit(r.title,{type:d.o.error})}},async clearNotification({commit:e,dispatch:t},s){"object"!==typeof s||"announcement"!==s.type?e("setClearNotification",s):t("announcements/dismiss",{entry_id:s.id},{root:!0})},async clearAll({commit:e,dispatch:t}){e("setClearAllNotifications"),t("announcements/dismissAll",{},{root:!0})}},Et={setReset(e){Object.assign(e,Zt())},setPushNotification(e,t){e.notifications.push(t)},setMergeNotification(e,t){t&&t.n&&t.i>=0&&r["default"].set(e.notifications,t.i,t.n)},setClearNotification(e,t){let s=-1;s="string"===typeof t?e.notifications.findIndex((e=>e.id===t)):e.notifications.findIndex((e=>e===t)),s>=0&&e.notifications.splice(s,1)},setClearAllNotifications(e){r["default"].set(e,"notifications",[...e.notifications.filter((e=>!e.clear))])}},Zt=()=>({notifications:[]}),Rt=Zt(),Tt=!0,Lt={namespaced:Tt,state:Rt,getters:St,actions:Pt,mutations:Et},Dt={getAnnouncements:e=>e.entries.filter((e=>!e.dismissed))},At={async reset({commit:e}){e("setReset")},async init(){c.r.serverAnnouncementsList()},async onAnnouncementsList({commit:e},t){t&&e("setAnnouncementsList",t)},async onAnnouncementUpdate({commit:e},t){t&&e("setAnnouncementsList",t)},async onAnnouncementDismissed({commit:e},t){t&&e("setAnnouncementDismissed",{entry_id:t.entry_id,dismissed:!0})},async onAnnouncementWake({commit:e},t){t&&e("setAnnouncementDismissed",{entry_id:t.entry_id,dismissed:!1})},async dismiss(e,t){c.r.serverAnnouncementsDismiss(t.entry_id,t.wake_time)},async dismissAll({state:e}){const t=[...e.entries];t.forEach((async e=>await c.r.serverAnnouncementsDismiss(e.entry_id)))}},It={setReset(e){Object.assign(e,Vt())},setAnnouncementsList(e,t){t.entries&&r["default"].set(e,"entries",t.entries),t.feeds&&r["default"].set(e,"feeds",t.feeds)},setAnnouncementDismissed(e,t){const s=[...e.entries],a=s.find((e=>e.entry_id===t.entry_id));a&&(a.dismissed=t.dismissed,t.dismissed?a.date_dismissed=(new Date).getTime():(a.date_dismissed=null,a.dismiss_wake=null)),r["default"].set(e,"entries",s)}},Vt=()=>({entries:[],feeds:[]}),Mt=Vt(),Ft=!0,Ot={namespaced:Ft,state:Mt,getters:Dt,actions:At,mutations:It},Bt={hasWait:e=>t=>{if(Array.isArray(t)&&t.length){let s=t;return s=s.filter((t=>e.waits.includes(t))),s.length>0}return t=t,e.waits.includes(t)},hasWaits:e=>e.waits.length>0,hasWaitsBy:e=>t=>{const s=e.waits.filter((e=>e.startsWith(t)));return s.length>0}},Nt={async reset({commit:e}){e("setReset")},async addWait({commit:e},t){e("setAddWait",t)},async removeWait({commit:e},t){e("setRemoveWait",t)}},Ut={setReset(e){Object.assign(e,Ht())},setAddWait(e,t){const s=e.waits.findIndex((e=>e===t));-1===s&&e.waits.push(t)},setRemoveWait(e,t){e.waits.length&&e.waits.splice(e.waits.indexOf(t,0),1)}},Ht=()=>({waits:[]}),jt=Ht(),Wt=!0,zt={namespaced:Wt,state:jt,getters:Bt,actions:Nt,mutations:Ut};var qt,Gt;s(21703);(function(e){e["Clockwise"]="clockwise",e["CounterClockwise"]="counter-clockwise"})(qt||(qt={})),function(e){e["Relative"]="relative",e["Absolute"]="absolute"}(Gt||(Gt={}));const Yt=(e,t,s=!1)=>{if(e.length<=1)return 0;let r=Math.floor(e.length/2),a=e.length-1,i=0;while(i<=a){const s=t(e[r],r,e);if(s>0)i=r+1;else{if(!(s<0))return r;a=r-1}r=Math.floor((i+a)/2)}return s?r:-1};function Kt(e,t){const s=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.sqrt(s**2+r**2)}function Xt(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI)}function Jt(e,t){var s,r,a,i;const n={x:null!==(s=t.x)&&void 0!==s?s:e.x,y:null!==(r=t.y)&&void 0!==r?r:e.y},o={x:e.x+(null!==(a=t.i)&&void 0!==a?a:0),y:e.y+(null!==(i=t.j)&&void 0!==i?i:0)},l=Kt(e,o);let c=Xt(o,e)-Xt(o,n);switch(c>180?c-=360:c<-180&&(c+=360),t.direction){case qt.Clockwise:return"A"+[l,l,0,Number(c<0),0,n.x,n.y].join(",");case qt.CounterClockwise:return"M"+[n.x,n.y].join(",")+"A"+[l,l,0,Number(c>0),0,e.x,e.y].join(",")+"M"+[n.x,n.y].join(",");default:throw new TypeError("move has no direction")}}function Qt(e,t){if(void 0!==t.i&&void 0!==t.j)return Jt(e,t);if(void 0!==t.r)throw new Error("Arcs with the R parameter are currently not supported. Please make a Github issue with some sample gcode so we can resolve this");throw new TypeError("Move is not a valid arc")}function es(e,t){var s,r;return Object.hasOwnProperty.call(t,"direction")?Qt(e,t):`L${null!==(s=t.x)&&void 0!==s?s:e.x},${null!==(r=t.y)&&void 0!==r?r:e.y}`}const ts={getMoves:e=>e.moves,getFile:e=>e.file,getViewerOption:e=>t=>e.viewer[t],getParserProgress:e=>e.parserProgress,getLayers:(e,t,s)=>{const r=[],a=t.getMoves;let i=NaN,n=0,o=NaN;const{uiSettings:l}=s&&s.config?s.config:te.SB,c=l.gcodePreview.groupLowerLayers,d=c?(e,t)=>Number.isNaN(e)||e<t:(e,t)=>e!==t;for(let p=0;p<a.length;p++)void 0!==a[p].z&&i!==a[p].z&&(i=a[p].z,n=p),a[p].e>0&&d(o,i)&&(o=i,r.push({z:i,move:n,filePosition:a[p].filePosition}));return r},getBounds:(e,t)=>{const s=t.getMoves,r={x:{min:NaN,max:NaN},y:{min:NaN,max:NaN}},a=Number.isFinite;let i=0;for(;i<s.length&&!Object.values(r).every(a);i++){const e=s[i];a(e.x)&&(r.x.min=a(r.x.min)?Math.min(r.x.min,e.x):e.x,r.x.max=a(r.x.max)?Math.max(r.x.max,e.x):e.x),a(e.y)&&(r.y.min=a(r.y.min)?Math.min(r.y.min,e.y):e.y,r.y.max=a(r.y.max)?Math.max(r.y.max,e.y):e.y)}for(;i<s.length;i++){const e=s[i];a(e.x)&&(r.x.min=Math.min(r.x.min,e.x),r.x.max=Math.max(r.x.max,e.x)),a(e.y)&&(r.y.min=Math.min(r.y.min,e.y),r.y.max=Math.max(r.y.max,e.y))}return{x:{min:a(r.x.min)?r.x.min:0,max:a(r.x.max)?r.x.max:0},y:{min:a(r.y.min)?r.y.min:0,max:a(r.y.max)?r.y.max:0}}},getToolHeadPosition:(e,t)=>e=>{const s=Number.isFinite,r=t.getMoves,a={x:NaN,y:NaN,z:NaN};for(let t=e;t>=0&&(!s(a.x)||!s(a.y)||!s(a.z));t--)s(a.x)||void 0===r[t].x||(a.x=r[t].x),s(a.y)||void 0===r[t].y||(a.y=r[t].y),s(a.z)||void 0===r[t].z||(a.z=r[t].z);return{x:s(a.x)?a.x:0,y:s(a.y)?a.y:0,z:s(a.z)?a.z:0}},getPaths:(e,t)=>(e,s)=>{const r=t.getToolHeadPosition(e),a=t.getMoves,i={extrusions:"",moves:`M${r.x},${r.y}`,retractions:[],extrusionStarts:[],toolhead:{x:0,y:0}};let n=!0;for(let t=e;t<=s&&t<a.length;t++){const e=a[t];e.e>0?(n&&(i.extrusions+=`M${r.x},${r.y}`,i.extrusionStarts.push({x:r.x,y:r.y}),n=!1),i.extrusions+=es(r,e),Object.assign(r,e)):(n||(i.moves+=`M${r.x},${r.y}`,n=!0),e.e<0&&i.retractions.push({x:r.x,y:r.y}),i.moves+=es(r,e),Object.assign(r,e))}return i.toolhead={x:r.x,y:r.y},i},getLayerPaths:(e,t)=>e=>{var s,r,a,i;const n=t.getLayers;return t.getPaths(null!==(r=null===(s=n[e])||void 0===s?void 0:s.move)&&void 0!==r?r:0,(null!==(i=null===(a=n[e+1])||void 0===a?void 0:a.move)&&void 0!==i?i:1/0)-1)},getMoveIndexByFilePosition:(e,t)=>e=>e<=0?0:Yt(t.getMoves,(t=>{var s;return e-(null!==(s=t.filePosition)&&void 0!==s?s:0)}),!0),getLayerNrByFilePosition:(e,t)=>e=>{const s=t.getLayers;for(let t=0;t<s.length-1;t++)if(e<s[t+1].filePosition)return t;return s.length-1}};var ss=s(17932);const rs={async reset({commit:e}){e("setReset")},async terminateParserWorker({commit:e,state:t}){if(t.parserWorker){const s=t.parserWorker;e("setParserWorker",null),await ss.jz.terminate(s)}},async loadGcode({commit:e,getters:t,state:r},a){var i;const o=await(0,ss.Cs)(new ss.Cc(new URL(s.p+s.u(259),s.b)));e("setParserWorker",o),o.progress().subscribe((t=>{e("setParserProgress",t)}));const l=new Promise(((e,t)=>{ss.jz.events(o).subscribe((t=>{"termination"===t.type&&e([])})),ss.jz.errors(o).subscribe(t)}));e("setParserProgress",0),e("setMoves",[]),e("setFile",a.file);try{e("setMoves",await Promise.race([l,o.parse(a.gcode)])),e("setParserProgress",null!==(i=a.file.size)&&void 0!==i?i:a.gcode.length)}catch(c){n().error("Parser worker error",c)}r.parserWorker&&(e("setParserWorker",null),await ss.jz.terminate(o)),0===t.getMoves.length&&e("clearFile")}},as={setReset(e){Object.assign(e,is())},setMoves(e,t){r["default"].set(e,"moves",Object.freeze(t.map(Object.freeze)))},setFile(e,t){e.file=t},clearFile(e){e.file=void 0},setViewerState(e,t){for(const s of Object.keys(e.viewer))void 0!==t[s]&&r["default"].set(e.viewer,s,t[s])},setParserProgress(e,t){e.parserProgress=t},setParserWorker(e,t){e.parserWorker=t}},is=()=>({moves:[],file:void 0,parserProgress:0,parserWorker:null,viewer:{showCurrentLayer:!1,showNextLayer:!1,showPreviousLayer:!1,showMoves:!0,showExtrusions:!0,showRetractions:!0,followProgress:!1}}),ns=is(),os=!0,ls={namespaced:os,state:ns,getters:ts,actions:rs,mutations:as};var cs=s(39374);r["default"].use(a.ZP);var ds=new a.ZP.Store({strict:!1,state:{},modules:{socket:y,auth:D,server:N,printer:ee,config:te.vc,files:pe,layout:ue.bK,charts:we,console:Ae,macros:Ne,power:Ge,history:tt,version:dt,cameras:ft,mesh:kt,notifications:Lt,announcements:Ot,wait:zt,gcodePreview:ls,timelapse:cs.Uo},mutations:{},actions:{async reset({dispatch:e},t){r["default"].$colorset.forceResetAll();const s=[],a=t||Object.keys(this.state);return a.forEach((t=>{this.hasModule(t)&&s.push(e(t+"/reset"))})),Promise.all(s)},async init({dispatch:e,commit:t},s){return t("version/setVersion","1.18.2"),t("version/setHash","7b9f0c3\n"),t("socket/setApiConnected",s.apiConnected),[await e("config/initHost",s),await e("config/initLocal",s)]},void(e,t){n().debug("void action",t)}}})},59117:function(e,t,s){"use strict";s.d(t,{W2:function(){return p},bK:function(){return h}});var r=s(91619);const a={getLayoutConfigById:e=>(t,s)=>{let r;for(const a in e.layouts[t]){if(r)break;const i=e.layouts[t][a];r=i.find((e=>e.id===s))}return r},getLayout:e=>t=>{if(e.layouts[t])return(0,r.Z)(e.layouts[t])},isEnabledInLayout:(e,t)=>(e,s)=>{var r,a,i;const n=Object.values(null!==(r=t.getLayout(e))&&void 0!==r?r:{}).flat();return null!==(i=null===(a=n.find((e=>e.id===s)))||void 0===a?void 0:a.enabled)&&void 0!==i&&i},getContainer:e=>(t,s)=>{if(e.layouts[t][s])return[...e.layouts[t][s]]},getConfig:(e,t)=>(e,s)=>{const r=t.getLayout(e);if(r)for(const t in r){const e=r[t].find((e=>e.id===s));if(e)return{...e}}}};var i=s(63362),n=s(47307);const o={async reset({commit:e}){e("setReset")},async initLayout({commit:e},t){e("setInitLayout",t)},async onLayoutChange({commit:e,state:t},s){const r=t.layouts[s.name];r&&(e("setLayoutChange",s),await i.r.serverWrite(n.OH.MOONRAKER_DB.ROOTS.layout.name+".layouts",t.layouts))},async onUpdateConfig({commit:e,state:t},s){const r=t.layouts[s.name];if(r)for(const a in r){const o=r[a].findIndex((e=>e.id===s.value.id));o>=0&&(e("setUpdateConfig",{name:s.name,container:a,i:o,value:s.value}),await i.r.serverWrite(n.OH.MOONRAKER_DB.ROOTS.layout.name+`.layouts.${s.name}.${a}`,t.layouts[s.name][a]))}}};var l=s(20144),c=e=>{let t=[];for(const s in e){const r=e[s];for(const a in r){const r=e[s][a].map((e=>({...e,container:a,layout:s})));t=[...t,...r]}}return t};const d={setReset(e){Object.assign(e,p())},setInitLayout(e,t){if(t&&Object.keys(t).length>0){const s=Object.assign({},p()),r=c(s.layouts);for(const e in t.layouts){const s=t.layouts[e];for(const a in s){const i=s[a];t.layouts[e][a]=i.filter((e=>{const t=r.findIndex((t=>t.id===e.id));return t>=0&&r.splice(t,1),t>=0}))}}r.forEach((e=>{e.layout&&e.container&&(t.layouts[e.layout][e.container]?t.layouts[e.layout][e.container].push(e):t.layouts[e.layout][e.container]=[e])})),Object.assign(e,t)}},setLayoutChange(e,t){l["default"].set(e.layouts,t.name,t.value)},setUpdateConfig(e,t){l["default"].set(e.layouts[t.name][t.container],t.i,t.value)}},p=()=>({layouts:{dashboard:{container1:[{id:"printer-status-card",enabled:!0,collapsed:!1},{id:"camera-card",enabled:!0,collapsed:!1},{id:"toolhead-card",enabled:!0,collapsed:!1},{id:"macros-card",enabled:!0,collapsed:!1},{id:"outputs-card",enabled:!0,collapsed:!1},{id:"printer-limits-card",enabled:!0,collapsed:!1},{id:"retract-card",enabled:!0,collapsed:!1}],container2:[{id:"temperature-card",enabled:!0,collapsed:!1},{id:"console-card",enabled:!0,collapsed:!1},{id:"jobs-card",enabled:!0,collapsed:!1},{id:"gcode-preview-card",enabled:!0,collapsed:!1}]}}}),u=p(),m=!0,h={namespaced:m,state:u,getters:a,actions:o,mutations:d}},39374:function(e,t,s){"use strict";s.d(t,{W2:function(){return u},Ao:function(){return p},Uo:function(){return g}});const r={getSettings:e=>e.settings,getLastFrame:e=>e.lastFrame,getRenderStatus:e=>e.renderStatus,isBlockedSetting:e=>t=>{var s,r;return null===(r=null===(s=e.settings)||void 0===s?void 0:s.blockedsettings.includes(t))||void 0===r||r}};var a=s(63362),i=s(44652),n=s.n(i),o=s(7499),l=s(22555);const c={async reset({commit:e}){e("setReset")},async init(){a.r.timelapseState()},async onSettings({commit:e},t){e("setSettings",t)},async onLastFrame({commit:e},t){var s,r,a;const i=+(null!==(a=null===(r=null===(s=t.lastframefile)||void 0===s?void 0:s.match(/\d+/))||void 0===r?void 0:r[0])&&void 0!==a?a:0);e("setLastFrame",{count:t.framecount,uniqueCount:i,file:t.lastframefile})},async onEvent({commit:e},t){switch(t.action){case"newframe":if("error"===t.status)o.N.$emit(l.ZP.tc("app.timelapse.error.newframe"),{type:o.o.error});else{const s=parseInt(t.frame);e("setLastFrame",{count:s,uniqueCount:s,file:t.framefile})}break;case"render":{let s;switch(t.status){case"started":s={status:"started",count:t.framecount,settings:{frameRate:t.framerate,crf:t.crf,pixelFormat:t.pixelformat}};break;case"running":s={status:"running",progress:t.progress};break;case"success":s={status:"success",frameCount:t.framecount,fileName:t.filename,printFile:t.printfile,previewImage:t.previewimage,message:t.msg};break;default:return void n().warn("unhandled timelapse render status",t)}e("setRenderStatus",s);break}default:n().warn("unhandled timelapse event",t);break}}},d={setReset(e){Object.assign(e,u())},setSettings(e,t){e.settings=t},setLastFrame(e,t){e.lastFrame=t,e.renderStatus=void 0},setRenderStatus(e,t){e.renderStatus=t}},p={enabled:!0,mode:"layermacro",camera:"",stream_delay_compensation:.05,gcode_verbose:!1,parkhead:!1,parkpos:"back_left",park_custom_pos_x:10,park_custom_pos_y:10,park_custom_pos_dz:0,park_travel_speed:100,park_retract_speed:15,park_extrude_speed:15,park_retract_distance:1,park_extrude_distance:1,park_time:.1,fw_retract:!1,hyperlapse_cycle:30,autorender:!1,constant_rate_factor:23,output_framerate:30,pixelformat:"yuv420p",time_format_code:"%Y%m%d_%H%M",extraoutputparams:"",variable_fps:!1,targetlength:10,variable_fps_min:5,variable_fps_max:60,duplicatelastframe:5,previewimage:!0,saveframes:!1},u=()=>({lastFrame:void 0,settings:{...p,snapshoturl:"http://localhost:8080/?action=snapshot",rotation:0,flip_x:!1,flip_y:!1,blockedsettings:[]},renderStatus:void 0}),m=u(),h=!0,g={namespaced:h,state:m,getters:r,actions:c,mutations:d}},97800:function(e,t){"use strict";t["Z"]=(e,t)=>{let s=e.substr(0,e.lastIndexOf("/"));return s=s&&s.startsWith(t)?s.substring(t.length):s,{filename:e.split("/").pop()||"",path:s,rootPath:0===s.length?t:t+"/"+s}}},16434:function(e,t){"use strict";t["Z"]=e=>{const t=["temperature_fan","controller_fan","heater_fan","fan_generic","fan"],s=["temperature_sensor","temperature_probe"],r=["heater_generic","extruder"],a=["heater_bed"];return t.some((t=>e.startsWith(t)))?"fan":s.some((t=>e.startsWith(t)))?"sensor":r.some((t=>e.startsWith(t)))?"heater":a.some((t=>e.startsWith(t)))?"bed":""}},87094:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return R}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":320,persistent:""},on:{input:function(t){return e.$emit("input",t)}}},[s("v-form",{ref:"addInstanceForm",on:{submit:function(t){return t.preventDefault(),e.addInstance()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.general.title.add_printer")))]),s("v-spacer"),s("app-inline-help",{attrs:{bottom:""}},[s("span",{domProps:{innerHTML:e._s(e.$t("app.endpoint.tooltip.endpoint_examples"))}})])],1),s("v-card-text",{staticClass:"mt-4"},[s("span",{domProps:{innerHTML:e._s(e.helpTxt)}}),s("v-text-field",{attrs:{autofocus:"",label:e.$t("app.general.label.api_url"),"persistent-hint":"",hint:e.$t("app.endpoint.hint.add_printer"),loading:e.verifying,rules:[e.rules.required,e.rules.url]},scopedSlots:e._u([{key:"append-outer",fn:function(){return[e.verifying?s("v-icon",{staticClass:"spin",attrs:{color:"primary"}},[e._v(" $loading ")]):e._e(),e.verified||e.verifying?e._e():s("v-icon",{attrs:{color:"error"}},[e._v(" $cloudAlert ")]),e.verified&&!e.verifying?s("v-icon",{attrs:{color:"success"}},[e._v(" $cloudCheck ")]):e._e()]},proxy:!0}]),model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),e.error?s("v-alert",{staticClass:"mt-3 mb-2",attrs:{dense:"",text:"",type:"error"},domProps:{innerHTML:e._s(e.error)}}):e._e(),e.note?s("p",{staticClass:"mb-0",domProps:{innerHTML:e._s(e.note)}}):e._e()],1),s("v-card-actions",[s("v-spacer"),s("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),s("app-btn",{attrs:{color:"primary",type:"submit",disabled:!e.verified}},[e._v(" "+e._s(e.$t("app.general.btn.save"))+" ")])],1)],1)],1)],1)},a=[],i=s(70655),n=s(23940),o=s(77218),l=s(47307),c=s(9669),d=s.n(c),p=s(47237),u=s(92206),m=s(44652),h=s.n(m);let g=class extends((0,n.Wr)(p.Z)){constructor(){super(...arguments),this.waits=l.hw,this.valid=!0,this.verifying=!1,this.verified=!1,this.error=null,this.note=null,this.rules={required:e=>!!e||this.$t("app.general.simple_form.error.required"),url:e=>this.validUrl(e)||this.$t("app.general.simple_form.error.invalid_url")},this.timer=0,this.url="",this.cancelSource=void 0,this.controller=void 0}validUrl(e){try{this.buildUrl(e)}catch{return!1}return!0}buildUrl(e){return e.startsWith("http://")||e.startsWith("https://")||(e=`http://${e}`),new URL(e)}onUrlChange(e,t){e!==t&&this.valid&&this.handleUrlChange(e)}async handleUrlChange(e){if(this.valid){this.verified=!1,this.error=null,this.note=null,this.verifying=!0;const t=this.buildUrl(e);void 0!==this.cancelSource&&this.cancelSource.cancel("Cancelled due to new request."),this.cancelSource=d().CancelToken.source();const s=await o.Z.get(t+"server/info?t="+(new Date).getTime(),{withAuth:!1,cancelToken:this.cancelSource.token}).then((()=>(this.verified=!0,this.verifying=!1,"ok"))).catch((e=>{var t;return d().isCancel(e)?"ok":401===(null===(t=e.response)||void 0===t?void 0:t.status)?(this.verified=!0,this.verifying=!1,"ok"):e.request?e.message:(this.error=e,"ok")}));if("ok"!==s){void 0!==this.controller&&this.controller.abort(),this.controller=new AbortController;const{signal:e}=this.controller;await fetch(t+"server/info",{signal:e,mode:"no-cors",cache:"no-cache"}).then((()=>{this.error=this.$t("app.endpoint.error.cors_error"),this.note=this.$t("app.endpoint.error.cors_note",{url:l.OH.DOCS_MULTIPLE_INSTANCES})})).catch((e=>{h().debug("Network Error",e,s),this.error=s,this.note=this.$t("app.endpoint.error.cant_connect")})).finally((()=>{this.verifying=!1}))}}}get form(){return this.$refs.addInstanceForm}get helpTxt(){return this.$t("app.endpoint.msg.trouble",{url:l.OH.DOCS_MULTIPLE_INSTANCES})}addInstance(){if(this.valid){const e=this.buildUrl(this.url),t=this.$filters.getApiUrls(e.toString());this.$emit("input",!1),this.$emit("resolve",t)}}};(0,i.gn)([(0,n.fI)({type:Boolean,required:!0})],g.prototype,"value",void 0),(0,i.gn)([(0,n.RL)("url")],g.prototype,"onUrlChange",null),(0,i.gn)([(0,u.K)(750)],g.prototype,"handleUrlChange",null),g=(0,i.gn)([(0,n.wA)({})],g);var v=g,f=v,_=s(1001),y=s(43453),b=s.n(y),x=s(35098),$=s(32371),w=s(37118),C=s(4497),k=s(46232),S=s(96428),P=s(99762),E=s(29837),Z=(0,_.Z)(f,r,a,!1,null,null,null),R=Z.exports;b()(Z,{VAlert:x.Z,VCard:$.Z,VCardActions:w.h7,VCardText:w.ZB,VCardTitle:w.EB,VDialog:C.Z,VForm:k.Z,VIcon:S.Z,VSpacer:P.Z,VTextField:E.Z})},39630:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-alert",{attrs:{text:"",dense:"",icon:"$warning",type:"warning"}},[e.printerWarnings.length>0?s("div",[s("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.$t("app.general.error.app_warnings_found",{appName:e.appName}))+" ")]),s("ul",{staticClass:"mb-4"},e._l(e.printerWarnings,(function(t,r){return s("li",{key:r,domProps:{innerHTML:e._s(e.linkExternalUrls(t.message))}})})),0)]):e._e(),e.klipperWarnings.length>0?s("div",[s("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.$t("app.general.error.app_warnings_found",{appName:"Klipper"}))+" ")]),s("ul",{staticClass:"mb-4"},e._l(e.klipperWarnings,(function(t,r){return s("li",{key:r,domProps:{innerHTML:e._s(e.linkExternalUrls(t.message))}})})),0)]):e._e(),e.moonrakerFailedComponents.length>0?s("div",[s("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.$t("app.general.error.failed_components"))+" ")]),s("ul",{staticClass:"mb-4"},e._l(e.moonrakerFailedComponents,(function(t,r){return s("li",{key:r,domProps:{innerHTML:e._s(e.linkExternalUrls(t))}})})),0)]):e._e(),e.moonrakerWarnings.length>0?s("div",[s("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.$t("app.general.error.app_warnings_found",{appName:"Moonraker"}))+" ")]),s("ul",{staticClass:"mb-4"},e._l(e.moonrakerWarnings,(function(t,r){return s("li",{key:r,domProps:{innerHTML:e._s(e.linkExternalUrls(t))}})})),0)]):e._e(),e.printerWarnings.length>0?s("div",[s("span",{domProps:{innerHTML:e._s(e.printerWarningsTxt)}})]):e._e(),e.moonrakerFailedComponents.length>0?s("div",[s("span",{domProps:{innerHTML:e._s(e.moonrakerFailedComponentsTxt)}})]):e._e()])},a=[],i=s(70655),n=s(23940),o=s(47237),l=s(47307);const c=/(https?:\/\/[^\s]+)/gi,d=e=>e.replace(c,'<a target="_blank" href="$1">$1</a>');var p=d;let u=class extends((0,n.Wr)(o.Z)){constructor(){super(...arguments),this.linkExternalUrls=p}get docsUrl(){return l.OH.DOCS_REQUIRED_CONFIGURATION}get moonrakerDocsUrl(){return l.OH.DOCS_MOONRAKER_COMPONENTS}get printerWarningsTxt(){return this.$t("app.general.error.app_setup_link",{url:this.docsUrl})}get moonrakerFailedComponentsTxt(){return this.$t("app.general.error.components_config",{url:this.moonrakerDocsUrl})}get appName(){return l.OH.APP_NAME}get printerWarnings(){return this.$store.getters["printer/getPrinterWarnings"]}get klipperWarnings(){return this.$store.getters["printer/getKlipperWarnings"]}get moonrakerFailedComponents(){return this.$store.getters["printer/getMoonrakerFailedComponents"]}get moonrakerWarnings(){return this.$store.getters["printer/getMoonrakerWarnings"]}};u=(0,i.gn)([(0,n.wA)({components:{}})],u);var m=u,h=m,g=s(1001),v=s(43453),f=s.n(v),_=s(35098),y=(0,g.Z)(h,r,a,!1,null,null,null),b=y.exports;f()(y,{VAlert:_.Z})},3444:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return $}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{class:e._cardClasses,attrs:{rounded:e.rounded,loading:e.isLoading,color:e.color}},[s("v-card-title",{staticClass:"collapsable-card-title card-heading",class:{draggable:e.inLayout}},[s("v-row",{staticClass:"flex-nowrap",attrs:{"no-gutters":""}},[s("v-col",{staticClass:"text-no-wrap",attrs:{"align-self":"center"}},[e._t("title",(function(){return[s("v-icon",{attrs:{left:""}},[e._v(" "+e._s(e.icon)+" ")]),s("span",{staticClass:"font-weight-light"},[e._v(e._s(e.title))])]}))],2),s("v-col",{attrs:{cols:"auto","align-self":"center"}},[e._t("menu")],2),s("v-col",{attrs:{cols:"auto","align-self":"center"}},[e._t("collapse-button",(function(){return[e._collapsable||e.inLayout?s("app-btn-collapse",{attrs:{collapsed:e.isCollapsed,enabled:e.isEnabled,"in-layout":e.inLayout},on:{"update:collapsed":function(t){e.isCollapsed=t},"update:enabled":function(t){e.isEnabled=t}}}):e._e()]}))],2)],1)],1),e.lazy?e._e():s("v-expand-transition",[e.isCollapsed||e.inLayout?e._e():s("div",{class:e._contentClasses,style:e._contentStyles,attrs:{id:"card-content"},on:{transitionend:e.transitionEvent}},[e.subTitle||e.hasSubTitleSlot?s("v-card-subtitle",{staticClass:"py-2"},[e._t("sub-title",(function(){return[s("span",{domProps:{innerHTML:e._s(e.subTitle)}})]}))],2):e._e(),e.subTitle||e.hasSubTitleSlot?s("v-divider"):e._e(),e._t("default")],2)]),e.lazy?s("v-expand-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapsed&&!e.inLayout,expression:"!isCollapsed && !inLayout"}],class:e._contentClasses,style:e._contentStyles,attrs:{id:"card-content"},on:{transitionend:e.transitionEvent}},[e.subTitle||e.hasSubTitleSlot?s("v-card-subtitle",{staticClass:"py-2"},[e._t("subTitle",(function(){return[s("span",{domProps:{innerHTML:e._s(e.subTitle)}})]}))],2):e._e(),e.subTitle||e.hasSubTitleSlot?s("v-divider"):e._e(),e._t("default")],2)]):e._e()],1)},a=[],i=(s(21703),s(70655)),n=s(25923),o=s(23940);let l=class extends o.w3{constructor(){super(...arguments),this.baseCardClasses={"collapsable-card":!0},this.baseContentClasses=""}get _cardClasses(){const e={};return this.cardClasses&&this.cardClasses.split(" ").forEach((t=>{e[t]=!0})),{...e,...this.baseCardClasses,collapsed:this.isCollapsed}}get _contentClasses(){return this.contentClasses?this.contentClasses:this.baseContentClasses}get _contentStyles(){return this.height?`height: calc(${this.height}px - 49px);`:""}get _collapsable(){return!!this.collapsable&&(!!this.layout&&this.collapsable)}get _layoutPath(){if(this.layoutPath){if(this.layoutPath.includes(".")){const e=this.layoutPath.split(".");return{name:e[0],id:(0,n.Z)(e[1])}}throw new Error("invalid layout path")}}get layout(){if(this._layoutPath)return this.$store.getters["layout/getConfig"](this._layoutPath.name,this._layoutPath.id)}get menuClasses(){return`d-none d-${this.menuBreakpoint}-flex`}get isLoading(){return!!this.loading&&"primary"}get isCollapsed(){return!!this.layout&&this.layout.collapsed}set isCollapsed(e){const t=this.layout;t&&this._layoutPath&&(t.collapsed=e,this.$store.dispatch("layout/onUpdateConfig",{name:this._layoutPath.name,value:t}))}isCollapsedChange(e){this.$emit("collapsed",e)}get isEnabled(){return!this.layout||this.layout.enabled}set isEnabled(e){const t=this.layout;t&&this._layoutPath&&(t.enabled=e,this.$store.dispatch("layout/onUpdateConfig",{name:this._layoutPath.name,value:t}))}get inLayout(){return this.$store.state.config.layoutMode&&this.draggable}get hasDefaultSlot(){return!!this.$slots.default||!!this.$scopedSlots.default}get hasTitleSlot(){return!!this.$slots.title||!!this.$scopedSlots.title}get hasSubTitleSlot(){return!!this.$slots["sub-title"]||!!this.$scopedSlots["sub-title"]}get hasCollapseButtonSlot(){return!!this.$slots["collapse-button"]||!!this.$scopedSlots["collapse-button"]}mounted(){this.$emit("collapsed",this.isCollapsed),this.hasCollapseButtonSlot}onCollapseChange(e){this.isCollapsed=e}onLayoutEnabled(e){this.$emit("enabled",e)}transitionEvent(e){if(e.target&&e.target){const t=e.target;"card-content"===t.id&&this.$emit("transition-end")}}};(0,i.gn)([(0,o.fI)({type:String,required:!0})],l.prototype,"title",void 0),(0,i.gn)([(0,o.fI)({type:String})],l.prototype,"color",void 0),(0,i.gn)([(0,o.fI)({type:String,required:!1})],l.prototype,"subTitle",void 0),(0,i.gn)([(0,o.fI)({type:String})],l.prototype,"layoutPath",void 0),(0,i.gn)([(0,o.fI)({type:Boolean,default:!0})],l.prototype,"lazy",void 0),(0,i.gn)([(0,o.fI)({type:String,required:!1})],l.prototype,"icon",void 0),(0,i.gn)([(0,o.fI)({type:String,required:!1})],l.prototype,"iconColor",void 0),(0,i.gn)([(0,o.fI)({type:Boolean,default:!1})],l.prototype,"loading",void 0),(0,i.gn)([(0,o.fI)({type:Boolean,default:!1})],l.prototype,"draggable",void 0),(0,i.gn)([(0,o.fI)({type:Boolean,default:!0})],l.prototype,"collapsable",void 0),(0,i.gn)([(0,o.fI)({type:String,default:"md"})],l.prototype,"rounded",void 0),(0,i.gn)([(0,o.fI)({type:[Number,String],required:!1})],l.prototype,"height",void 0),(0,i.gn)([(0,o.fI)({type:String,default:"lg"})],l.prototype,"menuBreakpoint",void 0),(0,i.gn)([(0,o.fI)({type:String})],l.prototype,"cardClasses",void 0),(0,i.gn)([(0,o.fI)({type:String})],l.prototype,"contentClasses",void 0),(0,i.gn)([(0,o.RL)("isCollapsed")],l.prototype,"isCollapsedChange",null),l=(0,i.gn)([(0,o.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(32371),g=s(37118),v=s(82102),f=s(11418),_=s(85827),y=s(96428),b=s(62877),x=(0,p.Z)(d,r,a,!1,null,null,null),$=x.exports;m()(x,{VCard:h.Z,VCardSubtitle:g.Qq,VCardTitle:g.EB,VCol:v.Z,VDivider:f.Z,VExpandTransition:_.Fx,VIcon:y.Z,VRow:b.Z})},23521:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-snackbar",{attrs:{color:e.type,timeout:e.timeout,elevation:"24","multi-line":"",top:"",centered:""},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[s("app-btn",e._b({attrs:{dark:""},on:{click:function(t){e.open=!1}}},"app-btn",r,!1),[e._v(" "+e._s(e.$t("app.general.btn.close"))+" ")])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[s("span",{domProps:{innerHTML:e._s(e.text)}})])},a=[],i=s(70655),n=s(20144),o=s(23940);let l=class extends n["default"]{get open(){return this.$props.value}set open(e){this.$emit("input",e)}};(0,i.gn)([(0,o.fI)({type:Boolean})],l.prototype,"value",void 0),(0,i.gn)([(0,o.fI)({type:String,default:"dark"})],l.prototype,"type",void 0),(0,i.gn)([(0,o.fI)({type:String,default:"Saved!"})],l.prototype,"text",void 0),(0,i.gn)([(0,o.fI)({type:Number,default:1500})],l.prototype,"timeout",void 0),l=(0,i.gn)([(0,o.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(13202),g=(0,p.Z)(d,r,a,!1,null,"626bf274",null),v=g.exports;m()(g,{VSnackbar:h.Z})},67571:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("collapsable-card",{attrs:{title:"Klippy: "+e.klippyState,icon:"$error","icon-color":"error"}},[s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"auto"}},[s("system-control")],1),s("v-col",{attrs:{cols:"12",sm:""}},["Printer is ready"!==e.klippyStateMessage?s("v-alert",{attrs:{text:"",dense:"",type:"error"}},[s("span",{domProps:{innerHTML:e._s(e.klippyStateMessage)}})]):e._e(),e.hasWarnings?s("app-warnings"):e._e()],1)],1)],1)],1)},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){};l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(35098),g=s(37118),v=s(82102),f=s(62877),_=(0,p.Z)(d,r,a,!1,null,null,null),y=_.exports;m()(_,{VAlert:h.Z,VCardText:g.ZB,VCol:v.Z,VRow:f.Z})},10059:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticStyle:{height:"400px"}},[s("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[s("v-col",{staticClass:"subtitle-1 text-center",attrs:{cols:"12"}},[e.activeInstance?s("div",[e._v(" "+e._s(e.activeInstance.apiUrl)+" ")]):e._e(),e.socketConnecting?s("span",[e._v(e._s(e.$t("app.socket.msg.connecting")))]):e._e(),e.socketConnecting?e._e():s("span",[e._v(e._s(e.$t("app.socket.msg.no_connection")))])]),s("v-col",{attrs:{cols:"6",lg:"4"}},[e.socketConnecting?s("v-progress-linear",{staticClass:"mb-4",attrs:{color:"warning",indeterminate:"",rounded:"",height:"6"}}):e._e(),e.socketConnecting?e._e():s("app-btn",{staticClass:"me-2 mb-2",attrs:{block:"",color:"info"},on:{click:function(t){return e.reconnect()}}},[e._v(" "+e._s(e.$t("app.general.btn.socket_reconnect"))+" ")]),s("app-btn",{staticClass:"me-2 mb-2",attrs:{block:"",color:"warning"},on:{click:function(t){return e.reload()}}},[e._v(" "+e._s(e.$t("app.general.btn.socket_refresh"))+" ")])],1)],1)],1)},a=[],i=s(70655),n=s(23940),o=s(9696),l=s(47237);let c=class extends((0,n.Wr)(l.Z)){reload(){window.location.reload()}get instances(){return this.$store.getters["config/getInstances"]}get activeInstance(){return this.instances.find((e=>e.active))}reconnect(e){(0,o.J)(e,this.$store.state.config.hostConfig).then((e=>{e.apiConfig.socketUrl&&e.apiConnected&&e.apiAuthenticated&&this.$socket.connect(e.apiConfig.socketUrl)}))}};c=(0,i.gn)([(0,n.wA)({components:{}})],c);var d=c,p=d,u=s(1001),m=s(43453),h=s.n(m),g=s(82102),v=s(4228),f=s(57003),_=s(62877),y=(0,u.Z)(p,r,a,!1,null,null,null),b=y.exports;h()(y,{VCol:g.Z,VContainer:v.Z,VProgressLinear:f.Z,VRow:_.Z})},7452:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-list-group",{attrs:{"prepend-icon":"$host","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.$t("app.general.label.host")))])],1)]},proxy:!0}])},[s("v-list-item",{attrs:{disabled:e.printerPrinting},on:{click:e.handleHostReboot}},[s("v-list-item-title",[e._v(e._s(e.$t("app.general.btn.reboot")))]),s("v-list-item-icon",[s("v-icon",{attrs:{color:"error"}},[e._v(" $powerCycle ")])],1)],1),s("v-list-item",{attrs:{disabled:e.printerPrinting},on:{click:e.handleHostShutdown}},[s("v-list-item-title",[e._v(e._s(e.$t("app.general.btn.shutdown")))]),s("v-list-item-icon",[s("v-icon",{attrs:{color:"error"}},[e._v(" $power ")])],1)],1)],1),e.devicePowerComponentEnabled?s("v-list-group",{attrs:{"prepend-icon":"$power","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.$t("app.general.label.power")))])],1)]},proxy:!0}],null,!1,2074444020)},e._l(e.powerDevices,(function(t,r){return s("v-list-item",{key:r,attrs:{disabled:"error"===t.status||"init"===t.status||e.printerPrinting&&t.locked_while_printing,loading:e.hasWait(""+e.waits.onDevicePowerToggle+t.device)},on:{click:function(s){return e.togglePowerDevice(t,""+e.waits.onDevicePowerToggle+t.device)}}},[s("v-list-item-title",[e._v(e._s(e.getPowerButtonText(t)))]),s("v-list-item-icon",[s("v-icon",[e._v(e._s(e.getPowerIcon(t)))])],1)],1)})),1):e._e(),s("v-list-group",{attrs:{"prepend-icon":"$restart","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.$t("app.general.label.services")))])],1)]},proxy:!0}])},[e._l(e.services,(function(t){return[s("v-list-item",{key:t.name},[s("v-list-item-content",[s("v-list-item-title",[s("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var a=r.on,i=r.attrs;return[s("span",e._g(e._b({staticClass:"text-wrap",staticStyle:{"text-transform":"capitalize"}},"span",i,!1),a),[e._v(e._s(t.name))])]}}],null,!0)},[s("span",{staticStyle:{"text-transform":"capitalize"}},[e._v(e._s(t.active_state)+" ("+e._s(t.sub_state)+")")])])],1)],1),s("v-list-item-action",["inactive"===t.active_state?s("v-btn",{attrs:{icon:""},on:{click:function(s){return e.checkDialog(e.serviceStart,t,"start")}}},[s("v-icon",[e._v("$play")])],1):s("v-btn",{attrs:{icon:""},on:{click:function(s){return e.checkDialog(e.serviceRestart,t,"restart")}}},[s("v-icon",{attrs:{color:"warning"}},[e._v(" $restart ")])],1),s("v-btn",{style:"moonraker"===t.name?"visibility: hidden;":"",attrs:{icon:"",disabled:"inactive"===t.active_state},on:{click:function(s){return e.checkDialog(e.serviceStop,t,"stop")}}},[s("v-icon",{attrs:{color:"error"}},[e._v(" $stop ")])],1)],1)],1)]}))],2),s("v-divider")],1)},a=[],i=s(70655),n=s(23940),o=s(47237),l=s(73111),c=s(63362);let d=class extends((0,n.Wr)(o.Z,l.Z)){get serverInfo(){return this.$store.getters["server/getInfo"]}get hosted(){return this.$store.state.config.hostConfig.hosted}get powerDevices(){return this.$store.state.power.devices}get devicePowerComponentEnabled(){return this.$store.getters["server/componentSupport"]("power")}get services(){return this.$store.getters["server/getServices"].filter((e=>"klipper_mcu"!==e.name))}async checkDialog(e,t,s){var r;if(this.printerPrinting||["restart","stop"].includes(s)){const a=await this.$confirm(null===(r=this.$t(`app.general.simple_form.msg.confirm_service_${s}`,{name:t.name}))||void 0===r?void 0:r.toString(),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"});a&&(this.$emit("click"),await e(t))}else this.$emit("click"),await e(t)}async serviceRestart(e){await this.serviceRestartByName(e.name)}async serviceStart(e){await this.serviceStartByName(e.name)}async serviceStop(e){await this.serviceStopByName(e.name)}handleHostReboot(){this.$confirm(this.$tc("app.general.simple_form.msg.confirm_reboot_host"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{e&&(this.$emit("click"),this.hostReboot())}))}handleHostShutdown(){this.$confirm(this.$tc("app.general.simple_form.msg.confirm_shutdown_host"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{e&&(this.$emit("click"),this.hostShutdown())}))}async togglePowerDevice(e,t){const s=this.$store.state.config.uiSettings.general.confirmOnPowerDeviceChange;let r=!0;if(s&&(r=await this.$confirm(this.$tc("app.general.simple_form.msg.confirm_power_device_toggle"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"})),r){const s="on"===e.status?"off":"on";c.r.machineDevicePowerToggle(e.device,s,t)}}getPowerIcon(e){switch(e.status){case"error":return"$error";case"init":return"$dots";case"on":return"$powerOn";case"off":return"$powerOff"}}getPowerButtonText(e){switch(e.status){case"error":return`${e.device} [error]`;default:return`${e.device}`}}};d=(0,i.gn)([(0,n.wA)({})],d);var p=d,u=p,m=s(1001),h=s(43453),g=s.n(h),v=s(78053),f=s(11418),_=s(96428),y=s(59443),b=s(97620),x=s(83099),$=s(276),w=s(10459),C=s(19330),k=(0,m.Z)(u,r,a,!1,null,"f37e82da",null),S=k.exports;g()(k,{VBtn:v.Z,VDivider:f.Z,VIcon:_.Z,VListGroup:y.Z,VListItem:b.Z,VListItemAction:x.Z,VListItemContent:$.km,VListItemIcon:w.Z,VListItemTitle:$.V9,VTooltip:C.Z})},10845:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.klippyConnected?s("div",[s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("app-btn",e._g(e._b({staticClass:"me-2 mb-2",attrs:{block:"",color:"primary"},on:{click:e.restartKlippy}},"app-btn",a,!1),r),[e._v(" "+e._s(e.$t("app.general.btn.restart_service_klipper"))+" ")])]}}],null,!1,3735503835)},[s("span",[e._v(e._s(e.$t("app.general.tooltip.reload_klipper")))])])],1):s("div",[s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("app-btn",e._g(e._b({staticClass:"me-2 mb-2",attrs:{block:"",color:"primary"},on:{click:e.serviceRestartKlipper}},"app-btn",a,!1),r),[e._v(" "+e._s(e.$t("app.general.btn.restart_service_klipper"))+" ")])]}}])},[s("span",[e._v(e._s(e.$t("app.general.tooltip.restart_klipper")))])])],1),e.klippyConnected?s("div",[s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("app-btn",e._g(e._b({staticClass:"me-2 mb-2",attrs:{block:"",color:"primary"},on:{click:e.firmwareRestartKlippy}},"app-btn",a,!1),r),[e._v(" "+e._s(e.$t("app.general.btn.restart_firmware"))+" ")])]}}],null,!1,3161813664)},[s("span",[e._v(e._s(e.$t("app.general.tooltip.reload_restart_klipper")))])])],1):e._e(),s("app-btn",{staticClass:"me-2 mb-2",attrs:{block:""},on:{click:function(t){return e.getKlippyLog()}}},[s("v-icon",{attrs:{left:"",small:""}},[e._v(" $download ")]),e._v(" Klippy.log ")],1),s("app-btn",{staticClass:"me-2 mb-2",attrs:{block:""},on:{click:function(t){return e.getMoonrakerLog()}}},[s("v-icon",{attrs:{left:"",small:""}},[e._v(" $download ")]),e._v(" Moonraker.log ")],1)],1)},a=[],i=s(70655),n=s(23940),o=s(70994),l=s(47237),c=s(73111);let d=class extends((0,n.Wr)(l.Z,o.Z,c.Z)){getKlippyLog(){this.downloadFile("klippy.log","")}getMoonrakerLog(){this.downloadFile("moonraker.log","")}};d=(0,i.gn)([(0,n.wA)({})],d);var p=d,u=p,m=s(1001),h=s(43453),g=s.n(h),v=s(96428),f=s(19330),_=(0,m.Z)(u,r,a,!1,null,null,null),y=_.exports;g()(_,{VIcon:v.Z,VTooltip:f.Z})},11515:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-list",{attrs:{dense:""}},[s("v-subheader",[e._v(e._s(e.$t("app.general.label.layout")))]),s("v-list-item",{on:{click:function(t){t.preventDefault(),e.layoutMode=!e.layoutMode}}},[s("v-list-item-icon",[s("v-icon",[e._v("$apps")])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"text-wrap"},[e._v(" "+e._s(e.$t("app.general.btn.adjust_layout"))+" ")])],1)],1)],1)},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){get layoutMode(){return this.$store.state.config.layoutMode}set layoutMode(e){this.$store.commit("config/setLayoutMode",e),this.close()}close(){this.$emit("click")}};l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(96428),g=s(16816),v=s(97620),f=s(276),_=s(10459),y=s(55533),b=(0,p.Z)(d,r,a,!1,null,null,null),x=b.exports;m()(b,{VIcon:h.Z,VList:g.Z,VListItem:v.Z,VListItemContent:f.km,VListItemIcon:_.Z,VListItemTitle:f.V9,VSubheader:y.Z})},21742:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-list",{attrs:{dense:""}},[s("v-subheader",[e._v(e._s(e.$t("app.general.label.printers")))]),e._l(e.instances,(function(t,r){return[s("v-list-item",{key:r,class:{"v-item--active v-list-item--active":t.active},attrs:{color:"primary"},on:{click:function(s){return s.stopPropagation(),e.activateInstance(t)}}},[s("v-list-item-content",[s("v-list-item-title",[e._v(" "+e._s(t.name)),s("br"),s("small",[e._v(e._s(t.apiUrl))])])],1),t.active?e._e():s("v-list-item-action",[s("app-btn",{attrs:{icon:"",small:"",color:""},on:{click:function(s){return s.stopPropagation(),e.removeInstance(t)}}},[s("v-icon",{attrs:{small:""}},[e._v(" $delete ")])],1)],1)],1)]})),s("v-list-item",{on:{click:function(t){return e.addInstanceDialog()}}},[s("v-list-item-icon",[s("v-icon",[e._v("$plus")])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"text-wrap"},[e._v(" "+e._s(e.$t("app.general.btn.add_printer"))+" ")])],1)],1),e.instanceDialogOpen?s("add-instance-dialog",{on:{resolve:e.activateInstance},model:{value:e.instanceDialogOpen,callback:function(t){e.instanceDialogOpen=t},expression:"instanceDialogOpen"}}):e._e(),s("v-divider")],2)},a=[],i=s(70655),n=s(23940),o=s(47237),l=s(9696),c=s(47307);let d=class extends((0,n.Wr)(o.Z)){constructor(){super(...arguments),this.waits=c.hw,this.instanceDialogOpen=!1}get instanceName(){return this.$store.state.config.uiSettings.general.instanceName}get instances(){return this.$store.getters["config/getInstances"]}mounted(){""===this.$store.state.config.apiUrl&&(this.instanceDialogOpen=!0)}removeInstance(e){this.$store.dispatch("config/removeInstance",e)}addInstanceDialog(){this.instanceDialogOpen=!0}activateInstance(e){this.$emit("click"),e.active||(this.$socket.close(),(0,l.J)(e,this.$store.state.config.hostConfig).then((e=>{e.apiConfig.socketUrl&&e.apiConnected&&e.apiAuthenticated&&this.$socket.connect(e.apiConfig.socketUrl)})))}};d=(0,i.gn)([(0,n.wA)({})],d);var p=d,u=p,m=s(1001),h=s(43453),g=s.n(h),v=s(11418),f=s(96428),_=s(16816),y=s(97620),b=s(83099),x=s(276),$=s(10459),w=s(55533),C=(0,m.Z)(u,r,a,!1,null,"954770d2",null),k=C.exports;g()(C,{VDivider:v.Z,VIcon:f.Z,VList:_.Z,VListItem:y.Z,VListItemAction:b.Z,VListItemContent:x.km,VListItemIcon:$.Z,VListItemTitle:x.V9,VSubheader:w.Z})},7754:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.showDialog,"max-width":650,persistent:""}},[s("v-card",{attrs:{loading:!!e.updating&&"primary"}},[s("v-card-title",[s("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),s("v-card-text",[s("console",{attrs:{items:e.responses,"key-field":"id",height:250,readonly:""}})],1),s("v-card-actions",[s("v-spacer"),e._t("actions",(function(){return[s("app-btn",{attrs:{color:"primary",text:"",disabled:e.updating},on:{click:e.close}},[e._v(" "+e._s(e.buttonTitle)+" ")])]}))],2)],1)],1)},a=[],i=s(70655),n=s(23940),o=s(47237),l=s(99187);let c=class extends((0,n.Wr)(o.Z)){constructor(){super(...arguments),this.invokedDialog=!1}get showDialog(){return!(!0!==this.invokedDialog&&!this.$store.state.version.busy)&&(this.invokedDialog=!0,!0)}get updating(){return this.$store.state.version.busy}get title(){return this.updating?this.$t("app.version.status.updating"):this.$t("app.version.status.finished")}get buttonTitle(){return this.updating?this.$t("app.version.status.updating"):this.$t("app.version.btn.finish")}get responses(){return this.$store.getters["version/getResponses"]}close(){this.invokedDialog=!1,this.$store.commit("version/setClearUpdateResponse")}};c=(0,i.gn)([(0,n.wA)({components:{Console:l.Z}})],c);var d=c,p=d,u=s(1001),m=s(43453),h=s.n(m),g=s(32371),v=s(37118),f=s(4497),_=s(99762),y=(0,u.Z)(p,r,a,!1,null,null,null),b=y.exports;h()(y,{VCard:g.Z,VCardActions:v.h7,VCardText:v.ZB,VCardTitle:v.EB,VDialog:f.Z,VSpacer:_.Z})},1222:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition","min-width":150},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs,i=t.value;return[s("app-btn",e._g(e._b({attrs:{"x-small":""}},"app-btn",a,!1),r),[s("v-icon",{staticClass:"mr-1",attrs:{"x-small":""}},[e._v(" $snooze ")]),e._v(" "+e._s(e.$t("app.general.btn.snooze"))+" "),s("v-icon",{staticClass:"ml-1",class:{"rotate-180":i},attrs:{"x-small":""}},[e._v(" $chevronDown ")])],1)]}}])},[s("v-list",{attrs:{dense:""}},e._l(e.presets,(function(t){return s("v-list-item",{key:t.delay,attrs:{link:"",dense:""},on:{click:function(s){return e.$emit("dismiss",t.delay)}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:""}},[e._v(" $clock ")]),e._v(" "+e._s(t.label)+" ")],1)],1)})),1)],1)},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){get presets(){return[{hours:1},{days:1},{days:7}].map((e=>{const t=this.$dayjs.duration(e);return{label:t.humanize(),delay:t.asSeconds()}}))}};l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(96428),g=s(16816),v=s(97620),f=s(276),_=s(41152),y=(0,p.Z)(d,r,a,!1,null,null,null),b=y.exports;m()(y,{VIcon:h.Z,VList:g.Z,VListItem:v.Z,VListItemTitle:f.V9,VMenu:_.Z})},50343:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app-bar",{attrs:{app:"","clipped-left":"","extension-height":"46",color:e.theme.currentTheme.appbar,height:e.$globals.HEADER_HEIGHT},scopedSlots:e._u([e.inLayout?{key:"extension",fn:function(){return[s("app-btn",{staticClass:"mx-2",attrs:{small:"",color:"primary"},domProps:{innerHTML:e._s(e.$t("app.general.btn.exit_layout"))},on:{click:function(t){return t.stopPropagation(),e.handleExitLayout.apply(null,arguments)}}}),s("app-btn",{staticClass:"mx-2",attrs:{small:"",color:"primary"},domProps:{innerHTML:e._s(e.$t("app.general.btn.reset_layout"))},on:{click:function(t){return t.stopPropagation(),e.handleResetLayout.apply(null,arguments)}}})]},proxy:!0}:null],null,!0)},[s("router-link",{directives:[{name:"show",rawName:"v-show",value:!e.isMobile,expression:"!isMobile"}],staticClass:"toolbar-logo",attrs:{to:"/"}},[s("app-icon")],1),s("div",{staticClass:"toolbar-title"},[e.isMobile?s("app-btn",{staticClass:"mx-1",attrs:{fab:"",small:"",elevation:0,color:"transparent"},on:{click:function(t){return e.$emit("navdrawer")}}},[s("v-icon",[e._v("$menuAlt")])],1):e._e(),s("v-toolbar-title",{staticClass:"printer-title text--secondary"},[s("router-link",{attrs:{to:"/"},domProps:{innerHTML:e._s(e.instanceName)}})],1)],1),s("div",{staticClass:"toolbar-supplemental"},[e.socketConnected&&!e.isMobile&&e.authenticated?s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[e.isMobile?e._e():s("app-btn",e._g(e._b({staticClass:"mx-1",attrs:{disabled:!e.klippyReady,color:""},on:{click:function(t){return e.emergencyStop()}}},"app-btn",a,!1),r),[s("v-icon",{attrs:{color:"error"}},[e._v(" $estop ")])],1)]}}],null,!1,3053046218)},[e._v(" "+e._s(e.$t("app.general.tooltip.estop"))+" ")]):e._e(),e.authenticated&&e.socketConnected?s("app-notification-menu"):e._e(),e.supportsAuth&&e.authenticated?s("app-user-menu",{on:{"change-password":function(t){e.dialog=!0}}}):e._e(),s("app-btn",{staticClass:"mx-1",attrs:{fab:"",small:"",elevation:0,color:"transparent"},on:{click:function(t){return e.$emit("toolsdrawer")}}},[s("v-icon",[e._v("$menu")])],1)],1),e.dialog?s("user-password-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}}):e._e()],1)},a=[],i=s(70655),n=s(23940),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{value:e.value,"max-width":500},on:{input:function(t){return e.$emit("input",t)}}},[s("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSave.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card",[s("v-card-title",{staticClass:"card-heading py-2"},[s("span",{staticClass:"focus--text",domProps:{innerHTML:e._s(e.$t("app.general.label.change_password"))}})]),s("v-divider"),e.error?s("v-card-text",{staticClass:"mb-0"},[s("v-alert",{staticClass:"mb-0",attrs:{type:"error",text:""}},[e._v(" "+e._s(e.$t("app.general.msg.wrong_password"))+" ")])],1):e._e(),s("app-setting",{attrs:{title:e.$t("app.general.label.current_password")}},[s("v-text-field",{staticClass:"mt-0",attrs:{autocomplete:"current-password",filled:"",dense:"",type:"password","hide-details":"auto",rules:[e.rules.required]},model:{value:e.currentPassword,callback:function(t){e.currentPassword=t},expression:"currentPassword"}})],1),s("v-divider"),s("app-setting",{attrs:{title:e.$t("app.general.label.new_password")}},[s("v-text-field",{staticClass:"mt-0",attrs:{autocomplete:"current-password",filled:"",dense:"",type:"password","hide-details":"auto",rules:[e.rules.required,e.rules.password,e.rules.min]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),e.loading?s("v-icon",{staticClass:"spin",attrs:{color:"primary"}},[e._v(" $loading ")]):e._e(),s("app-btn",{attrs:{disabled:e.loading,color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),s("app-btn",{attrs:{disabled:e.loading,color:"primary",type:"submit"},domProps:{innerHTML:e._s(e.$t("app.general.btn.save"))}})],1)],1)],1)],1)},l=[],c=s(70691),d=s(7499);let p=class extends n.w3{constructor(){super(...arguments),this.currentPassword="",this.password="",this.error=!1,this.loading=!1,this.valid=!1,this.rules={required:e=>e&&void 0!==e&&""!==e||this.$t("app.general.simple_form.error.required"),password:e=>e&&e.toLowerCase()!==this.currentUser.toLowerCase()||this.$t("app.general.simple_form.error.password_username"),min:e=>e&&void 0!==e&&e.length>=4||this.$t("app.general.simple_form.error.min",{min:4})}}get currentUser(){const e=this.$store.getters["auth/getCurrentUser"];return e&&e.username?e.username:""}onOpen(e){e&&(this.currentPassword="",this.password="",this.error=!1,this.loading=!1,this.form&&this.form.reset())}handleSave(){this.valid&&(this.loading=!0,c.i.changePassword(this.currentPassword,this.password).then((()=>{d.N.$emit(this.$tc("app.general.msg.password_changed"),{timeout:2e3}),this.$emit("input",!1)})).catch((()=>{this.error=!0})).finally((()=>this.loading=!1)))}};(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],p.prototype,"value",void 0),(0,i.gn)([(0,n.Rl)("form")],p.prototype,"form",void 0),(0,i.gn)([(0,n.RL)("value")],p.prototype,"onOpen",null),p=(0,i.gn)([(0,n.wA)({})],p);var u=p,m=u,h=s(1001),g=s(43453),v=s.n(g),f=s(35098),_=s(32371),y=s(37118),b=s(4497),x=s(11418),$=s(46232),w=s(96428),C=s(99762),k=s(29837),S=(0,h.Z)(m,o,l,!1,null,null,null),P=S.exports;v()(S,{VAlert:f.Z,VCard:_.Z,VCardActions:y.h7,VCardText:y.ZB,VCardTitle:y.EB,VDialog:b.Z,VDivider:x.Z,VForm:$.Z,VIcon:w.Z,VSpacer:C.Z,VTextField:k.Z});var E=s(59117),Z=s(47237);let R=class extends((0,n.Wr)(Z.Z)){constructor(){super(...arguments),this.menu=!1,this.dialog=!1}get supportsAuth(){return this.$store.getters["server/componentSupport"]("authorization")}get instances(){return this.$store.state.config.instances}get instanceName(){return this.$store.state.config.uiSettings.general.instanceName}get currentFile(){return this.$store.state.printer.printer.print_stats.filename}get hasUpdates(){return this.$store.getters["version/hasUpdates"]}get theme(){return this.$store.getters["config/getTheme"]}get isMobile(){return this.$vuetify.breakpoint.mobile}get inLayout(){return this.$store.state.config.layoutMode}handleExitLayout(){this.$store.commit("config/setLayoutMode",!1)}handleResetLayout(){const e=(0,E.W2)();this.$store.dispatch("layout/onLayoutChange",{name:"dashboard",value:{container1:e.layouts.dashboard.container1,container2:e.layouts.dashboard.container2}})}};R=(0,i.gn)([(0,n.wA)({components:{UserPasswordDialog:P}})],R);var T=R,L=T,D=s(43130),A=s(27921),I=s(19330),V=(0,h.Z)(L,r,a,!1,null,"6008a155",null),M=V.exports;v()(V,{VAppBar:D.Z,VIcon:w.Z,VToolbarTitle:A.qW,VTooltip:I.Z})},63224:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-footer",{staticClass:"footer justify-end",attrs:{app:"",absolute:"",inset:"",color:"transparent"}},[s("span",{staticClass:"secondary--text"},[e._v(" © "+e._s((new Date).getFullYear())+" fluidd: v"+e._s(e.appInfo.version)+"-"+e._s(e.appInfo.hash)+" ")])])},a=[],i=s(70655),n=s(20144),o=s(23940);let l=class extends n["default"]{get appInfo(){return this.$store.state.version.fluidd}};l=(0,i.gn)([(0,o.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(30899),g=(0,p.Z)(d,r,a,!1,null,"57399e26",null),v=g.exports;m()(g,{VFooter:h.Z})},86343:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-navigation-drawer",{attrs:{value:e.value,color:e.theme.currentTheme.drawer,"mini-variant":!e.hasSubNavigation,floating:!e.hasSubNavigation,clipped:"",app:""},on:{input:e.emitChange}},[s("v-row",{staticClass:"fill-height",attrs:{"no-gutters":""}},[s("v-navigation-drawer",{attrs:{color:e.theme.currentTheme.drawer,"mini-variant":!0,value:e.value}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isMobile,expression:"isMobile"}],staticClass:"app-icon",style:"height: "+e.$globals.HEADER_HEIGHT+"px;"},[s("router-link",{attrs:{to:"/"}},[s("app-icon")],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.authenticated&&e.socketConnected,expression:"authenticated && socketConnected"}],staticClass:"nav-items"},[s("app-nav-item",{attrs:{icon:"$dash",exact:"",to:"/"}},[e._v(" "+e._s(e.$t("app.general.title.home"))+" ")]),s("app-nav-item",{attrs:{icon:"$console",to:"/console"}},[e._v(" "+e._s(e.$t("app.general.title.console"))+" ")]),s("app-nav-item",{attrs:{icon:"$files",to:"/jobs"}},[e._v(" "+e._s(e.$t("app.general.title.jobs"))+" ")]),e.supportsHistory?s("app-nav-item",{attrs:{icon:"$history",to:"/history"}},[e._v(" "+e._s(e.$t("app.general.title.history"))+" ")]):e._e(),e.supportsTimelapse?s("app-nav-item",{attrs:{icon:"$video",to:"/timelapse"}},[e._v(" "+e._s(e.$t("app.general.title.timelapse"))+" ")]):e._e(),s("app-nav-item",{attrs:{icon:"$tune",to:"/tune"}},[e._v(" "+e._s(e.$t("app.general.title.tune"))+" ")]),s("app-nav-item",{attrs:{icon:"$codeJson",to:"/configure"}},[e._v(" "+e._s(e.$t("app.general.title.configure"))+" ")]),s("app-nav-item",{attrs:{icon:"$desktopTower",to:"/system"}},[e._v(" "+e._s(e.$t("app.general.title.system"))+" ")]),s("app-nav-item",{attrs:{icon:"$cog",to:"/settings"}},[e._v(" "+e._s(e.$t("app.general.title.settings"))+" ")])],1)]),s("router-view",{attrs:{name:"navigation"}})],1)],1)},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){get theme(){return this.$store.getters["config/getTheme"]}get supportsHistory(){return this.$store.getters["server/componentSupport"]("history")}get supportsTimelapse(){return this.$store.getters["server/componentSupport"]("timelapse")}get supportsVersions(){return this.$store.getters["server/componentSupport"]("update_manager")}get hasSubNavigation(){var e,t;return null!==(t=null===(e=this.$route.meta)||void 0===e?void 0:e.hasSubNavigation)&&void 0!==t&&t}get isMobile(){return this.$vuetify.breakpoint.mobile}emitChange(e){this.$emit("input",e)}};(0,i.gn)([(0,n.fI)({type:Boolean,default:!0})],l.prototype,"value",void 0),l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(65132),g=s(62877),v=(0,p.Z)(d,r,a,!1,null,"5e3c2e90",null),f=v.exports;m()(v,{VNavigationDrawer:h.Z,VRow:g.Z})},14423:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{"offset-y":"",left:"","max-width":e.isMobile?220:420,"close-on-content-click":!1,"close-delay":300},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-badge",{attrs:{value:e.notificationsCounter,content:e.notificationsCounter,"offset-x":"17","offset-y":"17",bordered:"",overlap:"",color:e.badgeColor}},[s("v-btn",e._g(e._b({staticClass:"mx-1",attrs:{fab:"",small:"",color:e.color,elevation:0}},"v-btn",a,!1),r),[s("v-icon",{class:{wiggle:"error"===e.color}},[e._v(" $bell ")])],1)],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[s("v-card",[s("v-list",{staticClass:"py-0 overflow-y-auto app-notifications",staticStyle:{"max-height":"90vh"}},[0===e.notifications.length?s("v-list-item",[s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.$t("app.general.label.no_notifications")))])],1)],1):e._e(),e.notifications.length>0?s("v-list-item",{attrs:{disabled:e.clearableNotifications.length<=0},on:{click:e.handleClearAll}},[s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.$t("app.general.label.clear_all")))])],1),s("v-list-item-action",{staticClass:"notification-clear-all"},[s("v-icon",{attrs:{small:""}},[e._v(" $close ")])],1)],1):e._e(),e.notifications.length>0?s("v-divider"):e._e(),e._l(e.notifications,(function(t,r){return[s("v-list-item",{key:"notification-"+t.id,class:e.classes(t),attrs:{"three-line":!0}},[s("v-list-item-content",[s("v-list-item-title",{domProps:{innerHTML:e._s(t.title)}}),t.description?s("v-list-item-subtitle",{staticClass:"notification-description",domProps:{innerHTML:e._s(t.description)}}):e._e(),s("v-list-item-subtitle",{staticClass:"notification-timestamp"},[e._v(" "+e._s(e.$filters.formatDateTime(t.timestamp))+" ")]),t.to?s("v-list-item-subtitle",[t.to.startsWith("http")?s("app-btn",{staticClass:"mr-1",attrs:{"x-small":"",href:t.to,target:"_blank"},domProps:{innerHTML:e._s(t.btnText?t.btnText:e.$t("app.general.btn.more_information"))},on:{click:function(t){e.menu=!1}}}):s("app-btn",{staticClass:"mr-1",attrs:{"x-small":"",to:t.to},domProps:{innerHTML:e._s(t.btnText?t.btnText:e.$t("app.general.btn.more_information"))},on:{click:function(t){e.menu=!1}}}),"announcement"===t.type?s("app-announcement-dismiss-menu",{on:{dismiss:function(s){return e.handleAnnouncementDismiss(t,s)}}}):e._e()],1):e._e()],1),t.suffix?s("v-list-item-action",{staticClass:"notification-suffix"},[t.suffixIcon?s("v-icon",{attrs:{color:e.color},domProps:{innerHTML:e._s(t.suffixIcon)}}):e._e(),s("div",{staticClass:"notification-temp",domProps:{innerHTML:e._s(t.suffix)}})],1):e._e(),t.clear?s("v-list-item-action",{staticClass:"notification-clear",on:{click:function(s){return e.handleClear(t)}}},[s("v-btn",{attrs:{icon:"",small:""}},[s("v-icon",{attrs:{small:""}},[e._v(" $close ")])],1)],1):e._e()],1),r<e.notifications.length-1?s("v-divider",{key:"divider-"+t.id}):e._e()]}))],2)],1)],1)},a=[],i=s(70655),n=s(23940),o=s(1222);let l=class extends n.w3{constructor(){super(...arguments),this.menu=!1}get notifications(){return this.$store.getters["notifications/getNotifications"]}get notificationsCounter(){const e=this.notifications.filter((e=>!e.noCount));return e.length}get clearableNotifications(){const e=this.$store.getters["notifications/getNotifications"];return e.filter((e=>e.clear))}get color(){if(this.notifications.length<=0)return"transparent";let e="transparent";for(const t of this.notifications)if("warning"===t.type&&"error"!==e&&(e="warning"),"error"===t.type&&"error"!==e){e="error";break}return e}get badgeColor(){return"transparent"===this.color?"info":this.color}get isMobile(){return this.$vuetify.breakpoint.mobile}icon(e){if(e.icon)return e.icon;switch(e.type){case"info":case"success":case"announcement":return"$info";case"warning":return"$warning"}return"$error"}classes(e){return`notification-${e.type}`}handleClear(e){this.$store.dispatch("notifications/clearNotification",e)}handleClearAll(){this.$store.dispatch("notifications/clearAll")}handleAnnouncementDismiss(e,t){e&&t&&(this.$store.dispatch("announcements/dismiss",{entry_id:e.id,wake_time:t}),this.menu=!1)}};l=(0,i.gn)([(0,n.wA)({components:{AppAnnouncementDismissMenu:o["default"]}})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(13099),g=s(78053),v=s(32371),f=s(11418),_=s(96428),y=s(16816),b=s(97620),x=s(83099),$=s(276),w=s(41152),C=(0,p.Z)(d,r,a,!1,null,"ad446130",null),k=C.exports;m()(C,{VBadge:h.Z,VBtn:g.Z,VCard:v.Z,VDivider:f.Z,VIcon:_.Z,VList:y.Z,VListItem:b.Z,VListItemAction:x.Z,VListItemContent:$.km,VListItemSubtitle:$.oZ,VListItemTitle:$.V9,VMenu:w.Z})},61311:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-list",{staticClass:"grow pt-0",attrs:{dense:"",width:"180",color:e.$vuetify.theme.isDark?"#1E1E20":"#FFFFFF"}},[e._l(e.items,(function(t){return[t.visible?s("v-list-item",{key:t.name,attrs:{to:"/settings"+t.hash,exact:!1,link:""}},[s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(t.name))])],1)],1):e._e()]}))],2)},a=[],i=s(70655),n=s(23940);let o=class extends n.w3{get isVisible(){return!this.$vuetify.breakpoint.mobile}get items(){return[{name:this.$t("app.setting.title.general"),hash:"#general",visible:!0},{name:this.$t("app.setting.title.console"),hash:"#console",visible:!0},{name:this.$t("app.setting.title.theme"),hash:"#theme",visible:!0},{name:this.$t("app.setting.title.file_editor"),hash:"#editor",visible:!0},{name:this.$t("app.setting.title.authentication"),hash:"#auth",visible:!0},{name:this.$t("app.setting.title.macros"),hash:"#macros",visible:!0},{name:this.$tc("app.setting.title.camera",2),hash:"#camera",visible:!0},{name:this.$t("app.setting.title.tool"),hash:"#toolhead",visible:!0},{name:this.$t("app.setting.title.thermal_presets"),hash:"#presets",visible:!0},{name:this.$t("app.setting.title.gcode_preview"),icon:"$cubeScan",hash:"#gcodePreview",visible:!0},{name:this.$t("app.general.title.timelapse"),hash:"#timelapse",visible:this.supportsTimelapse},{name:this.$t("app.version.title"),hash:"#versions",visible:this.supportsVersions}]}get supportsVersions(){return this.$store.getters["server/componentSupport"]("update_manager")}get supportsTimelapse(){return this.$store.getters["server/componentSupport"]("timelapse")}};o=(0,i.gn)([(0,n.wA)({})],o);var l=o,c=l,d=s(1001),p=s(43453),u=s.n(p),m=s(16816),h=s(97620),g=s(276),v=(0,d.Z)(c,r,a,!1,null,null,null),f=v.exports;u()(v,{VList:m.Z,VListItem:h.Z,VListItemContent:g.km,VListItemTitle:g.V9})},44195:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-navigation-drawer",{attrs:{value:e.value,app:"",right:"",clipped:"",temporary:"",width:"300",dense:""},on:{input:e.emitChange}},[e.authenticated?s("v-list",{attrs:{dense:""}},[s("v-subheader",[e._v(e._s(e.instanceName))]),s("v-divider"),s("system-commands",{on:{click:e.close}})],1):e._e(),s("system-printers",{on:{click:e.close}}),e.authenticated?s("system-layout",{on:{click:e.close}}):e._e()],1)},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){get supportsHistory(){return this.$store.getters["server/componentSupport"]("history")}get instanceName(){return this.$store.state.config.uiSettings.general.instanceName}get serverInfo(){return this.$store.getters["server/getInfo"]}get hasUpdates(){return this.$store.getters["version/hasUpdates"]}close(){this.$emit("input",!1)}emitChange(e){this.$emit("input",e)}};(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"value",void 0),l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(11418),g=s(16816),v=s(65132),f=s(55533),_=(0,p.Z)(d,r,a,!1,null,null,null),y=_.exports;m()(_,{VDivider:h.Z,VList:g.Z,VNavigationDrawer:v.Z,VSubheader:f.Z})},84577:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{"nudge-width":260,"offset-y":"","close-delay":300},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{fab:"",text:"",small:""},on:{click:function(t){return e.$emit("drawer")}}},"v-btn",a,!1),r),[s("v-icon",[e._v("$account")])],1)]}}])},[s("v-card",[s("v-card-text",{staticClass:"text-center"},[s("div",[s("v-icon",{attrs:{large:""}},[e._v(" $account ")])],1),s("span",{staticClass:"text-h5"},[e._v(e._s(e.currentUser))]),e.isTrustedOnly?e._e():s("div",{staticClass:"mt-3"},[s("app-btn",{attrs:{small:""},on:{click:function(t){return e.$emit("change-password")}}},[e._v(" Change password ")])],1)]),s("v-divider"),s("v-list",{staticClass:"py-0"},[s("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.$filters.routeTo(e.$router,"/settings#auth")}}},[s("v-list-item-icon",[s("v-icon",[e._v("$addAccount")])],1),s("v-list-item-title",[e._v("Manage accounts")])],1),e.isTrustedOnly?e._e():s("v-divider"),e.isTrustedOnly?e._e():s("v-list-item",[s("v-list-item-content",{staticClass:"justify-center"},[s("app-btn",{on:{click:e.handleLogout}},[e._v(" Logout ")])],1)],1)],1)],1)],1)},a=[],i=s(70655),n=s(23940),o=s(26786),l=s(54003);let c=class extends n.w3{get user(){return this.$store.getters["auth/getCurrentUser"]}get currentUser(){return this.user?"_TRUSTED_USER_"===this.user.username||"_API__API_KEY_USER_USER_"===this.user.username?(0,o.Z)((0,l.Z)(this.user.username)):this.user.username:""}get isTrustedOnly(){return!!this.user&&("_TRUSTED_USER_"===this.user.username||"_API__API_KEY_USER_USER_"===this.user.username)}async handleLogout(){await this.$store.dispatch("auth/checkTrust")}};c=(0,i.gn)([(0,n.wA)({})],c);var d=c,p=d,u=s(1001),m=s(43453),h=s.n(m),g=s(78053),v=s(32371),f=s(37118),_=s(11418),y=s(96428),b=s(16816),x=s(97620),$=s(276),w=s(10459),C=s(41152),k=(0,u.Z)(p,r,a,!1,null,null,null),S=k.exports;h()(k,{VBtn:g.Z,VCard:v.Z,VCardText:f.ZB,VDivider:_.Z,VIcon:y.Z,VList:b.Z,VListItem:x.Z,VListItemContent:$.km,VListItemIcon:w.Z,VListItemTitle:$.V9,VMenu:C.Z})},89710:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-btn",e._g(e._b({class:e.classes},"v-btn",e.attrs,!1),e.$listeners),[e._t("default")],2)},a=[],i=s(70655),n=s(23940);let o=class extends n.w3{get theme(){return this.$store.getters["config/getTheme"]}get classes(){if(void 0===this.$attrs.fab&&void 0===this.$attrs.icon&&void 0===this.$attrs.outlined&&void 0===this.$attrs.text&&"primary"===this.$attrs.color)return{"grey--text text--darken-3":!this.colorIsDark}}get colorIsDark(){return this.$filters.isColorDark(this.theme.currentTheme[this.$attrs.color])}get attrs(){let e=this.$attrs;return void 0===e.color&&(e={...e,color:"btncolor"}),e}};o=(0,i.gn)([(0,n.wA)({})],o);var l=o,c=l,d=s(1001),p=s(43453),u=s.n(p),m=s(78053),h=(0,d.Z)(c,r,a,!1,null,null,null),g=h.exports;u()(h,{VBtn:m.Z})},62963:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.inLayout?e._e():s("app-btn",{staticClass:"ml-1",attrs:{color:"",fab:"","x-small":"",text:""},on:{click:function(t){return e.$emit("update:collapsed",!e.collapsed)}}},[s("v-icon",{class:{"rotate-180":e.collapsed}},[e._v(" $chevronUp ")])],1),s("v-layout",[e.inLayout?s("v-checkbox",{staticClass:"mt-0 pt-0",attrs:{"input-value":e.enabled,"hide-details":""},on:{change:function(t){return e.$emit("update:enabled",t)}}}):e._e(),e.inLayout?s("v-icon",{staticClass:"handle",attrs:{left:""}},[e._v(" $drag ")]):e._e()],1)],1)},a=[],i=s(70655),n=s(23940);let o=class extends n.w3{};(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],o.prototype,"collapsed",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!0})],o.prototype,"enabled",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],o.prototype,"inLayout",void 0),o=(0,i.gn)([(0,n.wA)({})],o);var l=o,c=l,d=s(1001),p=s(43453),u=s.n(p),m=s(83702),h=s(96428),g=s(24470),v=(0,d.Z)(c,r,a,!1,null,"6cb08b3e",null),f=v.exports;u()(v,{VCheckbox:m.Z,VIcon:h.Z,VLayout:g.Z})},60447:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return!e.isCollapsed&&e.hasDefaultSlot?s("div",[e._t("default")],2):e.isCollapsed&&e.hasDefaultSlot?s("v-menu",{attrs:{transition:"slide-y-transition",left:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("app-btn",e._g(e._b({staticClass:"ml-1",attrs:{fab:"","x-small":"",text:"",color:""}},"app-btn",a,!1),r),[s("v-icon",[e._v(e._s(e.menuIcon))])],1)]}}])},[s("v-sheet",{staticClass:"pa-2",attrs:{elevation:"0"}},[e._t("default")],2)],1):e._e()},a=[],i=s(70655),n=s(23940);let o=class extends n.w3{get isCollapsed(){return!!this.collapsed||this.$vuetify.breakpoint.mdAndDown}get hasDefaultSlot(){return!!this.$slots.default}};(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],o.prototype,"collapsed",void 0),(0,i.gn)([(0,n.fI)({type:String,default:"$menu"})],o.prototype,"menuIcon",void 0),o=(0,i.gn)([(0,n.wA)({})],o);var l=o,c=l,d=s(1001),p=s(43453),u=s.n(p),m=s(96428),h=s(41152),g=s(83385),v=(0,d.Z)(c,r,a,!1,null,"4b9ddc41",null),f=v.exports;u()(v,{VIcon:m.Z,VMenu:h.Z,VSheet:g.Z})},50295:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-item-group",{staticClass:"app-btn-group"},[e._t("default")],2)},a=[],i=s(1001),n=s(43453),o=s.n(n),l=s(24622),c={},d=(0,i.Z)(c,r,a,!1,null,null,null),p=d.exports;o()(d,{VItemGroup:l.Z})},77452:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("app-btn",e._g(e._b({staticClass:"px-2",attrs:{disabled:e.disabled,"min-width":40,loading:e.loading,color:e.color},on:{click:function(t){return e.$emit("click")}}},"app-btn",""!==e.tooltip?a:void 0,!1),""!==e.tooltip?r:void 0),[e.icon?s("v-icon",{class:{"mr-1":e.hasDefaultSlot},attrs:{small:e.smallIcon}},[e._v(" "+e._s(e.icon)+" ")]):e._e(),e._t("default")],2)]}}],null,!0)},[s("span",[e._v(e._s(e.tooltip))])])},a=[],i=s(70655),n=s(23940);let o=class extends n.w3{get hasDefaultSlot(){return!!this.$slots.default||!!this.$scopedSlots.default}};(0,i.gn)([(0,n.fI)({type:String,required:!0})],o.prototype,"icon",void 0),(0,i.gn)([(0,n.fI)()],o.prototype,"disabled",void 0),(0,i.gn)([(0,n.fI)({type:String,default:"btncolor"})],o.prototype,"color",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],o.prototype,"loading",void 0),(0,i.gn)([(0,n.fI)({type:String,default:""})],o.prototype,"badge",void 0),(0,i.gn)([(0,n.fI)({type:String,default:""})],o.prototype,"tooltip",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],o.prototype,"smallIcon",void 0),o=(0,i.gn)([(0,n.wA)({})],o);var l=o,c=l,d=s(1001),p=s(43453),u=s.n(p),m=s(96428),h=s(19330),g=(0,d.Z)(c,r,a,!1,null,null,null),v=g.exports;u()(g,{VIcon:m.Z,VTooltip:h.Z})},36187:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-title",{staticClass:"card-title card-heading py-1 draggable"},[e._v(" Drag Me ")])],1)},a=[],i=s(70655),n=s(23940);let o=class extends n.w3{};o=(0,i.gn)([(0,n.wA)({})],o);var l=o,c=l,d=s(1001),p=s(43453),u=s.n(p),m=s(32371),h=s(37118),g=(0,d.Z)(c,r,a,!1,null,null,null),v=g.exports;u()(g,{VCard:m.Z,VCardTitle:h.EB})},36993:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"chart",style:{height:e.height}},[e.ready?s("v-chart",{ref:"chart",staticStyle:{overflow:"initial"},attrs:{option:e.opts,"update-options":{notMerge:!0},"init-options":{renderer:"svg"},events:e.events}}):e._e()],1)])},a=[],i=s(70655),n=s(23940),o=s(72744);let l=class extends n.w3{constructor(){super(...arguments),this.ready=!1}get isMobile(){return this.$vuetify.breakpoint.mobile}get isDark(){return this.$store.state.config.uiSettings.theme.isDark}onData(e){this.chart&&e&&e.length&&this.chart.setOption({dataset:{source:e}})}get opts(){const e={grid:{top:0,left:0,right:0,bottom:0}},t=(0,o.Z)(e,this.options);return t}mounted(){this.data&&!this.ready&&(this.ready=!0)}beforeDestroy(){"undefined"!==typeof window&&this.chart&&this.chart.dispose()}};(0,i.gn)([(0,n.fI)({type:Array,required:!0})],l.prototype,"data",void 0),(0,i.gn)([(0,n.fI)({type:Object,default:{}})],l.prototype,"options",void 0),(0,i.gn)([(0,n.fI)({type:String,default:"100%"})],l.prototype,"height",void 0),(0,i.gn)([(0,n.fI)({type:Array,default:()=>[]})],l.prototype,"events",void 0),(0,i.gn)([(0,n.Rl)("chart")],l.prototype,"chart",void 0),(0,i.gn)([(0,n.RL)("data")],l.prototype,"onData",null),l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=(0,p.Z)(d,r,a,!1,null,"2acbd9a8",null),m=u.exports},59790:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"code-view"},[s("pre",[e._v(e._s(e.value))]),s("v-btn",{directives:[{name:"blur",rawName:"v-blur"}],attrs:{small:"",fab:"",text:"",absolute:""},on:{click:e.handleCopyClick}},[s("v-fade-transition",{attrs:{mode:"in-out","leave-absolute":""}},[s("v-icon",{directives:[{name:"show",rawName:"v-show",value:!e.copied,expression:"!copied"}],attrs:{dense:"",color:"grey"}},[e._v(" $contentCopy ")])],1),s("v-fade-transition",{attrs:{mode:"in-out","leave-absolute":""}},[s("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.copied,expression:"copied"}],attrs:{dense:"",color:"grey"}},[e._v(" $check ")])],1)],1)],1)},a=[],i=s(70655),n=s(23940);let o=class extends n.w3{constructor(){super(...arguments),this.copied=!1}handleCopyClick(){navigator.clipboard&&this.value&&(navigator.clipboard.writeText(this.value),this.copied=!0,setTimeout((()=>{this.copied=!1}),1200))}};(0,i.gn)([(0,n.fI)({type:String,required:!0})],o.prototype,"value",void 0),o=(0,i.gn)([(0,n.wA)({components:{}})],o);var l=o,c=l,d=s(1001),p=s(43453),u=s.n(p),m=s(78053),h=s(85827),g=s(96428),v=(0,d.Z)(c,r,a,!1,null,"6344a568",null),f=v.exports;u()(v,{VBtn:m.Z,VFadeTransition:h.Z5,VIcon:g.Z})},29668:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{ref:"menu",attrs:{bottom:"",left:"","max-width":260,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:!e.dot,expression:"!dot"}],attrs:{color:e.primaryColor.hexString,outlined:"",small:""}},"v-btn",a,!1),r),[e._v(" "+e._s(e.title)+" ")]),s("v-icon",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.dot,expression:"dot"}],attrs:{color:e.primaryColor.hexString}},"v-icon",a,!1),r),[e._v(" $circle ")])]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[s("v-card",{ref:"card"},[e.title?s("v-card-title",{staticClass:"card-heading mb-2",staticStyle:{cursor:"move","user-select":"none"},on:{mousedown:e.startMouseDrag,touchstart:e.startTouchDrag,touchmove:e.touchMove}},[e._v(" "+e._s(e.title)+" ")]):e._e(),s("v-card-text",[s("v-icon",{attrs:{color:e.primaryColor.hexString,large:""}},[e._v(" $circle ")]),e.white?s("v-icon",{attrs:{color:e.whiteColor.hexString,large:""}},[e._v(" $circle ")]):e._e(),s("v-layout",{attrs:{"align-center":"",column:""}},[e.primaryColor?s("app-iro-color-picker",{attrs:{color:e.primaryColor.hexString,options:e.primaryOptions},on:{"color:change":function(t){return e.handleColorChange("primary",t)}}}):e._e(),e.white?s("app-iro-color-picker",{staticClass:"mt-4",attrs:{color:e.whiteColor.hexString,options:e.whiteOptions},on:{"color:change":function(t){return e.handleColorChange("white",t)}}}):e._e()],1),s("v-layout",{staticClass:"mt-4",attrs:{"justify-space-between":""}},[s("div",{staticClass:"color-input"},[s("v-text-field",{attrs:{dense:"","hide-details":"",outlined:""},model:{value:e.primaryColor.rgb.r,callback:function(t){e.$set(e.primaryColor.rgb,"r",e._n(t))},expression:"primaryColor.rgb.r"}}),s("div",[e._v("R")])],1),s("div",{staticClass:"color-input"},[s("v-text-field",{attrs:{dense:"","hide-details":"",outlined:""},model:{value:e.primaryColor.rgb.g,callback:function(t){e.$set(e.primaryColor.rgb,"g",e._n(t))},expression:"primaryColor.rgb.g"}}),s("div",[e._v("G")])],1),s("div",{staticClass:"color-input"},[s("v-text-field",{attrs:{dense:"","hide-details":"",outlined:""},model:{value:e.primaryColor.rgb.b,callback:function(t){e.$set(e.primaryColor.rgb,"b",e._n(t))},expression:"primaryColor.rgb.b"}}),s("div",[e._v("B")])],1),e.white?s("div",{staticClass:"color-input"},[s("v-text-field",{attrs:{dense:"","hide-details":"",outlined:""},model:{value:e.whiteColor.rgb.r,callback:function(t){e.$set(e.whiteColor.rgb,"r",t)},expression:"whiteColor.rgb.r"}}),s("div",[e._v("W")])],1):e._e()])],1)],1)],1)},a=[],i=s(70655),n=s(23940),o=s(92206),l=s(87853),c=s(15494);let d=class extends n.w3{constructor(){super(...arguments),this.menu=!1,this.lastPointerPosition={x:0,y:0},this.primaryColor={hexString:"#ffffff",rgb:{r:255,g:255,b:255}},this.whiteColor={hexString:"#ffffff",rgb:{r:255,g:255,b:255}},this.primaryOptions={color:this.primaryColor,width:208,layout:[{component:l.Z.ui.Wheel,options:{wheelLightness:!1,wheelAngle:270,wheelDirection:"clockwise"}},{component:l.Z.ui.Slider,options:{sliderType:"value"}}]},this.whiteOptions={color:this.whiteColor,width:208,layout:[{component:l.Z.ui.Slider,options:{sliderType:"value"}}]}}onPrimaryColorChange(e){const t=new c.pD(e.rgb);t.hexString!==e.hexString&&(this.primaryColor.hexString=t.hexString)}onWhiteColorChange(e){const t=new c.pD({r:e.rgb.r,g:e.rgb.r,b:e.rgb.r});t.hexString!==e.hexString&&(this.whiteColor.hexString=t.hexString)}onPrimaryChange(e){e&&(this.primaryColor=this.getColor(e))}onWhiteChange(e){e&&(this.whiteColor=this.getColor(e))}created(){this.primaryColor=this.getColor(this.primary),this.whiteColor&&(this.whiteColor=this.getColor(this.white))}getColor(e){const t=new l.Z.Color(e);return{hexString:t.hexString,rgb:{r:t.rgb.r,g:t.rgb.g,b:t.rgb.b}}}handleColorChange(e,t){const s=this.getColor(t.hexString);"primary"===e?this.primaryColor=s:this.whiteColor=s,this.$emit(`update:${e}`,t),this.debouncedChange(e,t)}debouncedChange(e,t){this.$emit("change",{channel:e,color:t})}startMouseDrag(e){this.lastPointerPosition={x:e.clientX,y:e.clientY},window.addEventListener("mousemove",this.mouseMove),window.addEventListener("mouseup",this.stopMouseDrag)}stopMouseDrag(){window.removeEventListener("mousemove",this.mouseMove),window.removeEventListener("mouseup",this.stopMouseDrag)}startTouchDrag(e){this.lastPointerPosition={x:e.touches[0].clientX,y:e.touches[0].clientY}}relativeMove(e){const t=this.card.$el.parentElement;t.style.left=parseFloat(t.style.left)+(e.x-this.lastPointerPosition.x)+"px",t.style.top=parseFloat(t.style.top)+(e.y-this.lastPointerPosition.y)+"px"}mouseMove(e){const t={x:e.clientX,y:e.clientY};this.relativeMove(t),this.lastPointerPosition=t}touchMove(e){e.preventDefault();const t={x:e.touches[0].clientX,y:e.touches[0].clientY};this.relativeMove(t),this.lastPointerPosition=t}};(0,i.gn)([(0,n.fI)({type:String,required:!0})],d.prototype,"primary",void 0),(0,i.gn)([(0,n.fI)({type:String,required:!1})],d.prototype,"white",void 0),(0,i.gn)([(0,n.fI)({type:String,default:""})],d.prototype,"title",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],d.prototype,"dot",void 0),(0,i.gn)([(0,n.Rl)("card")],d.prototype,"card",void 0),(0,i.gn)([(0,n.RL)("primaryColor",{deep:!0})],d.prototype,"onPrimaryColorChange",null),(0,i.gn)([(0,n.RL)("whiteColor",{deep:!0})],d.prototype,"onWhiteColorChange",null),(0,i.gn)([(0,n.RL)("primary")],d.prototype,"onPrimaryChange",null),(0,i.gn)([(0,n.RL)("white")],d.prototype,"onWhiteChange",null),(0,i.gn)([(0,o.K)(500)],d.prototype,"debouncedChange",null),d=(0,i.gn)([(0,n.wA)({components:{}})],d);var p=d,u=p,m=s(1001),h=s(43453),g=s.n(h),v=s(78053),f=s(32371),_=s(37118),y=s(96428),b=s(24470),x=s(41152),$=s(29837),w=(0,m.Z)(u,r,a,!1,null,"1a156d4c",null),C=w.exports;g()(w,{VBtn:v.Z,VCard:f.Z,VCardText:_.ZB,VCardTitle:_.EB,VIcon:y.Z,VLayout:b.Z,VMenu:x.Z,VTextField:$.Z})},25033:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition","min-width":150,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{disabled:e.disabled,fab:"",small:"",text:""}},"v-btn",a,!1),r),[s("v-icon",[e._v(" $cogs ")])],1)]}}])},[s("v-list",{staticClass:"overflow-y-auto",attrs:{dense:""}},[e._l(e.headers,(function(t){return[""!==t.text&&t.configurable?s("v-list-item",{key:t.value,attrs:{link:"",dense:""},on:{click:function(s){return e.handleToggleHeader(t)}}},[s("v-list-item-action",{staticClass:"my-0"},[s("v-checkbox",{attrs:{"input-value":t.visible,dense:"","hide-details":"",color:"primary"}})],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(t.text))])],1)],1):e._e()]}))],2)],1)},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){constructor(){super(...arguments),this.value=[]}handleToggleHeader(e){e.visible=!e.visible,this.$store.dispatch("config/updateHeader",{name:this.keyName,header:e})}};(0,i.gn)([(0,n.fI)({type:String,required:!0})],l.prototype,"keyName",void 0),(0,i.gn)([(0,n.fI)({type:Array,required:!0})],l.prototype,"headers",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"disabled",void 0),l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(78053),g=s(83702),v=s(96428),f=s(16816),_=s(97620),y=s(83099),b=s(276),x=s(41152),$=(0,p.Z)(d,r,a,!1,null,null,null),w=$.exports;m()($,{VBtn:h.Z,VCheckbox:g.Z,VIcon:v.Z,VList:f.Z,VListItem:_.Z,VListItemAction:y.Z,VListItemContent:b.km,VListItemTitle:b.V9,VMenu:x.Z})},21222:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo-wrapper"},[s("inline-svg",{attrs:{src:e.theme.logo.src},on:{loaded:e.handleLogoLoad}})],1)},a=[],i=s(70655),n=s(20144),o=s(23940);let l=class extends n["default"]{onTheme(){this.setData()}get theme(){return this.$store.getters["config/getTheme"]}handleLogoLoad(){this.setData()}setData(){const e=[{query:".color-primary",color:this.theme.currentTheme.primary},{query:".color-primary-offset",color:this.theme.currentTheme.primaryOffset}];this.theme.logo.dynamic||e.forEach((e=>{const t=this.theme.logo.colorDark||"#000000",s=this.theme.logo.colorLight||"#ffffff";e.color=this.theme.isDark?s:t})),e.forEach((e=>{this.$el.querySelectorAll(e.query).forEach((t=>{if("path"===t.tagName||"polygon"===t.tagName||"g"===t.tagName){const s=t;s.style.fill=e.color}}))}))}};(0,i.gn)([(0,o.RL)("theme")],l.prototype,"onTheme",null),l=(0,i.gn)([(0,o.wA)({})],l);var c=l,d=c,p=s(1001),u=(0,p.Z)(d,r,a,!1,null,"b5786bbc",null),m=u.exports},84547:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-tooltip",{attrs:{bottom:e.bottom,top:e.top,left:e.left,right:e.right},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[s("app-btn",e._g(e._b({staticClass:"ml-2",attrs:{small:e.small,color:e.type,icon:""}},"app-btn",a,!1),r),[s("v-icon",{attrs:{small:e.small}},[e._v(" "+e._s("error"===e.type||"warning"===e.type?"$warning":"$help")+" ")])],1)]}}])},[e._t("default",(function(){return[s("span",{domProps:{innerHTML:e._s(e.tooltip)}})]}))],2)},a=[],i=s(70655),n=s(23940);let o=class extends n.w3{};(0,i.gn)([(0,n.fI)({type:String,required:!1})],o.prototype,"tooltip",void 0),(0,i.gn)([(0,n.fI)({type:String,default:"primary"})],o.prototype,"type",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],o.prototype,"top",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],o.prototype,"bottom",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],o.prototype,"left",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],o.prototype,"right",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],o.prototype,"small",void 0),o=(0,i.gn)([(0,n.wA)({})],o);var l=o,c=l,d=s(1001),p=s(43453),u=s.n(p),m=s(96428),h=s(19330),g=(0,d.Z)(c,r,a,!1,null,null,null),v=g.exports;u()(g,{VIcon:m.Z,VTooltip:h.Z})},65459:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("svg",{staticStyle:{display:"none"}},[s("defs",[s("g",{attrs:{id:"handle",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("g",{attrs:{id:"Desktop",transform:"translate(-497.000000, -493.000000)"}},[s("g",{attrs:{id:"Group-2",transform:"translate(498.000000, 494.000000)"}},[s("g",{attrs:{id:"Group",stroke:"#000000","stroke-width":"2"}},[s("circle",{attrs:{id:"Oval",cx:"7.5",cy:"7.5",r:"7.5"}})]),s("path",{attrs:{id:"Combined-Shape",d:"M7.5,14 C3.91014913,14 1,11.0898509 1,7.5 C1,3.91014913 3.91014913,1 7.5,1 C11.0898509,1 14,3.91014913 14,7.5 C14,11.0898509 11.0898509,14 7.5,14 Z M7.5,12 C9.98528137,12 12,9.98528137 12,7.5 C12,5.01471863 9.98528137,3 7.5,3 C5.01471863,3 3,5.01471863 3,7.5 C3,9.98528137 5.01471863,12 7.5,12 Z",fill:"#D8D8D8"}})])])])])]),s("div",{ref:"picker"})])},a=[],i=s(70655),n=s(23940),o=s(87853);let l=class extends n.w3{constructor(){super(...arguments),this.colorPicker=null,this.supportedEvents=["mount","color:init","color:change"]}onColorChange(e){this.colorPicker&&(this.colorPicker.color.hexString=e)}get opts(){const e={...this.options,color:this.color,sliderSize:14,handleSvg:"#handle",handleProps:{x:0,y:0}};return e}mounted(){this.colorPicker=o.Z.ColorPicker(this.picker,this.opts),this.supportedEvents.forEach((e=>{this.colorPicker&&this.colorPicker.on(e,(t=>{this.eventHandler(e,t)}))}))}beforeUnmount(){this.colorPicker&&this.colorPicker.off(this.supportedEvents,this.eventHandler)}handleColorChange(e){this.$emit("change",e),this.$emit("update:color",e)}eventHandler(e,t){this.$emit(e,t)}};(0,i.gn)([(0,n.fI)({type:[Object,String],default:"#ffffff"})],l.prototype,"color",void 0),(0,i.gn)([(0,n.fI)({type:Object,default:()=>({})})],l.prototype,"options",void 0),(0,i.gn)([(0,n.Rl)("picker")],l.prototype,"picker",void 0),(0,i.gn)([(0,n.RL)("color",{deep:!0})],l.prototype,"onColorChange",null),l=(0,i.gn)([(0,n.wA)({components:{}})],l);var c=l,d=c,p=s(1001),u=(0,p.Z)(d,r,a,!1,null,null,null),m=u.exports},79593:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return 0!==e.paramList.length&&e.enableParams?s("app-btn-group",{attrs:{elevation:6}},[s("app-btn",{style:e.borderStyle,attrs:{disabled:e.macro.disabledWhilePrinting&&e.printerPrinting},on:{click:function(t){return e.$emit("click",e.macro.name)}}},[e._t("default")],2),s("v-menu",{attrs:{left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs,i=t.value;return[e.paramList.length>0?s("app-btn",e._g(e._b({staticClass:"px-0",attrs:{"min-width":24}},"app-btn",a,!1),r),[s("v-icon",{class:{"rotate-180":i},attrs:{small:""}},[e._v(" $chevronDown ")])],1):e._e()]}}])},[s("v-card",[s("v-card-text",{staticClass:"pb-3 px-3"},[s("v-layout",{staticStyle:{"max-width":"150px"},attrs:{wrap:""}},e._l(e.paramList,(function(t,r){return s("v-text-field",{key:t,class:{"mb-3":r<e.paramList.length-1},attrs:{label:t,outlined:"",dense:"","hide-details":"auto"},scopedSlots:e._u([{key:"append",fn:function(){return[s("app-btn",{staticStyle:{"margin-top":"-4px","margin-right":"-6px"},attrs:{color:"",icon:"",small:""},on:{click:function(s){e.params[t].value=e.params[t].reset}}},[s("v-icon",{attrs:{small:""}},[e._v(" $reset ")])],1)]},proxy:!0}],null,!0),model:{value:e.params[t].value,callback:function(s){e.$set(e.params[t],"value",s)},expression:"params[param].value"}})})),1)],1),s("v-divider"),s("v-card-actions",{staticClass:"px-3 py-3"},[s("app-btn",{attrs:{block:""},on:{click:function(t){return e.$emit("click",e.runCommand)}}},[e._v(" Send ")])],1)],1)],1)],1):s("app-btn",{style:e.borderStyle,attrs:{disabled:e.macro.disabledWhilePrinting&&e.printerPrinting},on:{click:function(t){return e.$emit("click",e.macro.name)}}},[e._t("default")],2)},a=[],i=s(70655),n=s(23940),o=s(47237);const l=/params\.(\w+)(.*)/gi,c=/\|\s*default\s*\(\s*((["'])(?:\\.|[^\2])*\2|-?[0-9][^,)]*)/i,d=e=>{const t=c.exec(e);return(t&&t[1]||"").trim()},p=e=>[...e.matchAll(l)].map((([,e,t])=>({name:e,value:d(t)})));var u=p;let m=class extends((0,n.Wr)(o.Z)){constructor(){super(...arguments),this.params={}}get paramList(){return Object.keys(this.params)}get runCommand(){let e=this.macro.name;if(this.params)for(const t of Object.keys(this.params))e+=` ${t}=${this.params[t].value}`;return e}get borderStyle(){return this.macro&&""!==this.macro.color?`border-color: ${this.macro.color} !important; border-left: solid 4px ${this.macro.color} !important;`:""}mounted(){if(!this.macro.config||!this.macro.config.gcode)return[];if(this.macro.config.gcode)for(const{name:e,value:t}of u(this.macro.config.gcode))this.params[e]||this.$set(this.params,e,{value:t,reset:t})}};(0,i.gn)([(0,n.fI)({type:Object,required:!0})],m.prototype,"macro",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],m.prototype,"enableParams",void 0),m=(0,i.gn)([(0,n.wA)({})],m);var h=m,g=h,v=s(1001),f=s(43453),_=s.n(f),y=s(32371),b=s(37118),x=s(11418),$=s(96428),w=s(24470),C=s(41152),k=s(29837),S=(0,v.Z)(g,r,a,!1,null,"3751043e",null),P=S.exports;_()(S,{VCard:y.Z,VCardActions:b.h7,VCardText:b.ZB,VDivider:x.Z,VIcon:$.Z,VLayout:w.Z,VMenu:C.Z,VTextField:k.Z})},96478:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{"no-gutters":"","justify-space-between":""}},[s("v-col",{staticClass:"text-body-1 py-0",class:{"disabled--text":e.disabled},attrs:{"align-self":"center",cols:"5"}},[e._v(" "+e._s(e.label)+" ")]),s("v-col",{staticClass:"ml-auto py-0"},[s("v-text-field",{staticClass:"v-input--text-right",attrs:{value:e.value,disabled:e.disabled,readonly:e.readonly,suffix:e.suffix,rules:e.rules,loading:e.loading,dense:"","single-line":"","hide-details":"",outlined:""},on:{input:function(t){return e.$emit("input",t)},change:e.handleChange,focus:function(e){return e.target.select()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[e.resetValue?s("app-btn",{staticStyle:{"margin-top":"-4px"},attrs:{disabled:e.disabled,color:"",icon:"",small:""},on:{click:e.handleReset}},[s("v-icon",{attrs:{small:""}},[e._v(" $reset ")])],1):e._e()]},proxy:!0}])})],1)],1)},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){handleChange(e){this.value!==e&&this.$emit("change",e)}handleReset(){this.$emit("input",this.resetValue),this.value!==this.resetValue&&this.$emit("change",this.resetValue)}};(0,i.gn)([(0,n.fI)({type:[String,Number],required:!0})],l.prototype,"value",void 0),(0,i.gn)([(0,n.fI)({type:String,required:!0})],l.prototype,"label",void 0),(0,i.gn)([(0,n.fI)({type:[String,Number],required:!1})],l.prototype,"resetValue",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"readonly",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"disabled",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"loading",void 0),(0,i.gn)([(0,n.fI)({type:String})],l.prototype,"suffix",void 0),(0,i.gn)([(0,n.fI)({type:Array,default:()=>[]})],l.prototype,"rules",void 0),l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(82102),g=s(96428),v=s(62877),f=s(29837),_=(0,p.Z)(d,r,a,!1,null,null,null),y=_.exports;m()(_,{VCol:h.Z,VIcon:g.Z,VRow:v.Z,VTextField:f.Z})},20370:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-tooltip",{attrs:{right:"",disabled:e.isMobile},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.attrs,a=t.on;return[s("v-list-item",e._g(e._b({attrs:{to:e.to,exact:e.exact,link:"",color:"secondary"}},"v-list-item",r,!1),a),[s("v-list-item-icon",[s("v-icon",[e._v(e._s(e.icon))])],1),s("v-list-item-content",[s("v-list-item-title",[e._t("default")],2)],1)],1)]}}],null,!0)},[s("span",[e._t("default")],2)])},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){get isMobile(){return this.$vuetify.breakpoint.mobile}};(0,i.gn)([(0,n.fI)({type:String})],l.prototype,"title",void 0),(0,i.gn)([(0,n.fI)({type:String})],l.prototype,"to",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"exact",void 0),(0,i.gn)([(0,n.fI)({type:String})],l.prototype,"icon",void 0),l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(96428),g=s(97620),v=s(276),f=s(10459),_=s(19330),y=(0,p.Z)(d,r,a,!1,null,"3a8beff8",null),b=y.exports;m()(y,{VIcon:h.Z,VListItem:g.Z,VListItemContent:v.km,VListItemIcon:f.Z,VListItemTitle:v.V9,VTooltip:_.Z})},26309:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("qrcode-vue",{attrs:{value:e.value,size:e.size,level:"L"}})},a=[],i=s(70655),n=s(23940),o=s(69574);let l=class extends n.w3{};(0,i.gn)([(0,n.fI)({type:String,default:""})],l.prototype,"value",void 0),(0,i.gn)([(0,n.fI)({type:Number,default:260})],l.prototype,"size",void 0),l=(0,i.gn)([(0,n.wA)({components:{QrcodeVue:o.Z}})],l);var c=l,d=c,p=s(1001),u=(0,p.Z)(d,r,a,!1,null,"4ebfaa24",null),m=u.exports},19451:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",e._g(e._b({staticClass:"setting",class:e.classes,attrs:{"no-gutters":""}},"v-row",e.$attrs,!1),e.$listeners),[e.accentColor&&""!==e.accentColor?s("div",{staticClass:"setting__accent-color",style:"background-color: "+e.accentColor+";"}):e._e(),s("v-col",{staticClass:"setting-title",attrs:{cols:e.cols[0],"align-self":"center"}},[e._t("title",(function(){return[e._v(" "+e._s(e.title)+" ")]})),e.hasSubTitle?s("div",{staticClass:"setting-sub-title secondary--text"},[e._t("sub-title",(function(){return[e._v(" "+e._s(e.subTitle)+" ")]}))],2):e._e()],2),s("v-col",{staticClass:"setting-controls",attrs:{cols:e.cols[1],"align-self":"center"}},[e._t("default")],2)],1)},a=[],i=s(70655),n=s(23940);let o=class extends n.w3{get cols(){return[12-this.rCols,this.rCols]}get hasClick(){return this.$listeners&&this.$listeners.click}get hasSubTitle(){return this.$slots["sub-title"]||this.$scopedSlots["sub-title"]||this.subTitle}get classes(){return{setting__link:this.hasClick}}};(0,i.gn)([(0,n.fI)({type:String,default:""})],o.prototype,"title",void 0),(0,i.gn)([(0,n.fI)({type:String})],o.prototype,"subTitle",void 0),(0,i.gn)([(0,n.fI)({type:String})],o.prototype,"help",void 0),(0,i.gn)([(0,n.fI)({type:String})],o.prototype,"accentColor",void 0),(0,i.gn)([(0,n.fI)({type:Number,default:6})],o.prototype,"rCols",void 0),o=(0,i.gn)([(0,n.wA)({})],o);var l=o,c=l,d=s(1001),p=s(43453),u=s.n(p),m=s(82102),h=s(62877),g=(0,d.Z)(c,r,a,!1,null,"21a310fa",null),v=g.exports;u()(g,{VCol:m.Z,VRow:h.Z})},28343:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return $}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",{ref:"form",class:{"full-width-slider":e.fullWidth},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{staticClass:"text-body-1 py-0",attrs:{cols:"12",sm:"5","align-self":"center"},domProps:{innerHTML:e._s(e.label)}}),s("v-col",{staticClass:"py-0"},[s("v-text-field",{staticClass:"v-input--text-right",attrs:{suffix:e.suffix,rules:e.textRules,readonly:e.isLocked,disabled:e.disabled||e.loading||e.isLocked,step:e.step,type:"number",dense:"","single-line":"",outlined:"","hide-details":""},on:{change:function(t){return e.handleChange(t)},focus:function(e){return e.target.select()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[e.isMobile?s("v-btn",{staticStyle:{"margin-top":"-4px"},attrs:{icon:"",small:"",disabled:e.disabled},on:{click:function(t){e.lockState=!e.lockState}}},[e.isLocked?s("v-icon",{attrs:{small:""}},[e._v(" $pencil ")]):s("v-icon",{attrs:{small:""}},[e._v(" $lockReset ")])],1):e._e(),void 0!==e.resetValue?s("app-btn",{staticStyle:{"margin-top":"-4px"},attrs:{disabled:e.disabled,color:"",icon:"",small:""},on:{click:e.handleReset}},[s("v-icon",{attrs:{small:""}},[e._v(" $reset ")])],1):e._e()]},proxy:!0}]),model:{value:e.internalValue,callback:function(t){e.internalValue=e._n(t)},expression:"internalValue"}})],1)],1),s("v-slider",{ref:"slider",attrs:{rules:e.rules,min:e.min,max:e.internalMax,step:e.step,disabled:e.disabled||e.loading||e.isLocked||e.overridden,dense:"","hide-details":""},on:{change:function(t){return e.handleChange(t)}},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}})],1)},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){constructor(){super(...arguments),this.valid=!0,this.lockState=!1,this.overridden=!1,this.internalValue=this.value,this.internalMax=this.max,this.pending=!1}onValue(e){e=+e,e!==this.internalValue&&(this.internalValue=e),this.pending=!1}onInternalValue(e){this.valid&&(e>this.max&&this.overridable?(this.overridden=!0,this.internalMax=e):(this.overridden=!1,this.internalMax=this.max),this.$emit("input",e))}get isLocked(){return this.lockState}set isLocked(e){this.lockState=e,this.$emit("update:locked",e)}onLockedChange(e){this.lockState=e}get isMobile(){return this.$vuetify.breakpoint.mobile}get textRules(){const e=[...this.rules,e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),e=>+e>=this.min||this.$t("app.general.simple_form.error.min",{min:this.min})];return this.overridable||e.push((e=>+e<=this.max||this.$t("app.general.simple_form.error.max",{max:this.max}))),e}mounted(){this.lockState=this.locked}handleChange(e){e===this.value||this.pending||(this.valid?(this.pending=!0,this.$emit("change",e)):this.internalValue=this.value,this.lockState=this.locked)}handleReset(){this.internalValue=this.resetValue,this.lockState=this.locked,this.$emit("change",this.resetValue)}};(0,i.gn)([(0,n.fI)({type:Number,required:!0})],l.prototype,"value",void 0),(0,i.gn)([(0,n.fI)({type:Number,required:!1})],l.prototype,"resetValue",void 0),(0,i.gn)([(0,n.fI)({type:String,required:!0})],l.prototype,"label",void 0),(0,i.gn)([(0,n.fI)({type:Array,default:()=>[]})],l.prototype,"rules",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"disabled",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"locked",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"loading",void 0),(0,i.gn)([(0,n.fI)({type:Number,default:0})],l.prototype,"min",void 0),(0,i.gn)([(0,n.fI)({type:Number,default:100})],l.prototype,"max",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"overridable",void 0),(0,i.gn)([(0,n.fI)({type:Number,default:1})],l.prototype,"step",void 0),(0,i.gn)([(0,n.fI)({type:String})],l.prototype,"suffix",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"fullWidth",void 0),(0,i.gn)([(0,n.Rl)("slider")],l.prototype,"slider",void 0),(0,i.gn)([(0,n.Rl)("form")],l.prototype,"form",void 0),(0,i.gn)([(0,n.RL)("value")],l.prototype,"onValue",null),(0,i.gn)([(0,n.RL)("internalValue")],l.prototype,"onInternalValue",null),(0,i.gn)([(0,n.RL)("locked")],l.prototype,"onLockedChange",null),l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(78053),g=s(82102),v=s(46232),f=s(96428),_=s(62877),y=s(97611),b=s(29837),x=(0,p.Z)(d,r,a,!1,null,"0ca57a2a",null),$=x.exports;m()(x,{VBtn:h.Z,VCol:g.Z,VForm:v.Z,VIcon:f.Z,VRow:_.Z,VSlider:y.Z,VTextField:b.Z})},80484:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",{ref:"inputSliderForm",on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-layout",{attrs:{"align-center":"","justify-space-between":""}},[s("div",{staticClass:"text-body-1",style:e.readonly?"padding: 2px 0 3px 0;":""},[e._v(" "+e._s(e.label)+" ")]),s("div",{staticClass:"ml-auto d-flex align-center"},[s("small",{staticClass:"mr-2",domProps:{innerHTML:e._s(e.valueLabel)}}),e.readonly?s("span",{staticClass:"focus--text",class:{"text--darken-2":e.isDisabled,"text--lighten-1":!e.isDisabled}},[e._v(" "+e._s(e.newValue)+" "),s("small",[e._v(e._s(e.valueSuffix))])]):e._e(),e.isMobile?s("v-btn",{staticClass:"mr-2",attrs:{icon:"",small:"",disabled:e.disabled},on:{click:function(t){e.lockState=!e.lockState}}},[e.isLocked?s("v-icon",{attrs:{small:""}},[e._v(" $pencil ")]):s("v-icon",{attrs:{small:""}},[e._v(" $lockReset ")])],1):e._e(),e.readonly?e._e():s("v-text-field",{staticClass:"v-input--x-dense v-input--text-right",class:e.classes,attrs:{value:e.newValue,suffix:e.valueSuffix,rules:e.rules,disabled:e.isDisabled||e.loading,"single-line":"",outlined:"","hide-details":""},on:{change:e.handleTextChange,focus:function(e){return e.target.select()}}})],1)]),s("v-slider",{attrs:{value:e.newValue,rules:e.rules,min:e.min,max:e.max,step:e.step,readonly:e.readonly,disabled:e.isDisabled||e.loading||e.readonly,"thumb-label":!1,dense:"","hide-details":""},on:{change:e.handleSliderChange,input:function(t){e.newValue=t}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("v-icon",{attrs:{disabled:e.readonly||e.isDisabled||0===e.newValue,color:"grey"},on:{click:function(t){return e.handleClickChange(e.newValue-e.step)}}},[e._v(" $minus ")])]},proxy:!0},{key:"append",fn:function(){return[s("v-icon",{attrs:{disabled:e.readonly||e.isDisabled||e.newValue===e.max,color:"grey"},on:{click:function(t){return e.handleClickChange(e.newValue+e.step)}}},[e._v(" $plus ")])]},proxy:!0}])})],1)},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){constructor(){super(...arguments),this.newValue=50,this.valid=!0,this.lockState=!1}onValueChange(e,t){e!==t&&(this.newValue=e)}onNewValueChange(e){this.instant&&this.valid&&this.$emit("input",e)}get form(){return this.$refs.inputSliderForm}get classes(){return{"v-input--width-x-small":void 0!==this.inputXs,"v-input--width-small":void 0!==this.inputSm,"v-input--width-medium":void 0!==this.inputMd}}get isDisabled(){return!!this.disabled||!!this.lockState}get isLocked(){return this.lockState}set isLocked(e){this.lockState=e,this.$emit("update:locked",e)}onLockedChange(e){this.lockState=e}mounted(){this.lockState=this.locked,this.newValue=this.value}handleClickChange(e){const t=+e;this.newValue=t,t<this.min||t>this.max||this.$nextTick((()=>{this.handleSliderChange(t)}))}handleTextChange(e){const t=+e;t!==this.newValue&&this.valid&&(this.newValue=t,this.$emit("input",t),this.lockState=this.locked)}handleSliderChange(e){const t=+e;this.valid?t!==this.value&&(this.$emit("input",t),this.lockState=this.locked):this.newValue=this.value}get isMobile(){return this.$vuetify.breakpoint.mobile}};(0,i.gn)([(0,n.fI)({type:Number,required:!0})],l.prototype,"value",void 0),(0,i.gn)([(0,n.fI)({type:String})],l.prototype,"valueLabel",void 0),(0,i.gn)([(0,n.fI)({type:Array,default:()=>[]})],l.prototype,"rules",void 0),(0,i.gn)([(0,n.fI)({type:String,required:!0})],l.prototype,"label",void 0),(0,i.gn)([(0,n.fI)({type:String})],l.prototype,"inputSm",void 0),(0,i.gn)([(0,n.fI)({type:String})],l.prototype,"inputXs",void 0),(0,i.gn)([(0,n.fI)({type:String})],l.prototype,"inputMd",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"readonly",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"disabled",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"instant",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"locked",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],l.prototype,"loading",void 0),(0,i.gn)([(0,n.fI)({type:Number,default:0})],l.prototype,"min",void 0),(0,i.gn)([(0,n.fI)({type:Number,default:100})],l.prototype,"max",void 0),(0,i.gn)([(0,n.fI)({type:Number,default:1})],l.prototype,"step",void 0),(0,i.gn)([(0,n.fI)({type:String})],l.prototype,"valueSuffix",void 0),(0,i.gn)([(0,n.RL)("value")],l.prototype,"onValueChange",null),(0,i.gn)([(0,n.RL)("newValue")],l.prototype,"onNewValueChange",null),(0,i.gn)([(0,n.RL)("locked")],l.prototype,"onLockedChange",null),l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(78053),g=s(46232),v=s(96428),f=s(24470),_=s(97611),y=s(29837),b=(0,p.Z)(d,r,a,!1,null,null,null),x=b.exports;m()(b,{VBtn:h.Z,VForm:g.Z,VIcon:v.Z,VLayout:f.Z,VSlider:_.Z,VTextField:y.Z})},69802:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[s("div",{staticClass:"text-body-1"},[e._v(" "+e._s(e.label)+" ")]),s("v-switch",{staticClass:"mt-0",attrs:{"input-value":e.value,disabled:e.disabled,"hide-details":"",flat:""},on:{change:e.emitChange}})],1)},a=[],i=s(70655),n=s(23940),o=s(47237);let l=class extends((0,n.Wr)(o.Z)){constructor(){super(...arguments),this.newValue=!1}onValueChange(e){this.newValue=e}mounted(){this.newValue=this.value}updateValue(e){this.newValue=e}emitChange(e){this.$emit("input",e)}};(0,i.gn)([(0,n.fI)({type:Boolean,required:!0})],l.prototype,"value",void 0),(0,i.gn)([(0,n.fI)({type:String,required:!0})],l.prototype,"label",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,required:!1,default:!1})],l.prototype,"disabled",void 0),(0,i.gn)([(0,n.RL)("value")],l.prototype,"onValueChange",null),l=(0,i.gn)([(0,n.wA)({})],l);var c=l,d=c,p=s(1001),u=s(43453),m=s.n(u),h=s(24470),g=s(61328),v=(0,p.Z)(d,r,a,!1,null,null,null),f=v.exports;m()(v,{VLayout:h.Z,VSwitch:g.Z})},61330:function(e,t,s){"use strict";s.r(t);var r,a,i=s(1001),n={},o=(0,i.Z)(n,r,a,!1,null,null,null);t["default"]=o.exports},99187:function(e,t,s){"use strict";s.d(t,{Z:function(){return M}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"console"},[!e.readonly&&e.flipLayout?s("console-command",{on:{send:e.sendCommand},model:{value:e.consoleCommand,callback:function(t){e.consoleCommand=t},expression:"consoleCommand"}}):e._e(),s("v-card",{ref:"console-wrapper",staticClass:"console-wrapper",attrs:{flat:""}},[s("DynamicScroller",{ref:"scroller",style:{height:e.height+"px"},attrs:{items:e.flipLayout?[].concat(e.items).reverse():e.items,"min-item-size":24,"key-field":e.keyField,buffer:600},on:{resize:function(t){return e.scrollToLatest()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item,a=t.index,i=t.active;return[s("DynamicScrollerItem",{attrs:{item:r,active:i,"size-dependencies":[r.message],"data-index":a}},[s("console-item",{key:r[e.keyField],staticClass:"console-item",attrs:{value:r},on:{click:e.handleEntryClick}})],1)]}}])})],1),e.readonly||e.flipLayout?e._e():s("console-command",{on:{send:e.sendCommand},model:{value:e.consoleCommand,callback:function(t){e.consoleCommand=t},expression:"consoleCommand"}})],1)},a=[],i=s(70655),n=s(23940),o=s(47237),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-row",{attrs:{align:"center"}},[s("v-col",[s("v-textarea",{ref:"input",attrs:{rows:1,value:e.newValue,items:e.history,"auto-grow":"",clearable:"",outlined:"","single-line":"",dense:"","hide-details":""},on:{input:e.emitChange,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.emitSend(e.newValue)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.historyUp()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.historyDown()}],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.autoComplete())}]}})],1),s("v-col",{attrs:{cols:"auto"}},[s("app-btn",{on:{click:function(t){return e.emitSend(e.newValue)}}},[e._v(" "+e._s(e.$t("app.general.btn.send"))+" ")])],1)],1)],1)},c=[],d=s(47307);let p=class extends n.w3{constructor(){super(...arguments),this.newValue="",this.commandHistoryCount=d.OH.CONSOLE_COMMAND_HISTORY,this.history=[],this.originalHistory=[],this.isFirst=!0}onValueChange(e){if(e){this.newValue=e;const t=this.$refs.input;t.focus()}else this.newValue=""}mounted(){this.newValue=this.value;const e=this.$store.state.console.commandHistory;this.history=[...e],this.originalHistory=[...e]}emitChange(e){this.newValue=e,this.$emit("input",e)}emitSend(e){e&&e.length>0&&(this.history.length>=this.commandHistoryCount&&this.originalHistory.pop(),this.originalHistory.unshift(e),this.$store.dispatch("console/onUpdateCommandHistory",[...this.originalHistory]),this.history=[...this.originalHistory],this.isFirst=!0,this.$emit("send",e))}historyUp(){if(this.history.length>=1){if(!this.isFirst){const e=this.history.shift();this.history.push(e)}this.emitChange(this.history[0]),this.isFirst=!1}}historyDown(){if(this.history.length>=1){if(!this.isFirst){const e=this.history.pop();this.history.unshift(e)}this.emitChange(this.history[0]),this.isFirst=!1}}autoComplete(){const e=this.$store.getters["console/getAllGcodeCommands"];if(this.newValue.length){const t=Object.keys(e).filter((e=>0===e.toLowerCase().indexOf(this.newValue.toLowerCase())));t&&1===t.length?this.emitChange(t[0]):t.forEach((t=>{const s=`// ${t}: ${e[t]}`;this.$store.dispatch("console/onAddConsoleEntry",{message:s,type:"response"})}))}}};(0,i.gn)([(0,n.fI)({type:String})],p.prototype,"value",void 0),(0,i.gn)([(0,n.RL)("value")],p.prototype,"onValueChange",null),p=(0,i.gn)([(0,n.wA)({})],p);var u=p,m=u,h=s(1001),g=s(43453),v=s.n(g),f=s(82102),_=s(4228),y=s(62877),b=s(34350),x=(0,h.Z)(m,l,c,!1,null,null,null),$=x.exports;v()(x,{VCol:f.Z,VContainer:_.Z,VRow:y.Z,VTextarea:b.Z});var w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{staticClass:"console-item"},[e.value.time?s("span",{staticClass:"secondary--text mr-3 d-none d-sm-block"},[e._v(" "+e._s(e.itemTime)+"  ")]):e._e(),s("span",{class:e.itemClass,domProps:{innerHTML:e._s(e.itemMessage)},on:{"!click":function(t){return e.itemClick.apply(null,arguments)}}})])},C=[];let k=class extends n.w3{get knownCommands(){const e=this.$store.getters["console/getAllGcodeCommands"];return new Set(Object.keys(e))}get itemMessage(){let e=this.value.message;return"response"===this.value.type&&(e=this.value.message.replace(/([A-Z0-9_]{2,})/gm,((e,t)=>this.knownCommands.has(t)?`<a class="primary--text text--lighten-1">${t.toUpperCase()}</a>`:e))),"command"===this.value.type?`${d.OH.CONSOLE_SEND_PREFIX}<a class="primary--text text--lighten-1">${e}</a>`:e}get itemTime(){return this.value.time?this.$dayjs(1e3*this.value.time).format("HH:mm:ss"):""}get itemClass(){return this.value.message.startsWith("!!")?{"error--text":!0}:"command"===this.value.type?{"primary--text":!0}:{"secondary--text":!0}}itemClick(e){const t=e.target;if("a"===t.tagName.toLowerCase()){const e=t.innerHTML.replaceAll(/<br>/g,"\n").replace(/^\s+|\s+$/gm,"");this.$emit("click",e)}}};(0,i.gn)([(0,n.fI)({type:Object,default:{}})],k.prototype,"value",void 0),k=(0,i.gn)([(0,n.wA)({})],k);var S=k,P=S,E=s(24470),Z=(0,h.Z)(P,w,C,!1,null,"7667cf74",null),R=Z.exports;v()(Z,{VLayout:E.Z});var T=s(63362);let L=class extends((0,n.Wr)(o.Z)){constructor(){super(...arguments),this._pauseScroll=!1}get availableCommands(){return this.$store.getters["console/getAllGcodeCommands"]}get consoleCommand(){return this.$store.state.console.consoleCommand}set consoleCommand(e){this.$store.commit("console/setConsoleCommand",e)}get flipLayout(){return this.$store.state.config.uiSettings.general.flipConsoleLayout}set flipLayout(e){this.scrollToLatest(!0)}mounted(){this.dynamicScroller.$el.addEventListener("scroll",this.onScroll)}beforeDestroy(){this.dynamicScroller.$el.removeEventListener("scroll",this.onScroll)}onItemsChange(e,t){if(this.dynamicScroller){const e=this.dynamicScroller.$el;if(!this.flipLayout||!this._pauseScroll&&this.$store.state.console.autoScroll)this.scrollToLatest(0===(null===t||void 0===t?void 0:t.length));else{const{scrollHeight:t,clientHeight:s}=e;t>s&&this.$nextTick((()=>{e.scrollTop+=e.scrollHeight-t}))}}}updateScrollingPaused(){this.$nextTick((()=>{const{scrollTop:e,scrollHeight:t,clientHeight:s}=this.dynamicScroller.$el,r=this.flipLayout?e>1:t-e-s>1;this._pauseScroll!==r&&(this._pauseScroll=r,this.$emit("update:scrollingPaused",r))}))}onScroll(){this.updateScrollingPaused()}scrollToLatest(e){this._pauseScroll&&!e||this.dynamicScroller&&((this.$store.state.console.autoScroll||this.readonly||e)&&(this.flipLayout?this.dynamicScroller.scrollToItem(0):this.dynamicScroller.scrollToBottom()),this.updateScrollingPaused())}sendCommand(e){e&&e.length&&(e&&"m112"===e.trim().toLowerCase()&&T.r.printerEmergencyStop(),this.sendGcode(e),this.consoleCommand="")}handleEntryClick(e){this.consoleCommand=e}};(0,i.gn)([(0,n.fI)({type:Array,default:[]})],L.prototype,"items",void 0),(0,i.gn)([(0,n.fI)({type:String,default:"id"})],L.prototype,"keyField",void 0),(0,i.gn)([(0,n.fI)({type:Number,default:250})],L.prototype,"height",void 0),(0,i.gn)([(0,n.fI)({type:Boolean,default:!1})],L.prototype,"readonly",void 0),(0,i.gn)([(0,n.Rl)("scroller")],L.prototype,"dynamicScroller",void 0),(0,i.gn)([(0,n.RL)("items",{immediate:!0})],L.prototype,"onItemsChange",null),L=(0,i.gn)([(0,n.wA)({components:{ConsoleCommand:$,ConsoleItem:R}})],L);var D=L,A=D,I=s(32371),V=(0,h.Z)(A,r,a,!1,null,"268e1321",null),M=V.exports;v()(V,{VCard:I.Z})},36708:function(e,t,s){var r={"./common/AddInstanceDialog.vue":87094,"./common/AppWarnings.vue":39630,"./common/CollapsableCard.vue":3444,"./common/FlashMessage.vue":23521,"./common/KlippyStatusCard.vue":67571,"./common/SocketDisconnected.vue":10059,"./common/SystemCommands.vue":7452,"./common/SystemControl.vue":10845,"./common/SystemLayout.vue":11515,"./common/SystemPrinters.vue":21742,"./common/UpdatingDialog.vue":7754,"./layout/AppAnnouncementDismissMenu.vue":1222,"./layout/AppBar.vue":50343,"./layout/AppFooter.vue":63224,"./layout/AppNavDrawer.vue":86343,"./layout/AppNotificationMenu.vue":14423,"./layout/AppSettingsNav.vue":61311,"./layout/AppToolsDrawer.vue":44195,"./layout/AppUserMenu.vue":84577,"./ui/AppBtn.vue":89710,"./ui/AppBtnCollapse.vue":62963,"./ui/AppBtnCollapseGroup.vue":60447,"./ui/AppBtnGroup.vue":50295,"./ui/AppBtnToolheadMove.vue":77452,"./ui/AppCardDrag.vue":36187,"./ui/AppChart.vue":36993,"./ui/AppCodeView.vue":59790,"./ui/AppColorPicker.vue":29668,"./ui/AppColumnPicker.vue":25033,"./ui/AppIcon.vue":21222,"./ui/AppInlineHelp.vue":84547,"./ui/AppIroColorPicker.vue":65459,"./ui/AppMacroBtn.vue":79593,"./ui/AppNamedInput.vue":96478,"./ui/AppNavItem.vue":20370,"./ui/AppQrCode.vue":26309,"./ui/AppSetting.vue":19451,"./ui/AppSlider.vue":28343,"./ui/AppSliderOld.vue":80484,"./ui/AppSwitch.vue":69802,"./ui/AppTable.vue":61330};function a(e){var t=i(e);return s(t)}function i(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=36708},51465:function(e,t,s){var r={"./ar.yaml":[40925,179],"./cn.yaml":[44494,372],"./cz.yaml":[54865,864],"./de.yaml":[38932,556],"./en.yaml":[32968],"./es.yaml":[5693,740],"./fr.yaml":[45218,895],"./hu.yaml":[1902,101],"./it.yaml":[65164,340],"./ja.yaml":[64501,801],"./ko.yaml":[55971,382],"./nl.yaml":[87191,992],"./pt.yaml":[12550,927],"./ru.yaml":[40595,223],"./uk.yaml":[62927,750],"./zh-HK.yaml":[36215,89]};function a(e){if(!s.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(s.e)).then((function(){return s.t(a,23)}))}a.keys=function(){return Object.keys(r)},a.id=51465,e.exports=a}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,r,a,i){if(!r){var n=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],i=e[d][2];for(var o=!0,l=0;l<r.length;l++)(!1&i||n>=i)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(o=!1,i<n&&(n=i));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,a,i]}}(),function(){s.F={},s.E=function(e){Object.keys(s.F).map((function(t){s.F[t](e)}))}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};s.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);s.r(i);var n={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){n[e]=function(){return r[e]}}));return n["default"]=function(){return r},s.d(i,n),i}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,r){return s.f[r](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+({28:"vue-echarts",85:"grammar-log-tmLanguage-json",89:"locale-zh-HK-yaml",101:"locale-hu-yaml",179:"locale-ar-yaml",223:"locale-ru-yaml",340:"locale-it-yaml",372:"locale-cn-yaml",382:"locale-ko-yaml",404:"monaco-editor",503:"grammar-gcode-tmLanguage-json",511:"grammar-klipper-config-tmLanguage-json",556:"locale-de-yaml",740:"locale-es-yaml",750:"locale-uk-yaml",801:"locale-ja-yaml",864:"locale-cz-yaml",895:"locale-fr-yaml",927:"locale-pt-yaml",992:"locale-nl-yaml"}[e]||e)+"."+{28:"ad2781d9",85:"9252378e",89:"a9110f74",101:"ec1d13cf",179:"d3586b3d",223:"b0af3c5c",259:"d5d51105",340:"692b80e2",372:"3387c331",382:"83a0b932",404:"5e353c5d",503:"e7e6314c",511:"39ff5708",556:"6169d5b5",740:"0d7c476e",750:"acd0dcbe",801:"773b5370",864:"b13e1e1a",895:"b703e20f",927:"e4fd1b6c",954:"dc8137c8",992:"1207f6c4"}[e]+".js"}}(),function(){s.miniCssF=function(e){return"css/monaco-editor.65abb57d.css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="fluidd:";s.l=function(r,a,i,n){if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var p=c[d];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+i){o=p;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var u=function(t,s){o.onerror=o.onload=null,clearTimeout(m);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((function(e){return e(s)})),t)return t(s)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e=function(e,t,s,r){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var i=function(i){if(a.onerror=a.onload=null,"load"===i.type)s();else{var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=o,a.parentNode.removeChild(a),r(l)}};return a.onerror=a.onload=i,a.href=t,document.head.appendChild(a),a},t=function(e,t){for(var s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var a=s[r],i=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var n=document.getElementsByTagName("style");for(r=0;r<n.length;r++){a=n[r],i=a.getAttribute("data-href");if(i===e||i===t)return a}},r=function(r){return new Promise((function(a,i){var n=s.miniCssF(r),o=s.p+n;if(t(n,o))return a();e(r,o,a,i)}))},a={143:0};s.f.miniCss=function(e,t){var s={404:1};a[e]?t.push(a[e]):0!==a[e]&&s[e]&&t.push(a[e]=r(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}(),function(){s.b=document.baseURI||self.location.href;var e={143:0};s.f.j=function(t,r){var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((function(s,r){a=e[t]=[s,r]}));r.push(a[2]=i);var n=s.p+s.u(t),o=new Error,l=function(r){if(s.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",o.name="ChunkLoadError",o.type=i,o.request=n,a[1](o)}};s.l(n,l,"chunk-"+t,t)}},s.F.j=function(t){if(!s.o(e,t)||void 0===e[t]){e[t]=null;var r=document.createElement("link");s.nc&&r.setAttribute("nonce",s.nc),r.rel="prefetch",r.as="script",r.href=s.p+s.u(t),document.head.appendChild(r)}},s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,n=r[0],o=r[1],l=r[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(l)var d=l(s)}for(t&&t(r);c<n.length;c++)i=n[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},r=self["webpackChunkfluidd"]=self["webpackChunkfluidd"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){s.O(0,[143],(function(){s.E(28),s.E(404)}),5)}();var r=s.O(void 0,[998],(function(){return s(1067)}));r=s.O(r)})();
//# sourceMappingURL=app.0ec76a30.js.map